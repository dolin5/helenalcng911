(function(){(this||window).webpackJsonp.registerAbsMids({"esri/layers/graphics/sources/support/MemorySourceWorker":870,"esri/layers/graphics/featureConversionUtils":879,"dojo/regexp":914,"esri/layers/graphics/data/QueryEngineCapabilities":944,"esri/layers/graphics/sources/support/sourceUtils":1961})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[77,38],{1961:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(35)],void 0===(i=function(e,t,r){function n(e){return new s(e)}function i(e,t){var n=t;return"string"==typeof t&&r.isNumericField(e)?n=parseFloat(t):null!=t&&r.isStringField(e)&&"string"!=typeof t&&(n=String(t)),r.sanitizeNullFieldValue(n)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){this.code=null,this.description=null};t.createFeatureEditError=function(e){return new o};var s=function(e){this.error=new o,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=e};t.createFeatureEditErrorResult=n;var a=function(e){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=e};t.createFeatureEditSuccessResult=function(e){return new a(e)};var u=new Set;t.mixAttributes=function(e,t,o,s,a,l){for(var d in void 0===a&&(a=!1),u.clear(),s){var c=e.get(d);if(c){var h=s[d],f=i(c,h);if(f!==h&&l&&l.push({name:"invalid-value-type",message:"attribute value was converted to match the field type",details:{field:c,originalValue:h,sanitizedValue:f}}),u.add(c.name),c&&(a||c.editable)){var p=r.validateFieldValue(c,f);if(p)return n(r.validationErrorToString(p,c,f));o[c.name]=f}}}for(var g=0,y=t;g<y.length;g++){var m=y[g];if(!u.has(m.name))return n('missing required field "'+m.name+'"')}return null}}.apply(null,n))||(e.exports=i)},870:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(6),r(8),r(7),r(11),r(4),r(184),r(55),r(37),r(879),r(937),r(885),r(938),r(1123),r(1961),r(274),r(337),r(35)],void 0===(i=function(e,t,r,n,i,o,s,a,u,l,d,c,h,f,p,g,y,m,v){function b(e){return u.isPoint(e)?null!=e.z:!!e.hasZ}function F(e){return u.isPoint(e)?null!=e.m:!!e.hasM}function I(e,t,r){if(e.geometry&&"rings"in e.geometry&&e.geometry.rings&&e.geometry.rings.length>0){var n=e.geometry.rings[0];a.isClockwise(n,t,r)||a.closeRingsAndFixWinding(e.geometry)}}Object.defineProperty(t,"__esModule",{value:!0});var T=l.WGS84,E={xmin:-180,ymin:-90,xmax:180,ymax:90,spatialReference:l.WGS84},_={hasAttachments:!1,capabilities:"query, editing, create, delete, update",useStandardizedQueries:!0,supportsCoordinatesQuantization:!0,supportsReturningQueryGeometry:!0,advancedQueryCapabilities:{supportsQueryAttachments:!1,supportsStatistics:!0,supportsReturningGeometryCentroid:!0,supportsQueryWithDistance:!0,supportsDistinct:!0,supportsReturningQueryExtent:!0,supportsReturningGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQueryWithResultType:!1,supportsSqlExpression:!0,supportsDisjointSpatialRel:!0}},w=function(){function e(){this._queryEngine=null,this._nextObjectId=null}return e.prototype.destroy=function(){this._queryEngine&&this._queryEngine&&this._queryEngine.destroy(),this._queryEngine=this._requiredFields=this._fieldsIndex=this._createDefaultAttributes=null},e.prototype.load=function(e,t){return void 0===t&&(t={}),n(this,void 0,void 0,(function(){var t,n,s,a,u,l,d,g,b,F,I,w,x,M,j,R,P,q,G,N,O,S,z,D,Z;return r(this,(function(r){switch(r.label){case 0:if(t=[],n=e.features,s=this._inferLayerProperties(n,e.fields),a=e.fields||[],u=null!=e.hasM?e.hasM:s.hasM,l=null!=e.hasZ?e.hasZ:s.hasZ,d=!e.spatialReference&&!s.spatialReference,g=d?T:e.spatialReference||s.spatialReference,b=d?E:null,F=e.geometryType||s.geometryType,I=e.objectIdField||s.objectIdField,w=e.timeInfo,d&&t.push({name:"feature-layer:spatial-reference-not-found",message:"Spatial reference not provided or found in features. Defaults to WGS84"}),!F)throw new o("feature-layer:missing-property","geometryType not set and couldn't be inferred from the provided features");if(!I)throw new o("feature-layer:missing-property","objectIdField not set and couldn't be found in the provided fields");for(s.objectIdField&&I!==s.objectIdField&&(t.push({name:"feature-layer:duplicated-oid-field",message:'Provided objectIdField "'+I+'" doesn\'t match the field name "'+s.objectIdField+'", found in the provided fields'}),I=s.objectIdField),I&&!s.objectIdField&&(x=null,a.some((function(e){return e.name===I&&(x=e,!0)}))?(x.type="esriFieldTypeOID",x.editable=!1,x.nullable=!1):a.unshift({alias:I,name:I,type:"esriFieldTypeOID",editable:!1,nullable:!1})),M=0,j=a;M<j.length;M++){if(null==(G=j[M]).name&&(G.name=G.alias),null==G.alias&&(G.alias=G.name),!G.name)throw new o("feature-layer:invalid-field-name","field name is missing",{field:G});if(G.name===I&&(G.type="esriFieldTypeOID"),-1===m.kebabDict.jsonValues.indexOf(G.type))throw new o("feature-layer:invalid-field-type",'invalid type for field "'+G.name+'"',{field:G})}for(R={},this._requiredFields=[],P=0,q=a;P<q.length;P++)"esriFieldTypeOID"!==(G=q[P]).type&&"esriFieldTypeGlobalID"!==G.type&&(G.editable=null==G.editable||!!G.editable,G.nullable=null==G.nullable||!!G.nullable,N=v.getFieldDefaultValue(G),G.nullable||void 0!==N?R[G.name]=N:this._requiredFields.push(G));return this._fieldsIndex=new y(a),this._createDefaultAttributes=p.createDefaultAttributesFunction(R,I),w&&(w.startTimeField&&((O=this._fieldsIndex.get(w.startTimeField))?(w.startTimeField=O.name,O.type="esriFieldTypeDate"):w.startTimeField=null),w.endTimeField&&((S=this._fieldsIndex.get(w.endTimeField))?(w.endTimeField=S.name,S.type="esriFieldTypeDate"):w.endTimeField=null),w.trackIdField&&((z=this._fieldsIndex.get(w.trackIdField))?w.trackIdField=z.name:(w.trackIdField=null,t.push({name:"feature-layer:invalid-timeInfo-trackIdField",message:"trackIdField is missing",details:{timeInfo:w}}))),w.startTimeField||w.endTimeField||(t.push({name:"feature-layer:invalid-timeInfo",message:"startTimeField and endTimeField are missing or invalid",details:{timeInfo:w}}),w=null)),D={warnings:t,featureErrors:[],layerDefinition:i({},_,{drawingInfo:p.createDrawingInfo(F),templates:p.createDefaultTemplate(R),extent:b,geometryType:F,objectIdField:I,fields:a,hasZ:!!l,hasM:!!u,timeInfo:w}),assignedObjectIds:{}},this._queryEngine=new f.default({fields:a,geometryType:F,hasM:u,hasZ:l,objectIdField:I,spatialReference:g,featureStore:new c.default({geometryType:F,hasM:u,hasZ:l}),timeInfo:w}),n&&n.length?(Z=n.reduce((function(e,t){var r=t.attributes&&t.attributes[I];return null==r||isNaN(r)||!isFinite(r)?e:Math.max(e,r)}),0),this._nextObjectId=1+Z,[4,h.checkProjectionSupport(n,g)]):(this._nextObjectId=1,[2,D]);case 1:return r.sent(),[2,this._loadInitialFeatures(D,n)]}}))}))},e.prototype.applyEdits=function(e){return n(this,void 0,void 0,(function(){var t;return r(this,(function(r){switch(r.label){case 0:return t=this._queryEngine.spatialReference,[4,s.all([h.checkProjectionSupport(e.adds,t),h.checkProjectionSupport(e.updates,t)])];case 1:return r.sent(),[2,this._applyEdits(e)]}}))}))},e.prototype.queryFeatures=function(e,t){return void 0===t&&(t={}),n(this,void 0,void 0,(function(){return r(this,(function(r){return[2,this._queryEngine.executeQuery(e,t.signal)]}))}))},e.prototype.queryFeatureCount=function(e,t){return void 0===t&&(t={}),n(this,void 0,void 0,(function(){return r(this,(function(r){return[2,this._queryEngine.executeQueryForCount(e,t.signal)]}))}))},e.prototype.queryObjectIds=function(e,t){return void 0===t&&(t={}),n(this,void 0,void 0,(function(){return r(this,(function(r){return[2,this._queryEngine.executeQueryForIds(e,t.signal)]}))}))},e.prototype.queryExtent=function(e,t){return void 0===t&&(t={}),n(this,void 0,void 0,(function(){return r(this,(function(r){return[2,this._queryEngine.executeQueryForExtent(e,t.signal)]}))}))},e.prototype._inferLayerProperties=function(e,t){for(var r=void 0,n=void 0,i=null,o=null,s=null,a=0,l=e;a<l.length;a++){var d=l[a].geometry;if(d&&(i||(i=u.getJsonType(d)),o||(o=d.spatialReference),null==r&&(r=b(d)),null==n&&(n=F(d)),i&&o&&null!=r&&null!=n))break}if(t&&t.length){var c=null;t.some((function(e){var t="esriFieldTypeOID"===e.type,r=!e.type&&e.name&&"objectid"===e.name.toLowerCase();return c=e,t||r}))&&(s=c.name)}return{geometryType:i,spatialReference:o,objectIdField:s,hasM:n,hasZ:r}},e.prototype._loadInitialFeatures=function(e,t){for(var r=this._queryEngine,n=r.geometryType,i=r.hasM,o=r.hasZ,s=r.objectIdField,a=r.spatialReference,l=r.featureStore,c=[],f=0,p=t;f<p.length;f++){var y=p[f];if(null!=y.uid&&(e.assignedObjectIds[y.uid]=-1),y.geometry&&n!==u.getJsonType(y.geometry))e.featureErrors.push(g.createFeatureEditErrorResult("Incorrect geometry type."));else{var m=this._createDefaultAttributes(),v=g.mixAttributes(this._fieldsIndex,this._requiredFields,m,y.attributes,!0,e.warnings);v?e.featureErrors.push(v):(this._assignObjectId(m,y.attributes,!0),y.attributes=m,null!=y.uid&&(e.assignedObjectIds[y.uid]=y.attributes[s]),y.geometry&&(I(y,i,o),y.geometry=h.project(y.geometry,y.geometry.spatialReference,a)),c.push(y))}}if(l.addMany(d.convertFromFeatures([],c,n,o,i,s)),e.layerDefinition.extent=this._queryEngine.fullExtent,e.layerDefinition.timeInfo){var b=this._queryEngine.timeExtent,F=b.start,T=b.end;e.layerDefinition.timeInfo.timeExtent=[F,T]}return e},e.prototype._applyEdits=function(e){var t=e.adds,r=e.updates,n=e.deletes,i={addResults:[],deleteResults:[],updateResults:[],uidToObjectId:{}};if(t&&t.length&&this._applyAddEdits(i,t),r&&r.length&&this._applyUpdateEdits(i,r),n&&n.length){for(var o=0,s=n;o<s.length;o++){var a=s[o];i.deleteResults.push(g.createFeatureEditSuccessResult(a))}this._queryEngine.featureStore.removeManyById(n)}return{fullExtent:this._queryEngine.fullExtent,featureEditResults:i}},e.prototype._applyAddEdits=function(e,t){for(var r=e.addResults,n=this._queryEngine,i=n.geometryType,o=n.hasM,s=n.hasZ,a=n.objectIdField,l=n.spatialReference,c=n.featureStore,f=[],p=0,y=t;p<y.length;p++){var m=y[p];if(I(m,o,s),m.geometry&&i!==u.getJsonType(m.geometry))r.push(g.createFeatureEditErrorResult("Incorrect geometry type."));else{var v=this._createDefaultAttributes(),b=g.mixAttributes(this._fieldsIndex,this._requiredFields,v,m.attributes);if(b)r.push(b);else{if(this._assignObjectId(v,m.attributes),m.attributes=v,null!=m.uid){var F=m.attributes[a];e.uidToObjectId[m.uid]=F}m.geometry&&(m.geometry=h.project(m.geometry,m.geometry.spatialReference,l)),f.push(m),r.push(g.createFeatureEditSuccessResult(m.attributes[a]))}}}c.addMany(d.convertFromFeatures([],f,i,s,o,a))},e.prototype._applyUpdateEdits=function(e,t){for(var r=e.updateResults,n=this._queryEngine,i=n.geometryType,o=n.hasM,s=n.hasZ,a=n.objectIdField,l=n.spatialReference,c=n.featureStore,f=0,p=t;f<p.length;f++){var y=p[f],m=y.attributes,v=y.geometry,b=m&&m[a];if(null!=b)if(c.has(b)){var F=d.convertToFeature(c.getFeature(b),i,s,o);if(v){if(i!==u.getJsonType(v)){r.push(g.createFeatureEditErrorResult("Incorrect geometry type."));continue}F.geometry=h.project(v,v.spatialReference,l),I(F,o,s)}if(m){var T=g.mixAttributes(this._fieldsIndex,this._requiredFields,F.attributes,m);if(T){r.push(T);continue}}c.add(d.convertFromFeature(F,i,s,o,a)),r.push(g.createFeatureEditSuccessResult(b))}else r.push(g.createFeatureEditErrorResult("Feature with object id "+b+" missing"));else r.push(g.createFeatureEditErrorResult("Identifier field "+a+" missing"))}},e.prototype._assignObjectId=function(e,t,r){void 0===r&&(r=!1);var n=this._queryEngine.objectIdField;r&&t&&isFinite(t[n])?e[n]=t[n]:e[n]=this._nextObjectId++},e}();t.default=w}.apply(null,n))||(e.exports=i)},879:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(11),r(9),r(55),r(883),r(892),r(876)],void 0===(i=function(e,t,r,n,i,o,s,a){function u(e,t){return e?t?4:3:t?3:2}function l(e,t){var r=e.scale,n=e.translate;return Math.round((t-n[0])/r[0])}function d(e,t){var r=e.scale,n=e.translate;return Math.round((n[1]-t)/r[1])}function c(e,t){var r=e.scale,n=e.translate;return t*r[0]+n[0]}function h(e,t){var r=e.scale;return e.translate[1]-t*r[1]}function f(e){var t=e.coords;return{x:t[0],y:t[1]}}function p(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e}function g(e){var t=e.coords;return{x:t[0],y:t[1],z:t[2]}}function y(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e}function m(e){var t=e.coords;return{x:t[0],y:t[1],m:t[2]}}function v(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.m,e}function b(e){var t=e.coords;return{x:t[0],y:t[1],z:t[2],m:t[3]}}function F(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e.coords[3]=t.m,e}function I(e,t){return e&&t?F:e?y:t?v:p}function T(e,t,r,n,i){for(var s=I(r,n),u=0,l=t;u<l.length;u++){var d=l[u],c=d.geometry,h=d.attributes,f=void 0;c&&(f=s(new a.default,c)),e.push(new o.default(f,h,null,h[i]))}return e}function E(e,t,r){if(!e)return null;for(var n=u(t,r),i=[],o=0;o<e.coords.length;o+=n){for(var s=[],a=0;a<n;a++)s.push(e.coords[o+a]);i.push(s)}return t?r?{points:i,hasZ:t,hasM:r}:{points:i,hasZ:t}:r?{points:i,hasM:r}:{points:i}}function _(e,t,r,n,i){for(var s=u(r,n),l=0,d=t;l<d.length;l++){var c=d[l],h=c.geometry,f=c.attributes,p=void 0;h&&(p=w(new a.default,h,s)),e.push(new o.default(p,f,null,f[i]))}return e}function w(e,t,r){void 0===r&&(r=u(t.hasZ,t.hasM)),e.lengths[0]=t.points.length;for(var n=e.coords,i=0,o=0,s=t.points;o<s.length;o++)for(var a=s[o],l=0;l<r;l++)n[i++]=a[l];return e}function x(e,t,r){if(!e)return null;for(var n=u(t,r),i=e.coords,o=[],s=0,a=0,l=e.lengths;a<l.length;a++){for(var d=l[a],c=[],h=0;h<d;h++){for(var f=[],p=0;p<n;p++)f.push(i[s++]);c.push(f)}o.push(c)}return t?r?{paths:o,hasZ:t,hasM:r}:{paths:o,hasZ:t}:r?{paths:o,hasM:r}:{paths:o}}function M(e,t,r,n,i){for(var s=u(r,n),l=0,d=t;l<d.length;l++){var c=d[l],h=c.geometry,f=c.attributes,p=void 0;h&&(p=j(new a.default,h,s)),e.push(new o.default(p,f,null,f[i]))}return e}function j(e,t,r){void 0===r&&(r=u(t.hasZ,t.hasM));for(var n=e.lengths,i=e.coords,o=0,s=0,a=t.paths;s<a.length;s++){for(var l=a[s],d=0,c=l;d<c.length;d++)for(var h=c[d],f=0;f<r;f++)i[o++]=h[f];n.push(l.length)}return e}function R(e,t,r){if(!e)return null;for(var n=u(t,r),i=e.coords,o=[],s=0,a=0,l=e.lengths;a<l.length;a++){for(var d=l[a],c=[],h=0;h<d;h++){for(var f=[],p=0;p<n;p++)f.push(i[s++]);c.push(f)}o.push(c)}return t?r?{rings:o,hasZ:t,hasM:r}:{rings:o,hasZ:t}:r?{rings:o,hasM:r}:{rings:o}}function P(e,t,r,n,i){for(var s=0,u=t;s<u.length;s++){var l=u[s],d=l.geometry,c=l.centroid,h=l.attributes,f=void 0;d&&(f=q(new a.default,d,r,n)),c?e.push(new o.default(f,h,p(new a.default,c),h[i])):e.push(new o.default(f,h,null,h[i]))}return e}function q(e,t,r,n){return void 0===r&&(r=t.hasZ),void 0===n&&(n=t.hasM),G(e,t.rings,r,n),e}function G(e,t,r,n){var i=u(r,n),o=e.lengths,s=e.coords,a=0;o.length=s.length=0;for(var l=0,d=t;l<d.length;l++){for(var c=d[l],h=0,f=c;h<f.length;h++)for(var p=f[h],g=0;g<i;g++)s[a++]=p[g];o.push(c.length)}return e}function N(e,t,n,i,s,a){if(e.length=0,!n){for(var u=0,l=t;u<l.length;u++){var d=l[u],c=d.attributes[a];e.push(new o.default(null,d.attributes,null,c))}return e}switch(n){case"esriGeometryPoint":return T(e,t,i,s,a);case"esriGeometryMultipoint":return _(e,t,i,s,a);case"esriGeometryPolyline":return M(e,t,i,s,a);case"esriGeometryPolygon":return P(e,t,i,s,a);default:k.error("convertToFeatureSet:unknown-geometry",new r("Unable to parse unknown geometry type '"+n+"'")),e.length=0}return e}function O(e,t,n,i,o){switch(e.length=0,n){case"esriGeometryPoint":return function(e,t,r,n){var i=f;r&&n?i=b:r?i=g:n&&(i=m);for(var o=0,s=t;o<s.length;o++){var a=s[o],u=a.geometry,l=a.attributes,d=u?i(u):null;e.push({attributes:l,geometry:d})}return e}(e,t,i,o);case"esriGeometryMultipoint":return function(e,t,r,n){for(var i=0,o=t;i<o.length;i++){var s=o[i],a=s.geometry,u=s.attributes,l=void 0;a&&(l=E(a,r,n)),e.push({attributes:u,geometry:l})}return e}(e,t,i,o);case"esriGeometryPolyline":return function(e,t,r,n){for(var i=0,o=t;i<o.length;i++){var s=o[i],a=s.geometry,u=s.attributes,l=void 0;a&&(l=x(a,r,n)),e.push({attributes:u,geometry:l})}return e}(e,t,i,o);case"esriGeometryPolygon":return function(e,t,r,n){for(var i=0,o=t;i<o.length;i++){var s=o[i],a=s.geometry,u=s.attributes,l=s.centroid,d=void 0;if(a&&(d=R(a,r,n)),l){var c=f(l);e.push({attributes:u,centroid:c,geometry:d})}else e.push({attributes:u,geometry:d})}return e}(e,t,i,o);default:k.error("convertToFeatureSet:unknown-geometry",new r("Unable to parse unknown geometry type '"+n+"'"))}return e}function S(e,t,r,n,i,o){if(e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0),!t||!t.coords.length)return null;var s=A[i],a=t.coords,c=t.lengths,h=u(r,n),f=r?n?V:C:n?C:Q;if(!c.length)return f(e.coords,a,0,0,l(o,a[0]),d(o,a[1])),e.lengths.length&&(e.lengths.length=0),e.coords.length=h,e;for(var p,g,y,m,v=0,b=0,F=b,I=0,T=c;I<T.length;I++){var E=T[I];if(!(E<s)){var _=0;b=F,y=p=l(o,a[v]),m=g=d(o,a[v+1]),f(e.coords,a,b,v,y,m),_++,v+=h,b+=h;for(var w=1;w<E;w++,v+=h)y=l(o,a[v]),m=d(o,a[v+1]),y===p&&m===g||(f(e.coords,a,b,v,y-p,m-g),b+=h,_++,p=y,g=m);_>=s&&(e.lengths.push(_),F=b)}}return e.coords.length=F,e.coords.length?e:null}function z(e,t,r,n){var i=e[t],o=e[t+1],s=e[r],a=e[r+1],u=e[n],l=e[n+1];if(s===u)return Math.abs(i-s);var d=(l-a)/(u-s),c=a-d*s;return Math.abs(d*i-o+c)/Math.sqrt(d*d+1)}function D(e,t,r,n,i,o,s){for(var a,u=o,l=s-r,d=0,c=0,h=o+r;h<s-r;h+=r)(a=z(t,h,u,l))>d&&(c=h,d=a);d>n?(D(e,t,r,n,i,o,c+r),D(e,t,r,n,i,c,s)):(i(e,t,e.length,u,t[u],t[u+1]),i(e,t,e.length,l,t[l],t[l+1]))}function Z(e,t,r,n,i){var o=t.coords,s=t.lengths,a=r?n?V:C:n?C:Q,l=u(r,n);if(!o.length)return e!==t&&(e.lengths.length=0,e.coords.length=0),e;if(!s.length)return a(e.coords,o,0,0,c(i,o[0]),h(i,o[1])),e!==t&&(e.lengths.length=0,e.coords.length=l),e;for(var d=i.scale,f=d[0],p=d[1],g=0,y=0;y<s.length;y++){var m=s[y];e.lengths[y]=m;var v=c(i,o[g]),b=h(i,o[g+1]);a(e.coords,o,g,g,v,b),g+=l;for(var F=1;F<m;F++,g+=l)v+=o[g]*f,b-=o[g+1]*p,a(e.coords,o,g,g,v,b)}return e!==t&&(e.lengths.length=s.length,e.coords.length=o.length),e}Object.defineProperty(t,"__esModule",{value:!0});var k=n.getLogger("esri.tasks.support.optimizedFeatureSet"),A={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},Q=function(e,t,r,n,i,o){e[r]=i,e[r+1]=o},C=function(e,t,r,n,i,o){e[r]=i,e[r+1]=o,e[r+2]=t[n+2]},V=function(e,t,r,n,i,o){e[r]=i,e[r+1]=o,e[r+2]=t[n+2],e[r+3]=t[n+3]};t.quantizeX=l,t.quantizeY=d,t.hydrateX=c,t.hydrateY=h,t.convertToPoint=function(e,t,r){return e?t?r?b(e):g(e):r?m(e):f(e):null},t.convertFromPoint=function(e,t,r){return void 0===r&&(r=I(null!=t.z,null!=t.m)),r(e,t)},t.convertToMultipoint=E,t.convertFromMultipoint=w,t.convertToPolyline=x,t.convertFromPolyline=j,t.convertToPolygon=R,t.convertFromPolygon=q,t.convertFromNestedArray=G;var Y=[],L=[];t.convertFromFeature=function(e,t,r,n,i){Y[0]=e;var o=N(L,Y,t,r,n,i)[0];return Y.length=L.length=0,o},t.convertFromFeatures=N,t.convertToFeature=function(e,t,r,n){L[0]=e,O(Y,L,t,r,n);var i=Y[0];return Y.length=L.length=0,i},t.convertFromGeometry=function(e,t,n){if(!e)return null;var o=new a.default;return"hasZ"in e&&null==t&&(t=e.hasZ),"hasM"in e&&null==n&&(n=e.hasM),i.isPoint(e)?I(null!=t?t:null!=e.z,null!=n?n:null!=e.m)(o,e):i.isPolygon(e)?q(o,e,t,n):i.isPolyline(e)?j(o,e,u(t,n)):i.isMultipoint(e)?w(o,e,u(t,n)):void k.error("convertFromGeometry:unknown-geometry",new r("Unable to parse unknown geometry type '"+e+"'"))},t.convertToGeometry=function(e,t,n,i){var o=e&&("coords"in e?e:e.geometry);if(!o)return null;switch(t){case"esriGeometryPoint":var s=f;return n&&i?s=b:n?s=g:i&&(s=m),s(o);case"esriGeometryMultipoint":return E(o,n,i);case"esriGeometryPolyline":return x(o,n,i);case"esriGeometryPolygon":return R(o,n,i);default:return void k.error("convertToGeometry:unknown-geometry",new r("Unable to parse unknown geometry type '"+t+"'"))}},t.convertToFeatures=O,t.convertToFeatureSet=function(e){var t=e.objectIdFieldName,r=e.spatialReference,n=e.transform,i=e.fields,o=e.hasM,s=e.hasZ,a=e.features,u=e.geometryType,l=e.exceededTransferLimit,d={features:O([],a,u,s,o),fields:i,geometryType:u,objectIdFieldName:t,spatialReference:r};return n&&(d.transform=n),l&&(d.exceededTransferLimit=l),o&&(d.hasM=o),s&&(d.hasZ=s),d},t.convertFromFeatureSet=function(e,t){var n=new s.default,i=e.hasM,o=e.hasZ,a=e.features,u=e.objectIdFieldName,l=e.spatialReference,d=e.geometryType,c=e.exceededTransferLimit,h=e.transform;return n.fields=e.fields,n.geometryType=d,n.objectIdFieldName=u||t,n.spatialReference=l,n.objectIdFieldName?(a&&N(n.features,a,d,o,i,n.objectIdFieldName),c&&(n.exceededTransferLimit=c),i&&(n.hasM=i),o&&(n.hasZ=o),h&&(n.transform=h),n):(k.error(new r("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),n)},t.hydrateOptimizedFeatureSet=function(e){var t=e.transform,r=e.features,n=e.hasM,i=e.hasZ;if(!t)return e;for(var o=0,s=r;o<s.length;o++){var a=s[o];a.geometry&&Z(a.geometry,a.geometry,n,i,t),a.centroid&&Z(a.centroid,a.centroid,n,i,t)}return e.transform=null,e},t.quantizeOptimizedFeatureSet=function(e,t){var r=t.geometryType,n=t.features,i=t.hasM,s=t.hasZ;if(!e)return t;for(var u=0;u<n.length;u++){var l=n[u],d=new o.default(new a.default,l.attributes);S(d.geometry,l.geometry,i,s,r,e),l.centroid&&(d.centroid=new a.default,S(d.centroid,l.centroid,i,s,"esriGeometryPoint",e)),n[u]=d}return t.transform=e,t},t.quantizeOptimizedGeometry=S,t.quantizeOptimizedGeometryRemoveCollinear=function(e,t,r,n,i,o){if(e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0),!t||!t.coords.length)return null;var s=A[i],a=t.coords,c=t.lengths,h=u(r,n),f=r?n?V:C:n?C:Q;if(!c.length)return f(e.coords,a,0,0,l(o,a[0]),d(o,a[1])),e.lengths.length&&(e.lengths.length=0),e.coords.length=h,e;for(var p,g,y,m,v=0,b=0,F=b,I=0,T=c;I<T.length;I++){var E=T[I];if(!(E<s)){var _=0;b=F,y=p=l(o,a[v]),m=g=d(o,a[v+1]),f(e.coords,a,b,v,y,m),_++,v+=h;for(var w=!1,x=0,M=0,j=1;j<E;j++,v+=h)if(y=l(o,a[v]),m=d(o,a[v+1]),y!==p||m!==g){var R=y-p,P=m-g;w&&(0===x&&0===R||0===M&&0===P)?(x+=R,M+=P,f(e.coords,a,b,v,x,M)):(w=!0,x=R,M=P,b+=h,_++,f(e.coords,a,b,v,x,M)),p=y,g=m}w&&(b+=h,f(e.coords,a,b,v,x,M)),_>=s&&(e.lengths.push(_),F=b)}}return e.coords.length!==F&&(e.coords.length=F),e.coords.length?e:null},t.generalizeOptimizedGeometry=function(e,t,r,n,i,o){if(e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0),!t||!t.coords.length)return null;var s=A[i],a=t.coords,l=t.lengths,d=u(r,n),c=r?n?V:C:n?C:Q;if(!l.length)return c(e.coords,a,0,0,a[0],a[1]),e.lengths.length&&(e.lengths.length=0),e.coords.length=d,e;for(var h=0,f=0,p=l;f<p.length;f++){var g=p[f];if(g<s)h+=g*d;else{var y=e.coords.length/d;D(e.coords,a,d,o,c,h,h+g*d);var m=e.coords.length/d-y;m>=s?e.lengths.push(m):e.coords.length=y*d,h+=g*d}}return e.coords.length?e:null},t.getBoundsOptimizedGeometry=function(e,t,r,n){var i=u(r,n),o=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY;if(t&&t.coords)for(var d=t.coords,c=0;c<d.length;c+=i){var h=d[c],f=d[c+1];o=Math.min(o,h),a=Math.max(a,h),s=Math.min(s,f),l=Math.max(l,f)}return e[0]=o,e[1]=s,e[2]=a,e[3]=l,e},t.getQuantizedBoundsOptimizedGeometry=function(e,t,r,n){for(var i=u(r,n),o=t.lengths,s=t.coords,a=Number.POSITIVE_INFINITY,l=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY,c=Number.NEGATIVE_INFINITY,h=0,f=0,p=o;f<p.length;f++){var g=p[f],y=s[h],m=s[h+1];a=Math.min(y,a),l=Math.min(m,l),d=Math.max(y,d),c=Math.max(m,c),h+=i;for(var v=1;v<g;v++,h+=i){var b=s[h],F=s[h+1];y+=b,m+=F,b<0&&(a=Math.min(a,y)),b>0&&(d=Math.max(d,y)),F<0?l=Math.min(l,m):F>0&&(c=Math.max(c,m))}}return e[0]=a,e[1]=l,e[2]=d,e[3]=c,e},t.hydrateOptimizedGeometry=Z}.apply(null,n))||(e.exports=i)},914:function(e,t,r){var n,i;n=[r(24),r(22)],void 0===(i=function(e,t){var r={};return t.setObject("dojo.regexp",r),r.escapeString=function(e,t){return e.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,(function(e){return t&&-1!=t.indexOf(e)?e:"\\"+e}))},r.buildGroupRE=function(e,t,n){if(!(e instanceof Array))return t(e);for(var i=[],o=0;o<e.length;o++)i.push(t(e[o]));return r.group(i.join("|"),n)},r.group=function(e,t){return"("+(t?"?:":"")+e+")"},r}.apply(null,n))||(e.exports=i)},944:function(e,t,r){var n,i;n=[r.dj.c(e.i),t],void 0===(i=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.queryCapabilities={supportsStatistics:!0,supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0}}.apply(null,n))||(e.exports=i)}}]);