(function(){(this||window).webpackJsonp.registerAbsMids({"esri/identity/IdentityManager":590,"dojo/regexp":650,"dojo/dom-class":659,"dijit/main":677,"dijit/registry":683,"dojo/domReady":697,"dojo/window":705,"dojo/ready":723,"dojo/touch":724,"dijit/_Widget":725,"dijit/_TemplatedMixin":733,"dojo/Stateful":769,"dijit/a11yclick":770,"dojo/string":771,"dijit/a11y":810,"dojo/query":811,"dijit/_WidgetBase":812,"dijit/Viewport":813,"dijit/Dialog":887,"dojo/_base/fx":888,"dojo/dnd/Moveable":889,"dojo/dnd/common":890,"dijit/focus":891,"dijit/_base/manager":892,"dijit/_CssStateMixin":893,"dijit/form/_FormMixin":894,"dijit/BackgroundIframe":895,"dijit/layout/_ContentPaneResizeMixin":896,"dijit/layout/utils":897,"esri/identity/IdentityManagerBase":898,"dojo/i18n!esri/identity/nls/identity":899,"dijit/form/Button":900,"dijit/form/_FormWidget":901,"dijit/form/_FormWidgetMixin":902,"esri/identity/IdentityManagerDialog":1169,"dojo/dnd/Mover":1172,"dojo/dnd/autoscroll":1173,"dojo/dnd/TimedMoveable":1174,"dojo/selector/_loader":1175,"dojo/selector/lite":1176,"dojo/selector/_loader!default":1176,"dijit/Destroyable":1177,"dijit/_BidiMixin":1178,"dijit/_OnDijitClickMixin":1179,"dijit/_FocusMixin":1180,"dojo/uacss":1181,"dijit/hccss":1182,"dojo/hccss":1183,"dojo/cache":1184,"dojo/text":1185,"dojo/request":1186,"dijit/_AttachMixin":1187,"dijit/_DialogMixin":1188,"dijit/DialogUnderlay":1189,"dijit/layout/ContentPane":1190,"dijit/_Container":1191,"dojo/html":1192,"dojo/parser":1193,"dojo/_base/url":1194,"dojo/date/stamp":1195,"dojo/i18n!dijit/nls/loading":1196,"dijit/nls/loading":1197,"dojo/text!dijit/templates/Dialog.html":1198,"dojo/i18n!dijit/nls/common":1199,"dijit/nls/common":1200,"dojo/cookie":1201,"esri/identity/OAuthCredential":1202,"esri/identity/OAuthInfo":1203,"esri/identity/ServerInfo":1204,"esri/identity/nls/identity":1205,"dijit/form/_ButtonMixin":1206,"dojo/text!dijit/form/templates/Button.html":1207,"dijit/form/Form":1208,"dijit/form/ValidationTextBox":1209,"dijit/form/TextBox":1210,"dijit/form/_FormValueWidget":1211,"dijit/form/_FormValueMixin":1212,"dijit/form/_TextBoxMixin":1213,"dojo/text!dijit/form/templates/TextBox.html":1214,"dijit/Tooltip":1215,"dijit/place":1216,"dojo/text!dijit/templates/Tooltip.html":1217,"dojo/text!dijit/form/templates/ValidationTextBox.html":1218,"dojo/i18n!dijit/form/nls/validate":1219,"dijit/form/nls/validate":1220,"esri/identity/OAuthSignInHandler":1221,"esri/identity/Credential":1222})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[42,38],{1169:function(t,e,i){var n,o;n=[i(128),i(662),i(704),i(683),i(887),i(79),i(5),i(11),i(102),i(4),i(320),i(898),i(899),i(900),i(1208),i(1209)],void 0===(o=function(t,e,i,n,o,r,s,a,d,c,l,u,h){var p=l.substitute,f=u.IdentityManagerBase,v=u.Credential;return t([f],{declaredClass:"esri.identity.IdentityManager",constructor:function(t){s.mixin(this,t)},_dialogContent:"<div data-dojo-type='dijit.form.Form' data-dojo-props='\"class\":\"esriIdForm\"'><div class='dijitDialogPaneContentArea'><div style='padding-bottom: 5px; word-wrap: break-word;'>{info}</div><div style='margin: 0px; padding: 0px; height: 10px;'></div><div class='esriErrorMsg' style='display: none; color: white; background-color: #D46464; text-align: center; padding-top: 3px; padding-bottom: 3px;'>{invalidUser}</div><div style='margin: 0px; padding: 0px; height: 10px;'></div><table style='width: 100%;'><tr><td>"+'<label>{lblUser}<br/><input data-dojo-type=\'dijit.form.ValidationTextBox\' data-dojo-props=\'type:"text", "class":"esriIdUser", required:true, trim:true, style:"width: 100%;", autocapitalize:"none", autocorrect:"off", spellcheck:false\' /></label></td></tr><tr><td><label>{lblPwd}<br/><input data-dojo-type=\'dijit.form.ValidationTextBox\' data-dojo-props=\'type:"password", "class":"esriIdPwd", required:true, style:"width: 100%;"\' /></label></td></tr></table></div><div class=\'dijitDialogPaneActionBar\'><button data-dojo-type=\'dijit.form.Button\' data-dojo-props=\'type:"button", "class":"esriIdSubmit"\'>{lblOk}</button><button data-dojo-type=\'dijit.form.Button\' data-dojo-props=\'type:"button", "class":"esriIdCancel"\'>{lblCancel}</button></div></div>',signIn:function(t,i,n){this._nls||(this._nls=h),this._loginDialog||(this._loginDialog=this.dialog=this._createLoginDialog(),this.emit("dialog-create"));var o=this._loginDialog,r=n&&n.error,s=n&&n.token,l=c.createResolver();if(n&&n.signal&&c.onAbort(n.signal,(function(){o.onCancel()})),o.open){var u=new a("identity-manager:busy","BUSY");return l.reject(u),l.promise}return d.hide(o.errMsg_),r&&r.details&&403==r.details.httpStatus&&s&&(e.set(o.errMsg_,"innerHTML",this._nls.forbidden),d.show(o.errMsg_)),o.dfd_=l,o.serverInfo_=i,o.resUrl_=t,o.admin_=n&&n.isAdmin,o.signal_=n&&n.signal,e.set(o.resLink_,{title:t,innerHTML:"("+(this.getResourceName(t)||this._nls.lblItem)+")"}),e.set(o.serverLink_,{title:i.server,innerHTML:(-1!==i.server.toLowerCase().indexOf("arcgis.com")?"ArcGIS Online":i.server)+" "}),o.txtPwd_.set("value",""),o.show(),l.promise},_createLoginDialog:function(){var t=this._nls,s=p(this._dialogContent,t);s=p(s,{resource:"<span class='resLink' style='word-wrap: break-word;'></span>",server:"<span class='serverLink' style='word-wrap: break-word;'></span>"});var c=new o({title:t.title,content:s,class:" esri-widget esriSignInDialog esriIdentityDialog",style:"width: 18em;",esriIdMgr_:this,onShow:function(){this.domNode.classList.add("esriIdentityDialog--visible")},onHide:function(){this.domNode.classList.remove("esriIdentityDialog--visible")},keypressed_:function(t){t.charOrCode===i.ENTER&&this.execute_()},execute_:function(){var i=this.txtUser_.get("value"),n=this.txtPwd_.get("value"),s=this.dfd_,a=this;if(this.form_.validate()&&i&&n){this.btnSubmit_.set("label",t.lblSigning);var c=r.id.findCredential(a.resUrl_,i),l=function(e){a.btnSubmit_.set("label",t.lblOk),a.btnSubmit_.set("disabled",!1),d.hide(a.errMsg_),a.hide(),o._DialogLevelManager.hide(a);var n=a.serverInfo_;a.dfd_=a.serverInfo_=a.generateDfd_=a.resUrl_=a.signal_=null;var r,l,u,h=c;e&&(r=e.token,l=null!=e.expires?Number(e.expires):null,u=!!e.ssl,h?(h.userId=i,h.token=r,h.expires=l,h.validity=e.validity,h.ssl=u,h.creationTime=Date.now()):h=new v({userId:i,server:n.server,token:r,expires:l,ssl:u,isAdmin:a.admin_,validity:e.validity})),s.resolve(h)};if(c&&!c._enqueued)return void l();a.btnSubmit_.set("disabled",!0),a.generateDfd_=r.id.generateToken(this.serverInfo_,{username:i,password:n},{isAdmin:this.admin_,signal:this.signal_}).then(l,(function(i){a.btnSubmit_.set("disabled",!1),a.generateDfd_=null,a.btnSubmit_.set("label",t.lblOk),e.set(a.errMsg_,"innerHTML",i&&i.details&&i.details.httpStatus?t.invalidUser:t.noAuthService),d.show(a.errMsg_)}))}},cancel_:function(){var t=c.dfd_,e=c.resUrl_,i=c.serverInfo_;c.btnSubmit_.set("disabled",!1),c.dfd_=c.serverInfo_=c.generateDfd_=c.resUrl_=c.signal_=null,d.hide(c.errMsg_),o._DialogLevelManager.hide(c),c.esriIdMgr_.emit("dialog-cancel",{resourceUrl:e,serverInfo:i});var n=new a("identity-manager:user-aborted","ABORTED");t.reject(n)}}),l=c.domNode;return c.form_=n.byNode(l.getElementsByClassName("esriIdForm")[0]),c.txtUser_=n.byNode(l.getElementsByClassName("esriIdUser")[0]),c.txtPwd_=n.byNode(l.getElementsByClassName("esriIdPwd")[0]),c.btnSubmit_=n.byNode(l.getElementsByClassName("esriIdSubmit")[0]),c.btnCancel_=n.byNode(l.getElementsByClassName("esriIdCancel")[0]),c.resLink_=l.getElementsByClassName("resLink")[0],c.serverLink_=l.getElementsByClassName("serverLink")[0],c.errMsg_=l.getElementsByClassName("esriErrorMsg")[0],c.connect(c.txtUser_,"onKeyPress",c.keypressed_),c.connect(c.txtPwd_,"onKeyPress",c.keypressed_),c.connect(c.btnSubmit_,"onClick",c.execute_),c.connect(c.btnCancel_,"onClick",c.onCancel),c.connect(c,"onCancel",c.cancel_),c}})}.apply(null,n))||(t.exports=o)},1172:function(t,e,i){var n,o;n=[i(59),i(273),i(22),i(68),i(175),i(172),i(655),i(638),i(297),i(117),i(724),i(890),i(1173)],void 0===(o=function(t,e,i,n,o,r,s,a,d,c,l,u,h){return e("dojo.dnd.Mover",[d],{constructor:function(t,e,n){this.node=r.byId(t),this.marginBox={l:e.pageX,t:e.pageY},this.mouseButton=e.button;var o=this.host=n,s=t.ownerDocument;function a(t){t.preventDefault(),t.stopPropagation()}this.events=[c(s,l.move,i.hitch(this,"onFirstMove")),c(s,l.move,i.hitch(this,"onMouseMove")),c(s,l.release,i.hitch(this,"onMouseUp")),c(s,"dragstart",a),c(s.body,"selectstart",a)],h.autoScrollStart(s),o&&o.onMoveStart&&o.onMoveStart(this)},onMouseMove:function(t){h.autoScroll(t);var e=this.marginBox;this.host.onMove(this,{l:e.l+t.pageX,t:e.t+t.pageY},t),t.preventDefault(),t.stopPropagation()},onMouseUp:function(t){(n("webkit")&&n("mac")&&2==this.mouseButton?0==t.button:this.mouseButton==t.button)&&this.destroy(),t.preventDefault(),t.stopPropagation()},onFirstMove:function(t){var e,i,n=this.node.style,r=this.host;switch(n.position){case"relative":case"absolute":e=Math.round(parseFloat(n.left))||0,i=Math.round(parseFloat(n.top))||0;break;default:n.position="absolute";var d=s.getMarginBox(this.node),c=o.doc.body,l=a.getComputedStyle(c),u=s.getMarginBox(c,l),h=s.getContentBox(c,l);e=d.l-(h.l-u.l),i=d.t-(h.t-u.t)}this.marginBox.l=e-this.marginBox.l,this.marginBox.t=i-this.marginBox.t,r&&r.onFirstMove&&r.onFirstMove(this,t),this.events.shift().remove()},destroy:function(){t.forEach(this.events,(function(t){t.remove()}));var e=this.host;e&&e.onMoveStop&&e.onMoveStop(this),this.events=this.node=this.host=null}})}.apply(null,n))||(t.exports=o)},1173:function(t,e,i){var n,o;n=[i(22),i(68),i(175),i(655),i(638),i(705)],void 0===(o=function(t,e,i,n,o,r){var s={};t.setObject("dojo.dnd.autoscroll",s),s.getViewport=r.getBox,s.V_TRIGGER_AUTOSCROLL=32,s.H_TRIGGER_AUTOSCROLL=32,s.V_AUTOSCROLL_VALUE=16,s.H_AUTOSCROLL_VALUE=16;var a,d=i.doc,c=1/0,l=1/0;return s.autoScrollStart=function(t){d=t,a=r.getBox(d);var e=i.body(d).parentNode;c=Math.max(e.scrollHeight-a.h,0),l=Math.max(e.scrollWidth-a.w,0)},s.autoScroll=function(t){var e=a||r.getBox(d),n=i.body(d).parentNode,o=0,u=0;t.clientX<s.H_TRIGGER_AUTOSCROLL?o=-s.H_AUTOSCROLL_VALUE:t.clientX>e.w-s.H_TRIGGER_AUTOSCROLL&&(o=Math.min(s.H_AUTOSCROLL_VALUE,l-n.scrollLeft)),t.clientY<s.V_TRIGGER_AUTOSCROLL?u=-s.V_AUTOSCROLL_VALUE:t.clientY>e.h-s.V_TRIGGER_AUTOSCROLL&&(u=Math.min(s.V_AUTOSCROLL_VALUE,c-n.scrollTop)),window.scrollBy(o,u)},s._validNodes={div:1,p:1,td:1},s._validOverflow={auto:1,scroll:1},s.autoScrollNodes=function(t){for(var r,a,d,c,l,u,h=0,p=0,f=t.target;f;){if(1==f.nodeType&&f.tagName.toLowerCase()in s._validNodes){var v=o.getComputedStyle(f),_=v.overflowX.toLowerCase()in s._validOverflow,g=v.overflowY.toLowerCase()in s._validOverflow;if((_||g)&&(r=n.getContentBox(f,v),a=n.position(f,!0)),_&&(d=Math.min(s.H_TRIGGER_AUTOSCROLL,r.w/2),l=t.pageX-a.x,(e("webkit")||e("opera"))&&(l+=i.body().scrollLeft),h=0,l>0&&l<r.w&&(l<d?h=-d:l>r.w-d&&(h=d),f.scrollLeft,f.scrollLeft=f.scrollLeft+h)),g&&(c=Math.min(s.V_TRIGGER_AUTOSCROLL,r.h/2),u=t.pageY-a.y,(e("webkit")||e("opera"))&&(u+=i.body().scrollTop),p=0,u>0&&u<r.h&&(u<c?p=-c:u>r.h-c&&(p=c),f.scrollTop,f.scrollTop=f.scrollTop+p)),h||p)return}try{f=f.parentNode}catch(t){f=null}}s.autoScroll(t)},s}.apply(null,n))||(t.exports=o)},1174:function(t,e,i){var n,o;n=[i(273),i(889)],void 0===(o=function(t,e){var i=e.prototype.onMove;return t("dojo.dnd.TimedMoveable",e,{timeout:40,constructor:function(t,e){e||(e={}),e.timeout&&"number"==typeof e.timeout&&e.timeout>=0&&(this.timeout=e.timeout)},onMoveStop:function(t){t._timer&&(clearTimeout(t._timer),i.call(this,t,t._leftTop)),e.prototype.onMoveStop.apply(this,arguments)},onMove:function(t,e){if(t._leftTop=e,!t._timer){var n=this;t._timer=setTimeout((function(){t._timer=null,i.call(n,t,t._leftTop)}),this.timeout)}}})}.apply(null,n))||(t.exports=o)},1175:function(t,e,i){var n,o;n=[i(25),i.dj.c(t.i)],void 0===(o=function(t,e){"use strict";if("undefined"!=typeof document){var i=document.createElement("div");t.add("dom-qsa2.1",!!i.querySelectorAll),t.add("dom-qsa3",(function(){try{return i.innerHTML="<p class='TEST'></p>",1==i.querySelectorAll(".TEST:empty").length}catch(t){}}))}var n;return{load:function(i,o,r,s){if(s&&s.isBuild)r();else{var a=e;if("?"==(i="css2"==(i="default"==i?t("config-selectorEngine")||"css3":i)||"lite"==i?"./lite":"css2.1"==i?"./lite":"css3"==i?"./lite":"acme"==i?"./acme":(a=o)&&i).charAt(i.length-1)){i=i.substring(0,i.length-1);var d=!0}if(d&&(t("dom-compliant-qsa")||n))return r(n);a([i],(function(t){"./lite"!=i&&(n=t),r(t)}))}}}}.apply(null,n))||(t.exports=o)},1176:function(t,e,i){var n,o;n=[i(25),i(24)],void 0===(o=function(t,e){"use strict";var i=document.createElement("div"),n=i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector,o=i.querySelectorAll,r=/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g;t.add("dom-matches-selector",!!n),t.add("dom-qsa",!!o);var s=function(i,n){var r=n?n.ownerDocument||n:e.doc||document,d=(o?/^([\w]*)#([\w\-]+$)|^(\.)([\w\-\*]+$)|^(\w+$)/:/^([\w]*)#([\w\-]+)(?:\s+(.*))?$|(?:^|(>|.+\s+))([\w\-\*]+)(\S*$)/).exec(i);if(n=n||r,d){var c=8===t("ie")&&t("quirks")?n.nodeType===r.nodeType:null!==n.parentNode&&9!==n.nodeType&&n.parentNode===r;if(d[2]&&c){var l;if(!(l=e.byId?e.byId(d[2],r):r.getElementById(d[2]))||d[1]&&d[1]!=l.tagName.toLowerCase())return[];if(n!=r)for(var u=l;u!=n;)if(!(u=u.parentNode))return[];return d[3]?s(d[3],l):[l]}if(d[3]&&n.getElementsByClassName)return n.getElementsByClassName(d[4]);if(d[5]){if(l=n.getElementsByTagName(d[5]),!d[4]&&!d[6])return l;i=(d[4]||"")+d[6]}}if(o)return 1===n.nodeType&&"object"!==n.nodeName.toLowerCase()?a(n,i,n.querySelectorAll):n.querySelectorAll(i);l||(l=n.getElementsByTagName("*"));for(var h=[],p=0,f=l.length;p<f;p++){var v=l[p];1==v.nodeType&&(void 0)(v,i,n)&&h.push(v)}return h},a=function(t,e,i){var n=t,o=t.getAttribute("id"),s=o||"__dojo__",a=t.parentNode,d=/^\s*[+~]/.test(e);if(d&&!a)return[];o?s=s.replace(/'/g,"\\$&"):t.setAttribute("id",s),d&&a&&(t=t.parentNode);for(var c=e.match(r),l=0;l<c.length;l++)c[l]="[id='"+s+"'] "+c[l];e=c.join(",");try{return i.call(t,e)}finally{o||n.removeAttribute("id")}};return s.match=n?function(t,e,i){return i&&9!=i.nodeType?a(i,e,(function(e){return n.call(t,e)})):n.call(t,e)}:void 0,s}.apply(null,n))||(t.exports=o)},1177:function(t,e,i){var n,o;n=[i(59),i(122),i(273)],void 0===(o=function(t,e,i){return i("dijit.Destroyable",null,{destroy:function(t){this._destroyed=!0},own:function(){var i=["destroyRecursive","destroy","remove"];return t.forEach(arguments,(function(n){var o,r=e.before(this,"destroy",(function(t){n[o](t)})),s=[];function a(){r.remove(),t.forEach(s,(function(t){t.remove()}))}n.then?(o="cancel",n.then(a,a)):t.forEach(i,(function(t){"function"==typeof n[t]&&(o||(o=t),s.push(e.after(n,t,a,!0)))}))}),this),arguments}})}.apply(null,n))||(t.exports=o)},1178:function(t,e,i){var n;void 0===(n=function(){var t="‪",e="‬",i="‫";return{getTextDir:function(t){return"auto"==this.textDir?this._checkContextual(t):this.textDir},_checkContextual:function(t){var e=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(t);return e?e[0]<="z"?"ltr":"rtl":this.dir?this.dir:this.isLeftToRight()?"ltr":"rtl"},applyTextDir:function(t,e){if(this.textDir){var i=this.textDir;if("auto"==i){if(void 0===e){var n=t.tagName.toLowerCase();e="input"==n||"textarea"==n?t.value:t.innerText||t.textContent||""}i=this._checkContextual(e)}t.dir!=i&&(t.dir=i)}},enforceTextDirWithUcc:function(n,o){return this.textDir?(n&&(n.originalText=o),("ltr"==("auto"==this.textDir?this._checkContextual(o):this.textDir)?t:i)+o+e):o},restoreOriginalText:function(t){return t.originalText&&(t.text=t.originalText,delete t.originalText),t},_setTextDirAttr:function(t){if(!this._created||this.textDir!=t){this._set("textDir",t);var e=null;this.displayNode?(e=this.displayNode,this.displayNode.align="rtl"==this.dir?"right":"left"):e=this.textDirNode||this.focusNode||this.textbox,e&&this.applyTextDir(e)}}}}.apply(null,[]))||(t.exports=n)},1179:function(t,e,i){var n,o;n=[i(117),i(59),i(704),i(273),i(25),i(770)],void 0===(o=function(t,e,i,n,o,r){var s=n("dijit._OnDijitClickMixin",null,{connect:function(t,e,i){return this.inherited(arguments,[t,"ondijitclick"==e?r:e,i])}});return s.a11yclick=r,s}.apply(null,n))||(t.exports=o)},1180:function(t,e,i){var n,o;n=[i(891),i(812),i(273),i(22)],void 0===(o=function(t,e,i,n){return n.extend(e,{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}}),i("dijit._FocusMixin",null,{_focusManager:t})}.apply(null,n))||(t.exports=o)},1181:function(t,e,i){var n,o;n=[i(655),i(22),i(697),i(68),i(175)],void 0===(o=function(t,e,i,n,o){var r=o.doc.documentElement,s=n("ie"),a=n("trident"),d=n("opera"),c=Math.floor,l=n("ff"),u=t.boxModel.replace(/-/,""),h={dj_quirks:n("quirks"),dj_opera:d,dj_khtml:n("khtml"),dj_webkit:n("webkit"),dj_safari:n("safari"),dj_chrome:n("chrome"),dj_edge:n("edge"),dj_gecko:n("mozilla"),dj_ios:n("ios"),dj_android:n("android")};s&&(h.dj_ie=!0,h["dj_ie"+c(s)]=!0,h.dj_iequirks=n("quirks")),a&&(h.dj_trident=!0,h["dj_trident"+c(a)]=!0),l&&(h["dj_ff"+c(l)]=!0),h["dj_"+u]=!0;var p="";for(var f in h)h[f]&&(p+=f+" ");return r.className=e.trim(r.className+" "+p),i((function(){if(!t.isBodyLtr()){var i="dj_rtl dijitRtl "+p.replace(/ /g,"-rtl ");r.className=e.trim(r.className+" "+i+"dj_rtl dijitRtl "+p.replace(/ /g,"-rtl "))}})),n}.apply(null,n))||(t.exports=o)},1182:function(t,e,i){var n,o;n=[i(659),i(1183),i(697),i(175)],void 0===(o=function(t,e,i,n){return i((function(){e("highcontrast")&&t.add(n.body(),"dijit_a11y")})),e}.apply(null,n))||(t.exports=o)},1183:function(t,e,i){var n,o;n=[i.dj.c(t.i),i(125),i(659),i(638),i(25),i(697),i(175)],void 0===(o=function(t,e,i,n,o,r,s){return o.add("highcontrast",(function(){var i=s.doc.createElement("div");try{i.style.cssText='border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("'+(e.blankGif||t.toUrl("./resources/blank.gif"))+'");',s.body().appendChild(i);var r=n.getComputedStyle(i),a=r.backgroundImage;return r.borderTopColor==r.borderRightColor||a&&("none"==a||"url(invalid-url:)"==a)}catch(t){return console.warn("hccss: exception detecting high-contrast mode, document is likely hidden: "+t.toString()),!1}finally{o("ie")<=8?i.outerHTML="":s.body().removeChild(i)}})),r((function(){o("highcontrast")&&i.add(s.body(),"dj_a11y")})),o}.apply(null,n))||(t.exports=o)},1184:function(t,e,i){var n,o;n=[i(24),i(1185)],void 0===(o=function(t){return t.cache}.apply(null,n))||(t.exports=o)},1185:function(t,e,i){var n,o;n=[i(24),i.dj.c(t.i),i(25),i(1186)],void 0===(o=function(t,e,i,n){var o;o=function(t,e,i){n(t,{sync:!!e,headers:{"X-Requested-With":null}}).then(i)};var r={},s=function(t){if(t){var e=(t=t.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"")).match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);e&&(t=e[1])}else t="";return t},a={},d={};return t.cache=function(t,i,n){var a;"string"==typeof t?/\//.test(t)?(a=t,n=i):a=e.toUrl(t.replace(/\./g,"/")+(i?"/"+i:"")):(a=t+"",n=i);var d=null!=n&&"string"!=typeof n?n.value:n,c=n&&n.sanitize;return"string"==typeof d?(r[a]=d,c?s(d):d):null===d?(delete r[a],null):(a in r||o(a,!0,(function(t){r[a]=t})),c?s(r[a]):r[a])},{dynamic:!0,normalize:function(t,e){var i=t.split("!"),n=i[0];return(/^\./.test(n)?e(n):n)+(i[1]?"!"+i[1]:"")},load:function(t,e,i){var n=t.split("!"),c=n.length>1,l=n[0],u=e.toUrl(n[0]),h="url:"+u,p=a,f=function(t){i(c?s(t):t)};if(l in r?p=r[l]:e.cache&&h in e.cache?p=e.cache[h]:u in r&&(p=r[u]),p===a)if(d[u])d[u].push(f);else{var v=d[u]=[f];o(u,!e.async,(function(t){r[l]=r[u]=t;for(var e=0;e<v.length;)v[e++](t);delete d[u]}))}else f(p)}}}.apply(null,n))||(t.exports=o)},1186:function(t,e,i){var n,o;n=[i(329)],void 0===(o=function(t){return t}.apply(null,n))||(t.exports=o)},1187:function(t,e,i){var n,o;n=[i.dj.c(t.i),i(59),i(768),i(273),i(22),i(722),i(117),i(724),i(812)],void 0===(o=function(t,e,i,n,o,r,s,a,d){var c,l=o.delegate(a,{mouseenter:r.enter,mouseleave:r.leave,keypress:i._keypress}),u=n("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[],this._attachEvents=[]},buildRendering:function(){this.inherited(arguments),this._attachTemplateNodes(this.domNode),this._beforeFillContent()},_beforeFillContent:function(){},_attachTemplateNodes:function(t){for(var e=t;;)if(1==e.nodeType&&(this._processTemplateNode(e,(function(t,e){return t.getAttribute(e)}),this._attach)||this.searchContainerNode)&&e.firstChild)e=e.firstChild;else{if(e==t)return;for(;!e.nextSibling;)if((e=e.parentNode)==t)return;e=e.nextSibling}},_processTemplateNode:function(t,e,i){var n=!0,r=this.attachScope||this,s=e(t,"dojoAttachPoint")||e(t,"data-dojo-attach-point");if(s)for(var a,d=s.split(/\s*,\s*/);a=d.shift();)o.isArray(r[a])?r[a].push(t):r[a]=t,n="containerNode"!=a,this._attachPoints.push(a);var c=e(t,"dojoAttachEvent")||e(t,"data-dojo-attach-event");if(c)for(var l,u=c.split(/\s*,\s*/),h=o.trim;l=u.shift();)if(l){var p=null;if(-1!=l.indexOf(":")){var f=l.split(":");l=h(f[0]),p=h(f[1])}else l=h(l);p||(p=l),this._attachEvents.push(i(t,l,o.hitch(r,p)))}return n},_attach:function(e,i,n){return i="dijitclick"==(i=i.replace(/^on/,"").toLowerCase())?c||(c=t("./a11yclick")):l[i]||i,s(e,i,n)},_detachTemplateNodes:function(){var t=this.attachScope||this;e.forEach(this._attachPoints,(function(e){delete t[e]})),this._attachPoints=[],e.forEach(this._attachEvents,(function(t){t.remove()})),this._attachEvents=[]},destroyRendering:function(){this._detachTemplateNodes(),this.inherited(arguments)}});return o.extend(d,{dojoAttachEvent:"",dojoAttachPoint:""}),u}.apply(null,n))||(t.exports=o)},1188:function(t,e,i){var n,o;n=[i(273),i(810)],void 0===(o=function(t,e){return t("dijit._DialogMixin",null,{actionBarTemplate:"",execute:function(){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute(),this.execute(this.get("value"))},_getFocusItems:function(){var t=e._getTabNavigable(this.domNode);this._firstFocusItem=t.lowest||t.first||this.closeButtonNode||this.domNode,this._lastFocusItem=t.last||t.highest||this._firstFocusItem}})}.apply(null,n))||(t.exports=o)},1189:function(t,e,i){var n,o;n=[i(273),i(22),i(122),i(662),i(638),i(117),i(705),i(725),i(733),i(895),i(813),i(677)],void 0===(o=function(t,e,i,n,o,r,s,a,d,c,l,u){var h=t("dijit.DialogUnderlay",[a,d],{templateString:"<div class='dijitDialogUnderlayWrapper'><div class='dijitDialogUnderlay' tabIndex='-1' data-dojo-attach-point='node'></div></div>",dialogId:"",class:"",_modalConnects:[],_setDialogIdAttr:function(t){n.set(this.node,"id",t+"_underlay"),this._set("dialogId",t)},_setClassAttr:function(t){this.node.className="dijitDialogUnderlay "+t,this._set("class",t)},postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode),this.own(r(this.domNode,"keydown",e.hitch(this,"_onKeyDown"))),this.inherited(arguments)},layout:function(){var t=this.node.style,e=this.domNode.style;e.display="none";var i=s.getBox(this.ownerDocument);e.top=i.t+"px",e.left=i.l+"px",t.width=i.w+"px",t.height=i.h+"px",e.display="block"},show:function(){this.domNode.style.display="block",this.open=!0,this.layout(),this.bgIframe=new c(this.domNode);var t=s.get(this.ownerDocument);this._modalConnects=[l.on("resize",e.hitch(this,"layout")),r(t,"scroll",e.hitch(this,"layout"))]},hide:function(){for(this.bgIframe.destroy(),delete this.bgIframe,this.domNode.style.display="none";this._modalConnects.length;)this._modalConnects.pop().remove();this.open=!1},destroy:function(){for(;this._modalConnects.length;)this._modalConnects.pop().remove();this.inherited(arguments)},_onKeyDown:function(){}});return h.show=function(t,e){var i=h._singleton;!i||i._destroyed?i=u._underlay=h._singleton=new h(t):t&&i.set(t),o.set(i.domNode,"zIndex",e),i.open||i.show()},h.hide=function(){var t=h._singleton;t&&!t._destroyed&&t.hide()},h}.apply(null,n))||(t.exports=o)},1190:function(t,e,i){var n,o;n=[i(24),i(22),i(725),i(1191),i(896),i(771),i(1192),i(59),i(273),i(328),i(172),i(662),i(658),i(327),i(61),i(190),i(1196)],void 0===(o=function(t,e,i,n,o,r,s,a,d,c,l,u,h,p,f,v){return d("dijit.layout.ContentPane",[i,n,o],{href:"",content:"",extractContent:!1,parseOnLoad:!0,parserScope:t._scopeName,preventCache:!1,preload:!1,refreshOnShow:!1,loadingMessage:"<span class='dijitContentPaneLoading'><span class='dijitInline dijitIconLoading'></span>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'><span class='dijitInline dijitIconError'></span>${errorState}</span>",isLoaded:!1,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:!0,template:!1,markupFactory:function(t,e,i){var n=new i(t,e);return!n.href&&n._contentSetter&&n._contentSetter.parseDeferred&&!n._contentSetter.parseDeferred.isFulfilled()?n._contentSetter.parseDeferred.then((function(){return n})):n},create:function(t,i){if((!t||!t.template)&&i&&!("href"in t)&&!("content"in t)){for(var n=(i=l.byId(i)).ownerDocument.createDocumentFragment();i.firstChild;)n.appendChild(i.firstChild);t=e.delegate(t,{content:n})}this.inherited(arguments,[t,i])},postMixInProperties:function(){this.inherited(arguments);var t=f.getLocalization("dijit","loading",this.lang);this.loadingMessage=r.substitute(this.loadingMessage,t),this.errorMessage=r.substitute(this.errorMessage,t)},buildRendering:function(){this.inherited(arguments),this.containerNode||(this.containerNode=this.domNode),this.domNode.removeAttribute("title")},startup:function(){this.inherited(arguments),this._contentSetter&&a.forEach(this._contentSetter.parseResults,(function(t){t._started||t._destroyed||!e.isFunction(t.startup)||(t.startup(),t._started=!0)}),this)},_startChildren:function(){a.forEach(this.getChildren(),(function(t){t._started||t._destroyed||!e.isFunction(t.startup)||(t.startup(),t._started=!0)})),this._contentSetter&&a.forEach(this._contentSetter.parseResults,(function(t){t._started||t._destroyed||!e.isFunction(t.startup)||(t.startup(),t._started=!0)}),this)},setHref:function(e){return t.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0"),this.set("href",e)},_setHrefAttr:function(t){return this.cancel(),this.onLoadDeferred=new c(e.hitch(this,"cancel")),this.onLoadDeferred.then(e.hitch(this,"onLoad")),this._set("href",t),this.preload||this._created&&this._isShown()?this._load():this._hrefChanged=!0,this.onLoadDeferred},setContent:function(e){t.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0"),this.set("content",e)},_setContentAttr:function(t){return this._set("href",""),this.cancel(),this.onLoadDeferred=new c(e.hitch(this,"cancel")),this._created&&this.onLoadDeferred.then(e.hitch(this,"onLoad")),this._setContent(t||""),this._isDownloaded=!1,this.onLoadDeferred},_getContentAttr:function(){return this.containerNode.innerHTML},cancel:function(){this._xhrDfd&&-1==this._xhrDfd.fired&&this._xhrDfd.cancel(),delete this._xhrDfd,this.onLoadDeferred=null},destroy:function(){this.cancel(),this.inherited(arguments)},destroyRecursive:function(t){this._beingDestroyed||this.inherited(arguments)},_onShow:function(){if(this.inherited(arguments),this.href&&!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow))return this.refresh()},refresh:function(){return this.cancel(),this.onLoadDeferred=new c(e.hitch(this,"cancel")),this.onLoadDeferred.then(e.hitch(this,"onLoad")),this._load(),this.onLoadDeferred},_load:function(){this._setContent(this.onDownloadStart(),!0);var t=this,i={preventCache:this.preventCache||this.refreshOnShow,url:this.href,handleAs:"text"};e.isObject(this.ioArgs)&&e.mixin(i,this.ioArgs);var n,o=this._xhrDfd=(this.ioMethod||p.get)(i);o.then((function(e){n=e;try{return t._isDownloaded=!0,t._setContent(e,!1)}catch(e){t._onError("Content",e)}}),(function(e){return o.canceled||t._onError("Download",e),delete t._xhrDfd,e})).then((function(){return t.onDownloadEnd(),delete t._xhrDfd,n})),delete this._hrefChanged},_onLoadHandler:function(t){this._set("isLoaded",!0);try{this.onLoadDeferred.resolve(t)}catch(t){console.error("Error "+(this.widgetId||this.id)+" running custom onLoad code: "+t.message)}},_onUnloadHandler:function(){this._set("isLoaded",!1);try{this.onUnload()}catch(t){console.error("Error "+this.widgetId+" running custom onUnload code: "+t.message)}},destroyDescendants:function(t){this.isLoaded&&this._onUnloadHandler();var e=this._contentSetter;a.forEach(this.getChildren(),(function(e){e.destroyRecursive?e.destroyRecursive(t):e.destroy&&e.destroy(t),e._destroyed=!0})),e&&(a.forEach(e.parseResults,(function(e){e._destroyed||(e.destroyRecursive?e.destroyRecursive(t):e.destroy&&e.destroy(t),e._destroyed=!0)})),delete e.parseResults),t||h.empty(this.containerNode),delete this._singleChild},_setContent:function(t,i){t=this.preprocessContent(t),this.destroyDescendants();var n=this._contentSetter;n&&n instanceof s._ContentSetter||(n=this._contentSetter=new s._ContentSetter({node:this.containerNode,_onError:e.hitch(this,this._onError),onContentError:e.hitch(this,(function(t){var e=this.onContentError(t);try{this.containerNode.innerHTML=e}catch(t){console.error("Fatal "+this.id+" could not change content due to "+t.message,t)}}))}));var o=e.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!t.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:!1,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{}),r=n.set(e.isObject(t)&&t.domNode?t.domNode:t,o),a=this;return v(r&&r.then?r:n.parseDeferred,(function(){delete a._contentSetterParams,i||(a._started&&(a._startChildren(),a._scheduleLayout()),a._onLoadHandler(t))}))},preprocessContent:function(t){return t},_onError:function(t,e,i){this.onLoadDeferred.reject(e);var n=this["on"+t+"Error"].call(this,e);i?console.error(i,e):n&&this._setContent(n,!0)},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage},onContentError:function(){},onDownloadError:function(){return this.errorMessage},onDownloadEnd:function(){}})}.apply(null,n))||(t.exports=o)},1191:function(t,e,i){var n,o;n=[i(59),i(273),i(658),i(24)],void 0===(o=function(t,e,i,n){return e("dijit._Container",null,{buildRendering:function(){this.inherited(arguments),this.containerNode||(this.containerNode=this.domNode)},addChild:function(t,e){var n=this.containerNode;if(e>0){for(n=n.firstChild;e>0;)1==n.nodeType&&e--,n=n.nextSibling;n?e="before":(n=this.containerNode,e="last")}i.place(t.domNode,n,e),this._started&&!t._started&&t.startup()},removeChild:function(t){if("number"==typeof t&&(t=this.getChildren()[t]),t){var e=t.domNode;e&&e.parentNode&&e.parentNode.removeChild(e)}},hasChildren:function(){return this.getChildren().length>0},_getSiblingOfChild:function(e,i){var n=this.getChildren();return n[t.indexOf(n,e)+i]},getIndexOfChild:function(e){return t.indexOf(this.getChildren(),e)}})}.apply(null,n))||(t.exports=o)},1192:function(t,e,i){var n,o;n=[i(24),i(22),i(59),i(273),i(172),i(658),i(1193)],void 0===(o=function(t,e,i,n,o,r,s){var a=0,d={_secureForInnerHtml:function(t){return t.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/gi,"")},_emptyNode:r.empty,_setNodeContent:function(t,i){if(r.empty(t),i)if("number"==typeof i&&(i=i.toString()),"string"==typeof i&&(i=r.toDom(i,t.ownerDocument)),!i.nodeType&&e.isArrayLike(i))for(var n=i.length,o=0;o<i.length;o=n==i.length?o+1:0)r.place(i[o],t,"last");else r.place(i,t,"last");return t},_ContentSetter:n("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:!1,extractContent:!1,parseContent:!1,parserScope:t._scopeName,startup:!0,constructor:function(t,i){e.mixin(this,t||{}),i=this.node=o.byId(this.node||i),this.id||(this.id=["Setter",i?i.id||i.tagName:"",a++].join("_"))},set:function(t,e){void 0!==t&&(this.content=t),"number"==typeof t&&(t=t.toString()),e&&this._mixin(e),this.onBegin(),this.setContent();var i=this.onEnd();return i&&i.then?i:this.node},setContent:function(){var t=this.node;if(!t)throw new Error(this.declaredClass+": setContent given no node");try{t=d._setNodeContent(t,this.content)}catch(i){var e=this.onContentError(i);try{t.innerHTML=e}catch(t){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+t.message,t)}}this.node=t},empty:function(){this.parseDeferred&&(this.parseDeferred.isResolved()||this.parseDeferred.cancel(),delete this.parseDeferred),this.parseResults&&this.parseResults.length&&(i.forEach(this.parseResults,(function(t){t.destroy&&t.destroy()})),delete this.parseResults),r.empty(this.node)},onBegin:function(){var t=this.content;if(e.isString(t)&&(this.cleanContent&&(t=d._secureForInnerHtml(t)),this.extractContent)){var i=t.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);i&&(t=i[1])}return this.empty(),this.content=t,this.node},onEnd:function(){return this.parseContent&&this._parse(),this.node},tearDown:function(){delete this.parseResults,delete this.parseDeferred,delete this.node,delete this.content},onContentError:function(t){return"Error occurred setting content: "+t},onExecError:function(t){return"Error occurred executing scripts: "+t},_mixin:function(t){var e,i={};for(e in t)e in i||(this[e]=t[e])},_parse:function(){var t=this.node;try{var e={};i.forEach(["dir","lang","textDir"],(function(t){this[t]&&(e[t]=this[t])}),this);var n=this;this.parseDeferred=s.parse({rootNode:t,noStart:!this.startup,inherited:e,scope:this.parserScope}).then((function(t){return n.parseResults=t}),(function(t){n._onError("Content",t,"Error parsing in _ContentSetter#"+n.id)}))}catch(t){this._onError("Content",t,"Error parsing in _ContentSetter#"+this.id)}},_onError:function(t,e,i){var n=this["on"+t+"Error"].call(this,e);i?console.error(i,e):n&&d._setNodeContent(this.node,n,!0)}}),set:function(t,i,n){return null==i&&(console.warn("dojo.html.set: no cont argument provided, using empty string"),i=""),"number"==typeof i&&(i=i.toString()),n?new d._ContentSetter(e.mixin(n,{content:i,node:t})).set():d._setNodeContent(t,i,!0)}};return e.setObject("dojo.html",d),d}.apply(null,n))||(t.exports=o)},1193:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,require;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__.dj.c(module.i),__webpack_require__(24),__webpack_require__(22),__webpack_require__(59),__webpack_require__(125),__webpack_require__(172),__webpack_require__(175),__webpack_require__(1194),__webpack_require__(122),__webpack_require__(325),__webpack_require__(1195),__webpack_require__(80),__webpack_require__(25),__webpack_require__(811),__webpack_require__(117),__webpack_require__(723)],__WEBPACK_AMD_DEFINE_RESULT__=function(require,dojo,dlang,darray,config,dom,dwindow,_Url,aspect,all,dates,Deferred,has,query,don,ready){function myEval(text){return eval("("+text+")")}new Date("X");var extendCnt=0;function getNameMap(t){var e=t._nameCaseMap,i=t.prototype;if(!e||e._extendCnt<extendCnt){for(var n in e=t._nameCaseMap={},i)"_"!==n.charAt(0)&&(e[n.toLowerCase()]=n);e._extendCnt=extendCnt}return e}function getCtor(t,e){e||(e=require);var i=e._dojoParserCtorMap||(e._dojoParserCtorMap={}),n=t.join();if(!i[n]){for(var o=[],r=0,s=t.length;r<s;r++){var a=t[r];o[o.length]=i[a]=i[a]||dlang.getObject(a)||~a.indexOf("/")&&e(a)}var d=o.shift();i[n]=o.length?d.createSubclass?d.createSubclass(o):d.extend.apply(d,o):d}return i[n]}aspect.after(dlang,"extend",(function(){extendCnt++}),!0);var parser={_clearCache:function(){extendCnt++,_ctorMap={}},_functionFromScript:function(t,e){var i="",n="",o=t.getAttribute(e+"args")||t.getAttribute("args"),r=t.getAttribute("with"),s=(o||"").split(/\s*,\s*/);return r&&r.length&&darray.forEach(r.split(/\s*,\s*/),(function(t){i+="with("+t+"){",n+="}"})),new Function(s,i+t.innerHTML+n)},instantiate:function(t,e,i){e=e||{};var n=((i=i||{}).scope||dojo._scopeName)+"Type",o="data-"+(i.scope||dojo._scopeName)+"-",r=o+"type",s=o+"mixins",a=[];return darray.forEach(t,(function(t){var i=n in e?e[n]:t.getAttribute(r)||t.getAttribute(n);if(i){var o=t.getAttribute(s),d=o?[i].concat(o.split(/\s*,\s*/)):[i];a.push({node:t,types:d})}})),this._instantiate(a,e,i)},_instantiate:function(t,e,i,n){var o=darray.map(t,(function(t){var n=t.ctor||getCtor(t.types,i.contextRequire);if(!n)throw new Error("Unable to resolve constructor for: '"+t.types.join()+"'");return this.construct(n,t.node,e,i,t.scripts,t.inherited)}),this);function r(t){return e._started||i.noStart||darray.forEach(t,(function(t){"function"!=typeof t.startup||t._started||t.startup()})),t}return n?all(o).then(r):r(o)},construct:function(t,e,i,n,o,r){var s,a=t&&t.prototype,d={};(n=n||{}).defaults&&dlang.mixin(d,n.defaults),r&&dlang.mixin(d,r),s=e.attributes;var c=n.scope||dojo._scopeName,l="data-"+c+"-",u={};"dojo"!==c&&(u[l+"props"]="data-dojo-props",u[l+"type"]="data-dojo-type",u[l+"mixins"]="data-dojo-mixins",u[c+"type"]="dojotype",u[l+"id"]="data-dojo-id");for(var h,p,f,v=0,_=[];h=s[v++];){var g=h.name,m=g.toLowerCase(),y=h.value;switch(u[m]||m){case"data-dojo-type":case"dojotype":case"data-dojo-mixins":break;case"data-dojo-props":f=y;break;case"data-dojo-id":case"jsid":p=y;break;case"data-dojo-attach-point":case"dojoattachpoint":d.dojoAttachPoint=y;break;case"data-dojo-attach-event":case"dojoattachevent":d.dojoAttachEvent=y;break;case"class":d.class=e.className;break;case"style":d.style=e.style&&e.style.cssText;break;default:if(!(g in a))g=getNameMap(t)[m]||g;if(g in a)switch(typeof a[g]){case"string":d[g]=y;break;case"number":d[g]=y.length?Number(y):NaN;break;case"boolean":d[g]="false"!=y.toLowerCase();break;case"function":""===y||-1!=y.search(/[^\w\.]+/i)?d[g]=new Function(y):d[g]=dlang.getObject(y,!1)||new Function(y),_.push(g);break;default:var b=a[g];d[g]=b&&"length"in b?y?y.split(/\s*,\s*/):[]:b instanceof Date?""==y?new Date(""):"now"==y?new Date:dates.fromISOString(y):b instanceof _Url?dojo.baseUrl+y:myEval(y)}else d[g]=y}}for(var w=0;w<_.length;w++){var x=_[w].toLowerCase();e.removeAttribute(x),e[x]=null}if(f)try{f=myEval.call(n.propsThis,"{"+f+"}"),dlang.mixin(d,f)}catch(t){throw new Error(t.toString()+" in data-dojo-props='"+f+"'")}dlang.mixin(d,i),o||(o=t&&(t._noScript||a._noScript)?[]:query("> script[type^='dojo/']",e));var C=[],S=[],N=[],T=[];if(o)for(v=0;v<o.length;v++){var I=o[v];e.removeChild(I);var j=I.getAttribute(l+"event")||I.getAttribute("event"),A=I.getAttribute(l+"prop"),k=I.getAttribute(l+"method"),D=I.getAttribute(l+"advice"),M=I.getAttribute("type"),E=this._functionFromScript(I,l);j?"dojo/connect"==M?C.push({method:j,func:E}):"dojo/on"==M?T.push({event:j,func:E}):d[j]=E:"dojo/aspect"==M?C.push({method:k,advice:D,func:E}):"dojo/watch"==M?N.push({prop:A,func:E}):S.push(E)}var R=t.markupFactory||a.markupFactory,L=R?R(d,e,t):new t(d,e);function O(t){for(p&&dlang.setObject(p,t),v=0;v<C.length;v++)aspect[C[v].advice||"after"](t,C[v].method,dlang.hitch(t,C[v].func),!0);for(v=0;v<S.length;v++)S[v].call(t);for(v=0;v<N.length;v++)t.watch(N[v].prop,N[v].func);for(v=0;v<T.length;v++)don(t,T[v].event,T[v].func);return t}return L.then?L.then(O):O(L)},scan:function(t,e){var i=[],n=[],o={},r=(e.scope||dojo._scopeName)+"Type",s="data-"+(e.scope||dojo._scopeName)+"-",a=s+"type",d=s+"textdir",c=s+"mixins",l=t.firstChild,u=e.inherited;if(!u){function h(t,e){return t.getAttribute&&t.getAttribute(e)||t.parentNode&&h(t.parentNode,e)}for(var p in u={dir:h(t,"dir"),lang:h(t,"lang"),textDir:h(t,d)})u[p]||delete u[p]}var f,v,_={inherited:u};function g(t){if(!t.inherited){t.inherited={};var e=t.node,i=g(t.parent),n={dir:e.getAttribute("dir")||i.dir,lang:e.getAttribute("lang")||i.lang,textDir:e.getAttribute(d)||i.textDir};for(var o in n)n[o]&&(t.inherited[o]=n[o])}return t.inherited}for(;;)if(l)if(1==l.nodeType)if(f&&"script"==l.nodeName.toLowerCase())(m=l.getAttribute("type"))&&/^dojo\/\w/i.test(m)&&f.push(l),l=l.nextSibling;else if(v)l=l.nextSibling;else{var m=l.getAttribute(a)||l.getAttribute(r),y=l.firstChild;if(m||y&&(3!=y.nodeType||y.nextSibling)){var b,w=null;if(m){var x=l.getAttribute(c),C=x?[m].concat(x.split(/\s*,\s*/)):[m];try{w=getCtor(C,e.contextRequire)}catch(t){}w||darray.forEach(C,(function(t){~t.indexOf("/")&&!o[t]&&(o[t]=!0,n[n.length]=t)}));var S=w&&!w.prototype._noScript?[]:null;(b={types:C,ctor:w,parent:_,node:l,scripts:S}).inherited=g(b),i.push(b)}else b={node:l,scripts:f,parent:_};f=S,v=l.stopParser||w&&w.prototype.stopParser&&!e.template,_=b,l=y}else l=l.nextSibling}else l=l.nextSibling;else{if(!_||!_.node)break;l=_.node.nextSibling,v=!1,f=(_=_.parent).scripts}var N=new Deferred;n.length?(e.contextRequire||require)(n,(function(){N.resolve(darray.filter(i,(function(t){if(!t.ctor)try{t.ctor=getCtor(t.types,e.contextRequire)}catch(t){}for(var i=t.parent;i&&!i.types;)i=i.parent;var n=t.ctor&&t.ctor.prototype;return t.instantiateChildren=!(n&&n.stopParser&&!e.template),t.instantiate=!i||i.instantiate&&i.instantiateChildren,t.instantiate})))})):N.resolve(i);return N.promise},_require:function(t,e){var i=myEval("{"+t.innerHTML+"}"),n=[],o=[],r=new Deferred,s=e&&e.contextRequire||require;for(var a in i)n.push(a),o.push(i[a]);return s(o,(function(){for(var t=0;t<n.length;t++)dlang.setObject(n[t],arguments[t]);r.resolve(arguments)})),r.promise},_scanAmd:function(t,e){var i=new Deferred,n=i.promise;i.resolve(!0);var o=this;return query("script[type='dojo/require']",t).forEach((function(t){n=n.then((function(){return o._require(t,e)})),t.parentNode.removeChild(t)})),n},parse:function(t,e){!t||"string"==typeof t||"nodeType"in t||(t=(e=t).rootNode);var i=t?dom.byId(t):dwindow.body(),n=(e=e||{}).template?{template:!0}:{},o=[],r=this,s=this._scanAmd(i,e).then((function(){return r.scan(i,e)})).then((function(t){return r._instantiate(t,n,e,!0)})).then((function(t){return o=o.concat(t)})).otherwise((function(t){throw console.error("dojo/parser::parse() error",t),t}));return dlang.mixin(o,s),o}};return dojo.parser=parser,config.parseOnLoad&&ready(100,parser,"parse"),parser}.apply(null,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},1194:function(t,e,i){var n,o;n=[i(24)],void 0===(o=function(t){var e=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),i=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$"),n=function(){for(var t=null,o=arguments,r=[o[0]],s=1;s<o.length;s++)if(o[s]){var a=new n(o[s]+""),d=new n(r[0]+"");if(""!=a.path||a.scheme||a.authority||a.query){if(!a.scheme&&(a.scheme=d.scheme,!a.authority&&(a.authority=d.authority,"/"!=a.path.charAt(0)))){for(var c=d.path.substring(0,d.path.lastIndexOf("/")+1)+a.path,l=c.split("/"),u=0;u<l.length;u++)"."==l[u]?u==l.length-1?l[u]="":(l.splice(u,1),u--):u>0&&(1!=u||""!=l[0])&&".."==l[u]&&".."!=l[u-1]&&(u==l.length-1?(l.splice(u,1),l[u-1]=""):(l.splice(u-1,2),u-=2));a.path=l.join("/")}}else a.fragment!=t&&(d.fragment=a.fragment),a=d;r=[],a.scheme&&r.push(a.scheme,":"),a.authority&&r.push("//",a.authority),r.push(a.path),a.query&&r.push("?",a.query),a.fragment&&r.push("#",a.fragment)}this.uri=r.join("");var h=this.uri.match(e);this.scheme=h[2]||(h[1]?"":t),this.authority=h[4]||(h[3]?"":t),this.path=h[5],this.query=h[7]||(h[6]?"":t),this.fragment=h[9]||(h[8]?"":t),this.authority!=t&&(h=this.authority.match(i),this.user=h[3]||t,this.password=h[4]||t,this.host=h[6]||h[7],this.port=h[9]||t)};return n.prototype.toString=function(){return this.uri},t._Url=n}.apply(null,n))||(t.exports=o)},1195:function(t,e,i){var n,o;n=[i(22),i(59)],void 0===(o=function(t,e){var i={};return t.setObject("dojo.date.stamp",i),i.fromISOString=function(t,n){i._isoRegExp||(i._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/);var o=i._isoRegExp.exec(t),r=null;if(o){o.shift(),o[1]&&o[1]--,o[6]&&(o[6]*=1e3),n&&(n=new Date(n),e.forEach(e.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],(function(t){return n["get"+t]()})),(function(t,e){o[e]=o[e]||t}))),r=new Date(o[0]||1970,o[1]||0,o[2]||1,o[3]||0,o[4]||0,o[5]||0,o[6]||0),o[0]<100&&r.setFullYear(o[0]||1970);var s=0,a=o[7]&&o[7].charAt(0);"Z"!=a&&(s=60*(o[8]||0)+(Number(o[9])||0),"-"!=a&&(s*=-1)),a&&(s-=r.getTimezoneOffset()),s&&r.setTime(r.getTime()+6e4*s)}return r},i.toISOString=function(t,e){var i=function(t){return t<10?"0"+t:t},n=[],o=(e=e||{}).zulu?"getUTC":"get",r="";if("time"!=e.selector){var s=t[o+"FullYear"]();r=["0000".substr((s+"").length)+s,i(t[o+"Month"]()+1),i(t[o+"Date"]())].join("-")}if(n.push(r),"date"!=e.selector){var a=[i(t[o+"Hours"]()),i(t[o+"Minutes"]()),i(t[o+"Seconds"]())].join(":"),d=t[o+"Milliseconds"]();if(e.milliseconds&&(a+="."+(d<100?"0":"")+i(d)),e.zulu)a+="Z";else if("time"!=e.selector){var c=t.getTimezoneOffset(),l=Math.abs(c);a+=(c>0?"-":"+")+i(Math.floor(l/60))+":"+i(l%60)}n.push(a)}return n.join("T")},i}.apply(null,n))||(t.exports=o)},1196:function(t,e,i){var n,o;n=[i(61),i(63),i(1197)],void 0===(o=function(t,e){return e(t,"dijit/nls/loading",i.dj.c(),!1)}.apply(null,n))||(t.exports=o)},1197:function(t,e,i){t.exports={root:{loadingState:"Loading...",errorState:"Sorry, an error occurred"},bs:!1,mk:!1,sr:!1,zh:!1,"zh-tw":!1,vi:!1,uk:!1,tr:!1,th:!1,sv:!1,sl:!1,sk:!1,ru:!1,ro:!1,pt:!1,"pt-pt":!1,pl:!1,nl:!1,nb:!1,lv:!1,lt:!1,ko:!1,kk:!1,ja:!1,it:!1,id:!1,hu:!1,hr:!1,hi:!1,he:!1,fr:!1,fi:!1,eu:!1,et:!1,es:!1,el:!1,de:!1,da:!1,cs:!1,ca:!1,bg:!1,az:!1,ar:!1}},1198:function(t,e){t.exports='<div class="dijitDialog" role="dialog" aria-labelledby="${id}_title">\r\n\t<div data-dojo-attach-point="titleBar" class="dijitDialogTitleBar">\r\n\t\t<span data-dojo-attach-point="titleNode" class="dijitDialogTitle" id="${id}_title"\r\n\t\t\t\trole="heading" level="1"></span>\r\n\t\t<span data-dojo-attach-point="closeButtonNode" class="dijitDialogCloseIcon" data-dojo-attach-event="ondijitclick: onCancel" title="${buttonCancel}" role="button" tabindex="-1">\r\n\t\t\t<span data-dojo-attach-point="closeText" class="closeText" title="${buttonCancel}">x</span>\r\n\t\t</span>\r\n\t</div>\r\n\t<div data-dojo-attach-point="containerNode" class="dijitDialogPaneContent"></div>\r\n\t${!actionBarTemplate}\r\n</div>\r\n\r\n'},1199:function(t,e,i){var n,o;n=[i(61),i(63),i(1200)],void 0===(o=function(t,e){return e(t,"dijit/nls/common",i.dj.c(),!1)}.apply(null,n))||(t.exports=o)},1200:function(t,e,i){t.exports={root:{buttonOk:"OK",buttonCancel:"Cancel",buttonSave:"Save",itemClose:"Close"},bs:!1,mk:!1,sr:!1,zh:!1,"zh-tw":!1,vi:!1,uk:!1,tr:!1,th:!1,sv:!1,sl:!1,sk:!1,ru:!1,ro:!1,pt:!1,"pt-pt":!1,pl:!1,nl:!1,nb:!1,lv:!1,lt:!1,ko:!1,kk:!1,ja:!1,it:!1,id:!1,hu:!1,hr:!1,hi:!1,he:!1,fr:!1,fi:!1,eu:!1,et:!1,es:!1,el:!1,de:!1,da:!1,cs:!1,ca:!1,bg:!1,az:!1,ar:!1}},1201:function(t,e,i){var n,o;n=[i(24),i(650)],void 0===(o=function(t,e){return t.cookie=function(t,i,n){var o,r=document.cookie;if(1==arguments.length){var s=r.match(new RegExp("(?:^|; )"+e.escapeString(t)+"=([^;]*)"));o=s?decodeURIComponent(s[1]):void 0}else{var a=(n=n||{}).expires;if("number"==typeof a){var d=new Date;d.setTime(d.getTime()+24*a*60*60*1e3),a=n.expires=d}a&&a.toUTCString&&(n.expires=a.toUTCString());var c,l=t+"="+(i=encodeURIComponent(i));for(c in n){l+="; "+c;var u=n[c];!0!==u&&(l+="="+u)}document.cookie=l}return o},t.cookie.isSupported=function(){return"cookieEnabled"in navigator||(this("__djCookieTest__","CookiesAllowed"),navigator.cookieEnabled="CookiesAllowed"==this("__djCookieTest__"),navigator.cookieEnabled&&this("__djCookieTest__","",{expires:-1})),navigator.cookieEnabled},t.cookie}.apply(null,n))||(t.exports=o)},1202:function(t,e,i){var n,o;n=[i.dj.c(t.i),e],void 0===(o=function(t,e){var i=function(){function t(t,e){this.oAuthInfo=null,this.storage=null,this.expires=null,this.ssl=null,this.token=null,this.userId=null,this.oAuthInfo=t,this.storage=e,this._init()}return t.prototype.isValid=function(){var t=!1;if(this.oAuthInfo&&this.token&&this.userId){var e=Date.now();this.expires>e&&(this.expires-e)/1e3>60*this.oAuthInfo.minTimeUntilExpiration&&(t=!0)}return t},t.prototype.save=function(){if(this.storage){var t=this._load(),e=this.oAuthInfo;if(e&&e.authNamespace&&e.portalUrl){var i=t[e.authNamespace];i||(i=t[e.authNamespace]={}),i[e.portalUrl]={expires:this.expires,ssl:this.ssl,token:this.token,userId:this.userId};try{this.storage.setItem("esriJSAPIOAuth",JSON.stringify(t))}catch(t){console.log(t)}}}},t.prototype.destroy=function(){var t=this._load(),e=this.oAuthInfo;if(e&&e.appId&&e.portalUrl&&this.token&&this.expires>Date.now()){var i=e.portalUrl.replace(/^http:/i,"https:")+"/sharing/rest/oauth2/revokeToken",n=new FormData;if(n.append("f","json"),n.append("auth_token",this.token),n.append("client_id",e.appId),n.append("token_type_hint","access_token"),"function"==typeof navigator.sendBeacon)navigator.sendBeacon(i,n);else{var o=new XMLHttpRequest;o.open("POST",i),o.send(n)}}if(e&&e.authNamespace&&e.portalUrl&&this.storage){var r=t[e.authNamespace];if(r){delete r[e.portalUrl];try{this.storage.setItem("esriJSAPIOAuth",JSON.stringify(t))}catch(t){console.log(t)}}}e&&(e._oAuthCred=null,this.oAuthInfo=null)},t.prototype._init=function(){var t=this._load(),e=this.oAuthInfo;if(e&&e.authNamespace&&e.portalUrl){var i=t[e.authNamespace];i&&(i=i[e.portalUrl])&&(this.expires=i.expires,this.ssl=i.ssl,this.token=i.token,this.userId=i.userId)}},t.prototype._load=function(){var t={};if(this.storage){var e=this.storage.getItem("esriJSAPIOAuth");if(e)try{t=JSON.parse(e)}catch(t){console.log(t)}}return t},t}();return i.prototype.declaredClass="esri.identity.OAuthCredential",i}.apply(null,n))||(t.exports=o)},1203:function(t,e,i){var n,o;n=[i.dj.c(t.i),e,i(1),i(0),i(3),i(2)],void 0===(o=function(t,e,i,n,o,r){return function(t){function e(e){var i=t.call(this)||this;return i._oAuthCred=null,i.appId=null,i.authNamespace="/",i.expiration=20160,i.forceLogin=!1,i.locale=null,i.minTimeUntilExpiration=30,i.popup=!1,i.popupCallbackUrl="oauth-callback.html",i.popupWindowFeatures="height=490,width=800,resizable,scrollbars,status",i.portalUrl="https://www.arcgis.com",i}var o;return i(e,t),o=e,e.prototype.clone=function(){return o.fromJSON(this.toJSON())},n([r.property({json:{write:!0}})],e.prototype,"appId",void 0),n([r.property({json:{write:!0}})],e.prototype,"authNamespace",void 0),n([r.property({json:{write:!0}})],e.prototype,"expiration",void 0),n([r.property({json:{write:!0}})],e.prototype,"forceLogin",void 0),n([r.property({json:{write:!0}})],e.prototype,"locale",void 0),n([r.property({json:{write:!0}})],e.prototype,"minTimeUntilExpiration",void 0),n([r.property({json:{write:!0}})],e.prototype,"popup",void 0),n([r.property({json:{write:!0}})],e.prototype,"popupCallbackUrl",void 0),n([r.property({json:{write:!0}})],e.prototype,"popupWindowFeatures",void 0),n([r.property({json:{write:!0}})],e.prototype,"portalUrl",void 0),o=n([r.subclass("esri.identity.OAuthInfo")],e)}(r.declared(o.JSONSupport))}.apply(null,n))||(t.exports=o)},1204:function(t,e,i){var n,o;n=[i.dj.c(t.i),e,i(1),i(0),i(3),i(2)],void 0===(o=function(t,e,i,n,o,r){return function(t){function e(e){var i=t.call(this)||this;return i.adminTokenServiceUrl=null,i.currentVersion=null,i.hasPortal=null,i.hasServer=null,i.owningSystemUrl=null,i.owningTenant=null,i.server=null,i.shortLivedTokenValidity=null,i.tokenServiceUrl=null,i.webTierAuth=null,i}return i(e,t),n([r.property({json:{write:!0}})],e.prototype,"adminTokenServiceUrl",void 0),n([r.property({json:{write:!0}})],e.prototype,"currentVersion",void 0),n([r.property({json:{write:!0}})],e.prototype,"hasPortal",void 0),n([r.property({json:{write:!0}})],e.prototype,"hasServer",void 0),n([r.property({json:{write:!0}})],e.prototype,"owningSystemUrl",void 0),n([r.property({json:{write:!0}})],e.prototype,"owningTenant",void 0),n([r.property({json:{write:!0}})],e.prototype,"server",void 0),n([r.property({json:{write:!0}})],e.prototype,"shortLivedTokenValidity",void 0),n([r.property({json:{write:!0}})],e.prototype,"tokenServiceUrl",void 0),n([r.property({json:{write:!0}})],e.prototype,"webTierAuth",void 0),n([r.subclass("esri.identity.ServerInfo")],e)}(r.declared(o.JSONSupport))}.apply(null,n))||(t.exports=o)},1205:function(t,e,i){t.exports={root:{lblItem:"item",title:"Sign In",info:"Please sign in to access the item on {server} {resource}",oAuthInfo:"Please sign in to {server}.",lblUser:"Username:",lblPwd:"Password:",lblOk:"OK",lblSigning:"Signing in...",lblCancel:"Cancel",errorMsg:"Invalid username/password. Please try again.",invalidUser:"The username or password you entered is incorrect.",forbidden:"The username and password are valid, but you don't have access to this resource.",noAuthService:"Unable to access the authentication service."},ar:!1,bs:!1,ca:!1,cs:!1,da:!1,de:!1,el:!1,es:!1,et:!1,fi:!1,fr:!1,he:!1,hr:!1,hu:!1,hi:!1,id:!1,it:!1,ja:!1,ko:!1,lv:!1,lt:!1,nl:!1,nb:!1,pl:!1,"pt-br":!1,"pt-pt":!1,ro:!1,ru:!1,sl:!1,sr:!1,sv:!1,th:!1,tr:!1,uk:!1,vi:!1,"zh-cn":!1,"zh-hk":!1,"zh-tw":!1}},1206:function(t,e,i){var n,o;n=[i(273),i(172),i(25),i(683)],void 0===(o=function(t,e,i,n){var o=t("dijit.form._ButtonMixin"+(i("dojo-bidi")?"_NoBidi":""),null,{label:"",type:"button",__onClick:function(t){return t.stopPropagation(),t.preventDefault(),this.disabled||this.valueNode.click(t),!1},_onClick:function(t){if(this.disabled)return t.stopPropagation(),t.preventDefault(),!1;!1===this.onClick(t)&&t.preventDefault();var e=t.defaultPrevented;if(!e&&"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var i=this.domNode;i.parentNode;i=i.parentNode){var o=n.byNode(i);if(o&&"function"==typeof o._onSubmit){o._onSubmit(t),t.preventDefault(),e=!0;break}}return!e},postCreate:function(){this.inherited(arguments),e.setSelectable(this.focusNode,!1)},onClick:function(){return!0},_setLabelAttr:function(t){this._set("label",t),(this.containerNode||this.focusNode).innerHTML=t,this.onLabelSet()},onLabelSet:function(){}});return i("dojo-bidi")&&(o=t("dijit.form._ButtonMixin",o,{onLabelSet:function(){this.inherited(arguments);var t=this.containerNode||this.focusNode;this.applyTextDir(t)}})),o}.apply(null,n))||(t.exports=o)},1207:function(t,e){t.exports='<span class="dijit dijitReset dijitInline" role="presentation"\r\n\t><span class="dijitReset dijitInline dijitButtonNode"\r\n\t\tdata-dojo-attach-event="ondijitclick:__onClick" role="presentation"\r\n\t\t><span class="dijitReset dijitStretch dijitButtonContents"\r\n\t\t\tdata-dojo-attach-point="titleNode,focusNode"\r\n\t\t\trole="button" aria-labelledby="${id}_label"\r\n\t\t\t><span class="dijitReset dijitInline dijitIcon" data-dojo-attach-point="iconNode"></span\r\n\t\t\t><span class="dijitReset dijitToggleButtonIconChar">&#x25CF;</span\r\n\t\t\t><span class="dijitReset dijitInline dijitButtonText"\r\n\t\t\t\tid="${id}_label"\r\n\t\t\t\tdata-dojo-attach-point="containerNode"\r\n\t\t\t></span\r\n\t\t></span\r\n\t></span\r\n\t><input ${!nameAttrSetting} type="${type}" value="${value}" class="dijitOffScreen"\r\n\t\tdata-dojo-attach-event="onclick:_onClick"\r\n\t\ttabIndex="-1" aria-hidden="true" data-dojo-attach-point="valueNode"\r\n/></span>\r\n'},1208:function(t,e,i){var n,o;n=[i(273),i(662),i(24),i(68),i(725),i(733),i(894),i(896)],void 0===(o=function(t,e,i,n,o,r,s,a){return t("dijit.form.Form",[o,r,s,a],{name:"",action:"",method:"",encType:"","accept-charset":"",accept:"",target:"",templateString:"<form data-dojo-attach-point='containerNode' data-dojo-attach-event='onreset:_onReset,onsubmit:_onSubmit' ${!nameAttrSetting}></form>",postMixInProperties:function(){this.nameAttrSetting=this.name?"name='"+this.name+"'":"",this.inherited(arguments)},execute:function(){},onExecute:function(){},_setEncTypeAttr:function(t){e.set(this.domNode,"encType",t),n("ie")&&(this.domNode.encoding=t),this._set("encType",t)},reset:function(t){var e={returnValue:!0,preventDefault:function(){this.returnValue=!1},stopPropagation:function(){},currentTarget:t?t.target:this.domNode,target:t?t.target:this.domNode};!1!==this.onReset(e)&&e.returnValue&&this.inherited(arguments,[])},onReset:function(){return!0},_onReset:function(t){return this.reset(t),t.stopPropagation(),t.preventDefault(),!1},_onSubmit:function(t){var e=this.constructor.prototype;this.execute==e.execute&&this.onExecute==e.onExecute||(i.deprecated("dijit.form.Form:execute()/onExecute() are deprecated. Use onSubmit() instead.","","2.0"),this.onExecute(),this.execute(this.getValues())),!1===this.onSubmit(t)&&(t.stopPropagation(),t.preventDefault())},onSubmit:function(){return this.isValid()},submit:function(){!1!==this.onSubmit()&&this.containerNode.submit()}})}.apply(null,n))||(t.exports=o)},1209:function(t,e,i){var n,o;n=[i(273),i(24),i(22),i(61),i(1210),i(1215),i(1218),i(1219)],void 0===(o=function(t,e,i,n,o,r,s){var a=t("dijit.form.ValidationTextBox",o,{templateString:s,required:!1,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){},state:"",tooltipPosition:[],_deprecateRegExp:function(t,i){i!=a.prototype[t]&&(e.deprecated("ValidationTextBox id="+this.id+", set('"+t+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0"),this.set("pattern",i))},_setRegExpGenAttr:function(t){this._deprecateRegExp("regExpGen",t),this._set("regExpGen",this._computeRegexp)},_setRegExpAttr:function(t){this._deprecateRegExp("regExp",t)},_setValueAttr:function(){this.inherited(arguments),this._refreshState()},validator:function(t,e){return new RegExp("^(?:"+this._computeRegexp(e)+")"+(this.required?"":"?")+"$").test(t)&&(!this.required||!this._isEmpty(t))&&(this._isEmpty(t)||void 0!==this.parse(t,e))},_isValidSubset:function(){return 0==this.textbox.value.search(this._partialre)},isValid:function(){return this.validator(this.textbox.value,this.get("constraints"))},_isEmpty:function(t){return(this.trim?/^\s*$/:/^$/).test(t)},getErrorMessage:function(){var t="$_unset_$"==this.invalidMessage?this.messages.invalidMessage:this.invalidMessage?this.invalidMessage:this.promptMessage,e="$_unset_$"==this.missingMessage?this.messages.missingMessage:this.missingMessage?this.missingMessage:t;return this.required&&this._isEmpty(this.textbox.value)?e:t},getPromptMessage:function(){return this.promptMessage},_maskValidSubsetError:!0,validate:function(t){var e="",i=this.disabled||this.isValid(t);i&&(this._maskValidSubsetError=!0);var n=this._isEmpty(this.textbox.value),o=!i&&t&&this._isValidSubset();return this._set("state",i?"":((!this._hasBeenBlurred||t)&&n||o)&&(this._maskValidSubsetError||o&&!this._hasBeenBlurred&&t)?"Incomplete":"Error"),this.focusNode.setAttribute("aria-invalid","Error"==this.state?"true":"false"),"Error"==this.state?(this._maskValidSubsetError=t&&o,e=this.getErrorMessage(t)):"Incomplete"==this.state?(e=this.getPromptMessage(t),this._maskValidSubsetError=!this._hasBeenBlurred||t):n&&(e=this.getPromptMessage(t)),this.set("message",e),i},displayMessage:function(t){t&&this.focused?r.show(t,this.domNode,this.tooltipPosition,!this.isLeftToRight()):r.hide(this.domNode)},_refreshState:function(){this._created&&this.validate(this.focused),this.inherited(arguments)},constructor:function(t){this.constraints=i.clone(this.constraints),this.baseClass+=" dijitValidationTextBox"},startup:function(){this.inherited(arguments),this._refreshState()},_setConstraintsAttr:function(t){!t.locale&&this.lang&&(t.locale=this.lang),this._set("constraints",t),this._refreshState()},_setPatternAttr:function(t){this._set("pattern",t),this._refreshState()},_computeRegexp:function(t){var e=this.pattern;if("function"==typeof e&&(e=e.call(this,t)),e!=this._lastRegExp){var i="";this._lastRegExp=e,".*"!=e&&e.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,(function(t){switch(t.charAt(0)){case"{":case"+":case"?":case"*":case"^":case"$":case"|":case"(":i+=t;break;case")":i+="|$)";break;default:i+="(?:"+t+"|$)"}}));try{"".search(i)}catch(t){i=this.pattern,console.warn("RegExp error in "+this.declaredClass+": "+this.pattern)}this._partialre="^(?:"+i+")$"}return e},postMixInProperties:function(){this.inherited(arguments),this.messages=n.getLocalization("dijit.form","validate",this.lang),this._setConstraintsAttr(this.constraints)},_setDisabledAttr:function(t){this.inherited(arguments),this._refreshState()},_setRequiredAttr:function(t){this._set("required",t),this.focusNode.setAttribute("aria-required",t),this._refreshState()},_setMessageAttr:function(t){this._set("message",t),this.displayMessage(t)},reset:function(){this._maskValidSubsetError=!0,this.inherited(arguments)},_onBlur:function(){this.displayMessage(""),this.inherited(arguments)},destroy:function(){r.hide(this.domNode),this.inherited(arguments)}});return a}.apply(null,n))||(t.exports=o)},1210:function(t,e,i){var n,o;n=[i(273),i(658),i(638),i(24),i(22),i(117),i(68),i(1211),i(1213),i(1214),i(677)],void 0===(o=function(t,e,i,n,o,r,s,a,d,c,l){var u=t("dijit.form.TextBox"+(s("dojo-bidi")?"_NoBidi":""),[a,d],{templateString:c,_singleNodeTemplate:'<input class="dijit dijitReset dijitLeft dijitInputField" data-dojo-attach-point="textbox,focusNode" autocomplete="off" type="${type}" ${!nameAttrSetting} />',_buttonInputDisabled:s("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){var t=this.type.toLowerCase();(this.templateString&&"input"==this.templateString.toLowerCase()||("hidden"==t||"file"==t)&&this.templateString==this.constructor.prototype.templateString)&&(this.templateString=this._singleNodeTemplate),this.inherited(arguments)},postCreate:function(){this.inherited(arguments),s("ie")<9&&this.defer((function(){try{var t=i.getComputedStyle(this.domNode);if(t){var e=t.fontFamily;if(e){var n=this.domNode.getElementsByTagName("INPUT");if(n)for(var o=0;o<n.length;o++)n[o].style.fontFamily=e}}}catch(t){}}))},_setPlaceHolderAttr:function(t){this._set("placeHolder",t),this._phspan||(this._attachPoints.push("_phspan"),this._phspan=e.create("span",{className:"dijitPlaceHolder dijitInputField"},this.textbox,"after"),this.own(r(this._phspan,"mousedown",(function(t){t.preventDefault()})),r(this._phspan,"touchend, pointerup, MSPointerUp",o.hitch(this,(function(){this.focus()}))))),this._phspan.innerHTML="",this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(t)),this._updatePlaceHolder()},_onInput:function(t){this.inherited(arguments),this._updatePlaceHolder()},_updatePlaceHolder:function(){this._phspan&&(this._phspan.style.display=this.placeHolder&&!this.textbox.value?"":"none")},_setValueAttr:function(t,e,i){this.inherited(arguments),this._updatePlaceHolder()},getDisplayedValue:function(){return n.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.","","2.0"),this.get("displayedValue")},setDisplayedValue:function(t){n.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0"),this.set("displayedValue",t)},_onBlur:function(t){this.disabled||(this.inherited(arguments),this._updatePlaceHolder(),s("mozilla")&&this.selectOnClick&&(this.textbox.selectionStart=this.textbox.selectionEnd=void 0))},_onFocus:function(t){this.disabled||this.readOnly||(this.inherited(arguments),this._updatePlaceHolder())}});return s("ie")<9&&(u.prototype._isTextSelected=function(){var t=this.ownerDocument.selection.createRange();return t.parentElement()==this.textbox&&t.text.length>0},l._setSelectionRange=d._setSelectionRange=function(t,e,i){if(t.createTextRange){var n=t.createTextRange();n.collapse(!0),n.moveStart("character",-99999),n.moveStart("character",e),n.moveEnd("character",i-e),n.select()}}),s("dojo-bidi")&&(u=t("dijit.form.TextBox",u,{_setPlaceHolderAttr:function(t){this.inherited(arguments),this.applyTextDir(this._phspan)}})),u}.apply(null,n))||(t.exports=o)},1211:function(t,e,i){var n,o;n=[i(273),i(68),i(901),i(1212)],void 0===(o=function(t,e,i,n){return t("dijit.form._FormValueWidget",[i,n],{_layoutHackIE7:function(){if(7==e("ie"))for(var t=this.domNode,i=t.parentNode,n=t.firstChild||t,o=n.style.filter,r=this;i&&0==i.clientHeight;)!function(){var t=r.connect(i,"onscroll",(function(){r.disconnect(t),n.style.filter=(new Date).getMilliseconds(),r.defer((function(){n.style.filter=o}))}))}(),i=i.parentNode}})}.apply(null,n))||(t.exports=o)},1212:function(t,e,i){var n,o;n=[i(273),i(662),i(704),i(22),i(117),i(68),i(902)],void 0===(o=function(t,e,i,n,o,r,s){return t("dijit.form._FormValueMixin",s,{readOnly:!1,_setReadOnlyAttr:function(t){r("trident")&&"disabled"in this?e.set(this.focusNode,"readOnly",t||this.disabled):e.set(this.focusNode,"readOnly",t),this._set("readOnly",t)},postCreate:function(){this.inherited(arguments),void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.value)},_setValueAttr:function(t,e){this._handleOnChange(t,e)},_handleOnChange:function(t,e){this._set("value",t),this.inherited(arguments)},undo:function(){this._setValueAttr(this._lastValueReported,!1)},reset:function(){this._hasBeenBlurred=!1,this._setValueAttr(this._resetValue,!0)}})}.apply(null,n))||(t.exports=o)},1213:function(t,e,i){var n,o;n=[i(59),i(273),i(172),i(68),i(704),i(22),i(117),i(677)],void 0===(o=function(t,e,i,n,o,r,s,a){var d=e("dijit.form._TextBoxMixin"+(n("dojo-bidi")?"_NoBidi":""),null,{trim:!1,uppercase:!1,lowercase:!1,propercase:!1,maxLength:"",selectOnClick:!1,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints)},_setValueAttr:function(t,e,i){var n;void 0!==t&&(n=this.filter(t),"string"!=typeof i&&(i=null===n||"number"==typeof n&&isNaN(n)?"":this.filter(this.format(n,this.constraints)),0!=this.compare(n,this.filter(this.parse(i,this.constraints)))&&(i=null))),null==i||"number"==typeof i&&isNaN(i)||this.textbox.value==i||(this.textbox.value=i,this._set("displayedValue",this.get("displayedValue"))),this.inherited(arguments,[n,e])},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value)},_setDisplayedValueAttr:function(t){null==t?t="":"string"!=typeof t&&(t=String(t)),this.textbox.value=t,this._setValueAttr(this.get("value"),void 0),this._set("displayedValue",this.get("displayedValue"))},format:function(t){return null==t?"":t.toString?t.toString():t},parse:function(t){return t},_refreshState:function(){},onInput:function(){},_onInput:function(t){this._lastInputEventValue=this.textbox.value,this._processInput(this._lastInputProducingEvent||t),delete this._lastInputProducingEvent,this.intermediateChanges&&this._handleOnChange(this.get("value"),!1)},_processInput:function(){this._refreshState(),this._set("displayedValue",this.get("displayedValue"))},postCreate:function(){function t(t){var e;if("keydown"==t.type&&229!=t.keyCode){switch(e=t.keyCode){case o.SHIFT:case o.ALT:case o.CTRL:case o.META:case o.CAPS_LOCK:case o.NUM_LOCK:case o.SCROLL_LOCK:return}if(!t.ctrlKey&&!t.metaKey&&!t.altKey){switch(e){case o.NUMPAD_0:case o.NUMPAD_1:case o.NUMPAD_2:case o.NUMPAD_3:case o.NUMPAD_4:case o.NUMPAD_5:case o.NUMPAD_6:case o.NUMPAD_7:case o.NUMPAD_8:case o.NUMPAD_9:case o.NUMPAD_MULTIPLY:case o.NUMPAD_PLUS:case o.NUMPAD_ENTER:case o.NUMPAD_MINUS:case o.NUMPAD_PERIOD:case o.NUMPAD_DIVIDE:return}if(e>=65&&e<=90||e>=48&&e<=57||e==o.SPACE)return;var i=!1;for(var a in o)if(o[a]===t.keyCode){i=!0;break}if(!i)return}}if((e=t.charCode>=32?String.fromCharCode(t.charCode):t.charCode)||(e=t.keyCode>=65&&t.keyCode<=90||t.keyCode>=48&&t.keyCode<=57||t.keyCode==o.SPACE?String.fromCharCode(t.keyCode):t.keyCode),e||(e=229),"keypress"==t.type){if("string"!=typeof e)return;if((e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||" "===e)&&(t.ctrlKey||t.metaKey||t.altKey))return}var d,c={faux:!0};for(d in t)if(!/^(layer[XY]|returnValue|keyLocation)$/.test(d)){var l=t[d];"function"!=typeof l&&void 0!==l&&(c[d]=l)}if(r.mixin(c,{charOrCode:e,_wasConsumed:!1,preventDefault:function(){c._wasConsumed=!0,t.preventDefault()},stopPropagation:function(){t.stopPropagation()}}),this._lastInputProducingEvent=c,!1===this.onInput(c)&&(c.preventDefault(),c.stopPropagation()),!c._wasConsumed&&n("ie")<=9)switch(t.keyCode){case o.TAB:case o.ESCAPE:case o.DOWN_ARROW:case o.UP_ARROW:case o.LEFT_ARROW:case o.RIGHT_ARROW:break;default:if(t.keyCode==o.ENTER&&"textarea"!=this.textbox.tagName.toLowerCase())break;this.defer((function(){this.textbox.value!==this._lastInputEventValue&&s.emit(this.textbox,"input",{bubbles:!0})}))}}this.textbox.setAttribute("value",this.textbox.value),this.inherited(arguments),this.own(s(this.textbox,"keydown, keypress, paste, cut, compositionend",r.hitch(this,t)),s(this.textbox,"input",r.hitch(this,"_onInput")),s(this.domNode,"keypress",(function(t){t.stopPropagation()})))},_blankValue:"",filter:function(t){return null===t?this._blankValue:"string"!=typeof t?t:(this.trim&&(t=r.trim(t)),this.uppercase&&(t=t.toUpperCase()),this.lowercase&&(t=t.toLowerCase()),this.propercase&&(t=t.replace(/[^\s]+/g,(function(t){return t.substring(0,1).toUpperCase()+t.substring(1)}))),t)},_setBlurValue:function(){this._setValueAttr(this.get("value"),!0)},_onBlur:function(t){this.disabled||(this._setBlurValue(),this.inherited(arguments))},_isTextSelected:function(){return this.textbox.selectionStart!=this.textbox.selectionEnd},_onFocus:function(t){this.disabled||this.readOnly||(this.selectOnClick&&"mouse"==t&&(this._selectOnClickHandle=s.once(this.domNode,"mouseup, touchend",r.hitch(this,(function(t){this._isTextSelected()||d.selectInputText(this.textbox)}))),this.own(this._selectOnClickHandle),this.defer((function(){this._selectOnClickHandle&&(this._selectOnClickHandle.remove(),this._selectOnClickHandle=null)}),500)),this.inherited(arguments),this._refreshState())},reset:function(){this.textbox.value="",this.inherited(arguments)}});return n("dojo-bidi")&&(d=e("dijit.form._TextBoxMixin",d,{_setValueAttr:function(){this.inherited(arguments),this.applyTextDir(this.focusNode)},_setDisplayedValueAttr:function(){this.inherited(arguments),this.applyTextDir(this.focusNode)},_onInput:function(){this.applyTextDir(this.focusNode),this.inherited(arguments)}})),d._setSelectionRange=a._setSelectionRange=function(t,e,i){t.setSelectionRange&&t.setSelectionRange(e,i)},d.selectInputText=a.selectInputText=function(t,e,n){t=i.byId(t),isNaN(e)&&(e=0),isNaN(n)&&(n=t.value?t.value.length:0);try{t.focus(),d._setSelectionRange(t,e,n)}catch(t){}},d}.apply(null,n))||(t.exports=o)},1214:function(t,e){t.exports='<div class="dijit dijitReset dijitInline dijitLeft" id="widget_${id}" role="presentation"\r\n\t><div class="dijitReset dijitInputField dijitInputContainer"\r\n\t\t><input class="dijitReset dijitInputInner" data-dojo-attach-point=\'textbox,focusNode\' autocomplete="off"\r\n\t\t\t${!nameAttrSetting} type=\'${type}\'\r\n\t/></div\r\n></div>\r\n'},1215:function(t,e,i){var n,o;n=[i(59),i(273),i(888),i(172),i(659),i(655),i(638),i(22),i(722),i(117),i(68),i(892),i(1216),i(725),i(733),i(895),i(1217),i(677)],void 0===(o=function(t,e,i,n,o,r,s,a,d,c,l,u,h,p,f,v,_,g){var m=e("dijit._MasterTooltip",[p,f],{duration:u.defaultDuration,templateString:_,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode),this.bgIframe=new v(this.domNode),this.fadeIn=i.fadeIn({node:this.domNode,duration:this.duration,onEnd:a.hitch(this,"_onShow")}),this.fadeOut=i.fadeOut({node:this.domNode,duration:this.duration,onEnd:a.hitch(this,"_onHide")})},show:function(t,e,i,n,o,r,d){if(!this.aroundNode||this.aroundNode!==e||this.containerNode.innerHTML!=t)if("playing"!=this.fadeOut.status()){this.containerNode.innerHTML=t,o&&this.set("textDir",o),this.containerNode.align=n?"right":"left";var c=h.around(this.domNode,e,i&&i.length?i:w.defaultPosition,!n,a.hitch(this,"orient")),l=c.aroundNodePos;"M"==c.corner.charAt(0)&&"M"==c.aroundCorner.charAt(0)?(this.connectorNode.style.top=l.y+(l.h-this.connectorNode.offsetHeight>>1)-c.y+"px",this.connectorNode.style.left=""):"M"==c.corner.charAt(1)&&"M"==c.aroundCorner.charAt(1)?this.connectorNode.style.left=l.x+(l.w-this.connectorNode.offsetWidth>>1)-c.x+"px":(this.connectorNode.style.left="",this.connectorNode.style.top=""),s.set(this.domNode,"opacity",0),this.fadeIn.play(),this.isShowingNow=!0,this.aroundNode=e,this.onMouseEnter=r||b,this.onMouseLeave=d||b}else this._onDeck=arguments},orient:function(t,e,i,n,o){this.connectorNode.style.top="";var s=n.h,a=n.w;t.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[e+"-"+i],this.domNode.style.width="auto";var d=r.position(this.domNode);(l("ie")||l("trident"))&&(d.w+=2);var c=Math.min(Math.max(a,1),d.w);if(r.setMarginBox(this.domNode,{w:c}),"B"==i.charAt(0)&&"B"==e.charAt(0)){var u=r.position(t),h=this.connectorNode.offsetHeight;if(u.h>s){var p=s-(o.h+h>>1);this.connectorNode.style.top=p+"px",this.connectorNode.style.bottom=""}else this.connectorNode.style.bottom=Math.min(Math.max(o.h/2-h/2,0),u.h-h)+"px",this.connectorNode.style.top=""}else this.connectorNode.style.top="",this.connectorNode.style.bottom="";return Math.max(0,d.w-a)},_onShow:function(){l("ie")&&(this.domNode.style.filter="")},hide:function(t){this._onDeck&&this._onDeck[1]==t?this._onDeck=null:this.aroundNode===t&&(this.fadeIn.stop(),this.isShowingNow=!1,this.aroundNode=null,this.fadeOut.play()),this.onMouseEnter=this.onMouseLeave=b},_onHide:function(){this.domNode.style.cssText="",this.containerNode.innerHTML="",this._onDeck&&(this.show.apply(this,this._onDeck),this._onDeck=null)}});l("dojo-bidi")&&m.extend({_setAutoTextDir:function(e){this.applyTextDir(e),t.forEach(e.children,(function(t){this._setAutoTextDir(t)}),this)},_setTextDirAttr:function(t){this._set("textDir",t),"auto"==t?this._setAutoTextDir(this.containerNode):this.containerNode.dir=this.textDir}}),g.showTooltip=function(e,i,n,o,r,s,a){return n&&(n=t.map(n,(function(t){return{after:"after-centered",before:"before-centered"}[t]||t}))),w._masterTT||(g._masterTT=w._masterTT=new m),w._masterTT.show(e,i,n,o,r,s,a)},g.hideTooltip=function(t){return w._masterTT&&w._masterTT.hide(t)};var y="DORMANT";function b(){}var w=e("dijit.Tooltip",p,{label:"",showDelay:400,hideDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(e){t.forEach(this._connections||[],(function(e){t.forEach(e,(function(t){t.remove()}))}),this),this._connectIds=t.filter(a.isArrayLike(e)?e:e?[e]:[],(function(t){return n.byId(t,this.ownerDocument)}),this),this._connections=t.map(this._connectIds,(function(t){var e=n.byId(t,this.ownerDocument),i=this.selector,o=i?function(t){return c.selector(i,t)}:function(t){return t},r=this;return[c(e,o(d.enter),(function(){r._onHover(this)})),c(e,o("focusin"),(function(){r._onHover(this)})),c(e,o(d.leave),a.hitch(r,"_onUnHover")),c(e,o("focusout"),a.hitch(r,"set","state",y))]}),this),this._set("connectId",e)},addTarget:function(e){var i=e.id||e;-1==t.indexOf(this._connectIds,i)&&this.set("connectId",this._connectIds.concat(i))},removeTarget:function(e){var i=e.id||e,n=t.indexOf(this._connectIds,i);n>=0&&(this._connectIds.splice(n,1),this.set("connectId",this._connectIds))},buildRendering:function(){this.inherited(arguments),o.add(this.domNode,"dijitTooltipData")},startup:function(){this.inherited(arguments);var e=this.connectId;t.forEach(a.isArrayLike(e)?e:[e],this.addTarget,this)},getContent:function(t){return this.label||this.domNode.innerHTML},state:y,_setStateAttr:function(t){if(!(this.state==t||"SHOW TIMER"==t&&"SHOWING"==this.state||"HIDE TIMER"==t&&this.state==y)){switch(this._hideTimer&&(this._hideTimer.remove(),delete this._hideTimer),this._showTimer&&(this._showTimer.remove(),delete this._showTimer),t){case y:this._connectNode&&(w.hide(this._connectNode),delete this._connectNode,this.onHide());break;case"SHOW TIMER":"SHOWING"!=this.state&&(this._showTimer=this.defer((function(){this.set("state","SHOWING")}),this.showDelay));break;case"SHOWING":var e=this.getContent(this._connectNode);if(!e)return void this.set("state",y);w.show(e,this._connectNode,this.position,!this.isLeftToRight(),this.textDir,a.hitch(this,"set","state","SHOWING"),a.hitch(this,"set","state","HIDE TIMER")),this.onShow(this._connectNode,this.position);break;case"HIDE TIMER":this._hideTimer=this.defer((function(){this.set("state",y)}),this.hideDelay)}this._set("state",t)}},_onHover:function(t){this._connectNode&&t!=this._connectNode&&this.set("state",y),this._connectNode=t,this.set("state","SHOW TIMER")},_onUnHover:function(t){this.set("state","HIDE TIMER")},open:function(t){this.set("state",y),this._connectNode=t,this.set("state","SHOWING")},close:function(){this.set("state",y)},onShow:function(){},onHide:function(){},destroy:function(){this.set("state",y),t.forEach(this._connections||[],(function(e){t.forEach(e,(function(t){t.remove()}))}),this),this.inherited(arguments)}});return w._MasterTooltip=m,w.show=g.showTooltip,w.hide=g.hideTooltip,w.defaultPosition=["after-centered","before-centered"],w}.apply(null,n))||(t.exports=o)},1216:function(t,e,i){var n,o;n=[i(59),i(655),i(638),i(24),i(175),i(813),i(677)],void 0===(o=function(t,e,i,n,o,r,s){function a(n,s,a,d){var c=r.getEffectiveBox(n.ownerDocument);n.parentNode&&"body"==String(n.parentNode.tagName).toLowerCase()||o.body(n.ownerDocument).appendChild(n);var l=null;t.some(s,(function(t){var i=t.corner,o=t.pos,r=0,s={w:{L:c.l+c.w-o.x,R:o.x-c.l,M:c.w}[i.charAt(1)],h:{T:c.t+c.h-o.y,B:o.y-c.t,M:c.h}[i.charAt(0)]},u=n.style;if(u.left=u.right="auto",a){var h=a(n,t.aroundCorner,i,s,d);r=void 0===h?0:h}var p=n.style,f=p.display,v=p.visibility;"none"==p.display&&(p.visibility="hidden",p.display="");var _=e.position(n);p.display=f,p.visibility=v;var g={L:o.x,R:o.x-_.w,M:Math.max(c.l,Math.min(c.l+c.w,o.x+(_.w>>1))-_.w)}[i.charAt(1)],m={T:o.y,B:o.y-_.h,M:Math.max(c.t,Math.min(c.t+c.h,o.y+(_.h>>1))-_.h)}[i.charAt(0)],y=Math.max(c.l,g),b=Math.max(c.t,m),w=Math.min(c.l+c.w,g+_.w)-y,x=Math.min(c.t+c.h,m+_.h)-b;return r+=_.w-w+(_.h-x),(null==l||r<l.overflow)&&(l={corner:i,aroundCorner:t.aroundCorner,x:y,y:b,w:w,h:x,overflow:r,spaceAvailable:s}),!r})),l.overflow&&a&&a(n,l.aroundCorner,l.corner,l.spaceAvailable,d);var u=l.y,h=l.x,p=o.body(n.ownerDocument);/relative|absolute/.test(i.get(p,"position"))&&(u-=i.get(p,"marginTop"),h-=i.get(p,"marginLeft"));var f=n.style;return f.top=u+"px",f.left=h+"px",f.right="auto",l}var d={TL:"BR",TR:"BL",BL:"TR",BR:"TL"},c={at:function(e,i,n,o,r){return a(e,t.map(n,(function(t){var e={corner:t,aroundCorner:d[t],pos:{x:i.x,y:i.y}};return o&&(e.pos.x+="L"==t.charAt(1)?o.x:-o.x,e.pos.y+="T"==t.charAt(0)?o.y:-o.y),e})),r)},around:function(o,r,s,d,c){var l;if("string"==typeof r||"offsetWidth"in r||"ownerSVGElement"in r){if(l=e.position(r,!0),/^(above|below)/.test(s[0])){var u=e.getBorderExtents(r),h=r.firstChild?e.getBorderExtents(r.firstChild):{t:0,l:0,b:0,r:0},p=e.getBorderExtents(o),f=o.firstChild?e.getBorderExtents(o.firstChild):{t:0,l:0,b:0,r:0};l.y+=Math.min(u.t+h.t,p.t+f.t),l.h-=Math.min(u.t+h.t,p.t+f.t)+Math.min(u.b+h.b,p.b+f.b)}}else l=r;if(r.parentNode)for(var v="absolute"==i.getComputedStyle(r).position,_=r.parentNode;_&&1==_.nodeType&&"BODY"!=_.nodeName;){var g=e.position(_,!0),m=i.getComputedStyle(_);if(/relative|absolute/.test(m.position)&&(v=!1),!v&&/hidden|auto|scroll/.test(m.overflow)){var y=Math.min(l.y+l.h,g.y+g.h),b=Math.min(l.x+l.w,g.x+g.w);l.x=Math.max(l.x,g.x),l.y=Math.max(l.y,g.y),l.h=y-l.y,l.w=b-l.x}"absolute"==m.position&&(v=!0),_=_.parentNode}var w=l.x,x=l.y,C="w"in l?l.w:l.w=l.width,S="h"in l?l.h:(n.deprecated("place.around: dijit/place.__Rectangle: { x:"+w+", y:"+x+", height:"+l.height+", width:"+C+" } has been deprecated.  Please use { x:"+w+", y:"+x+", h:"+l.height+", w:"+C+" }","","2.0"),l.h=l.height),N=[];function T(t,e){N.push({aroundCorner:t,corner:e,pos:{x:{L:w,R:w+C,M:w+(C>>1)}[t.charAt(1)],y:{T:x,B:x+S,M:x+(S>>1)}[t.charAt(0)]}})}t.forEach(s,(function(t){var e=d;switch(t){case"above-centered":T("TM","BM");break;case"below-centered":T("BM","TM");break;case"after-centered":e=!e;case"before-centered":T(e?"ML":"MR",e?"MR":"ML");break;case"after":e=!e;case"before":T(e?"TL":"TR",e?"TR":"TL"),T(e?"BL":"BR",e?"BR":"BL");break;case"below-alt":e=!e;case"below":T(e?"BL":"BR",e?"TL":"TR"),T(e?"BR":"BL",e?"TR":"TL");break;case"above-alt":e=!e;case"above":T(e?"TL":"TR",e?"BL":"BR"),T(e?"TR":"TL",e?"BR":"BL");break;default:T(t.aroundCorner,t.corner)}}));var I=a(o,N,c,{w:C,h:S});return I.aroundNodePos=l,I}};return s.place=c}.apply(null,n))||(t.exports=o)},1217:function(t,e){t.exports='<div class="dijitTooltip dijitTooltipLeft" id="dojoTooltip" data-dojo-attach-event="mouseenter:onMouseEnter,mouseleave:onMouseLeave"\r\n\t><div class="dijitTooltipConnector" data-dojo-attach-point="connectorNode"></div\r\n\t><div class="dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point="containerNode" role=\'alert\'></div\r\n></div>\r\n'},1218:function(t,e){t.exports='<div class="dijit dijitReset dijitInline dijitLeft"\r\n\tid="widget_${id}" role="presentation"\r\n\t><div class=\'dijitReset dijitValidationContainer\'\r\n\t\t><input class="dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value="&#935; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\r\n\t/></div\r\n\t><div class="dijitReset dijitInputField dijitInputContainer"\r\n\t\t><input class="dijitReset dijitInputInner" data-dojo-attach-point=\'textbox,focusNode\' autocomplete="off"\r\n\t\t\t${!nameAttrSetting} type=\'${type}\'\r\n\t/></div\r\n></div>\r\n'},1219:function(t,e,i){var n,o;n=[i(61),i(63),i(1220)],void 0===(o=function(t,e){return e(t,"dijit/form/nls/validate",i.dj.c(),!1)}.apply(null,n))||(t.exports=o)},1220:function(t,e,i){t.exports={root:{invalidMessage:"The value entered is not valid.",missingMessage:"This value is required.",rangeMessage:"This value is out of range."},bs:!1,mk:!1,sr:!1,zh:!1,"zh-tw":!1,vi:!1,uk:!1,tr:!1,th:!1,sv:!1,sl:!1,sk:!1,ru:!1,ro:!1,pt:!1,"pt-pt":!1,pl:!1,nl:!1,nb:!1,lv:!1,lt:!1,ko:!1,kk:!1,ja:!1,it:!1,id:!1,hu:!1,hr:!1,hi:!1,he:!1,fr:!1,fi:!1,eu:!1,et:!1,es:!1,el:!1,de:!1,da:!1,cs:!1,ca:!1,bg:!1,az:!1,ar:!1}},1221:function(t,e,i){var n,o;n=[i(1222),i(102),i(15),i(11),i(4),i(23),i(320),i(887),i(683),i(662),i(899),i(900)],void 0===(o=function(t,e,i,n,o,r,s,a,d,c,l){var u=s.substitute;return{_oAuthIntervalId:0,_oAuthDialogContent:"<div class='dijitDialogPaneContentArea'><div style='padding-bottom: 5px; word-wrap: break-word;'>{oAuthInfo}</div><div style='margin: 0px; padding: 0px; height: 10px;'></div><div class='esriErrorMsg' style='display: none; color: white; background-color: #D46464; text-align: center; padding-top: 3px; padding-bottom: 3px;'>{invalidUser}</div><div style='margin: 0px; padding: 0px; height: 10px;'></div><div class='dijitDialogPaneActionBar'><button data-dojo-type='dijit.form.Button' data-dojo-props='type:\"button\", \"class\":\"esriIdSubmit\"'>{lblOk}</button><button data-dojo-type='dijit.form.Button' data-dojo-props='type:\"button\", \"class\":\"esriIdCancel\"'>{lblCancel}</button></div>",setOAuthRedirectionHandler:function(t){this._oAuthRedirectFunc=t},oAuthSignIn:function(t,i,n,r){var s=this._oAuthDfd=o.createResolver();r&&r.signal&&o.onAbort(r.signal,function(){var t=this._oAuthDfd&&this._oAuthDfd.oAuthWin_;t&&!t.closed?t.close():this.oAuthDialog&&this.oAuthDialog.onCancel()}.bind(this)),s.resUrl_=t,s.sinfo_=i,s.oinfo_=n;var a=!r||!1!==r.oAuthPopupConfirmation;if(!n.popup||!a)return this._doOAuthSignIn(t,i,n),s.promise;this._nls||(this._nls=l),this.oAuthDialog||(this.oAuthDialog=this._createOAuthDialog());var d=this.oAuthDialog,u=r&&r.error,h=r&&r.token;return e.hide(d.errMsg_),u&&u.details&&403==u.details.httpStatus&&h&&(c.set(d.errMsg_,"innerHTML",this._nls.forbidden),e.show(d.errMsg_)),c.set(d.serverLink_,{title:i.server,innerHTML:-1!==i.server.toLowerCase().indexOf("arcgis.com")?"ArcGIS Online":i.server}),d.show(),s.promise},setOAuthResponseHash:function(e){var i=this._oAuthDfd;if(this._oAuthDfd=null,i&&e){clearInterval(this._oAuthIntervalId),"#"===e.charAt(0)&&(e=e.substring(1));var o=r.queryToObject(e);if(o.error){var s="access_denied"===o.error,a=new n(s?"identity-manager:user-aborted":"identity-manager:authentication-failed",s?"ABORTED":"OAuth: "+o.error+" - "+o.error_description);i.reject(a)}else{var d=i.sinfo_,c=i.oinfo_._oAuthCred,l=new t({userId:o.username,server:d.server,token:o.access_token,expires:Date.now()+1e3*Number(o.expires_in),ssl:"true"===o.ssl,_oAuthCred:c});c.storage=o.persist?window.localStorage:window.sessionStorage,c.token=l.token,c.expires=l.expires,c.userId=l.userId,c.ssl=l.ssl,c.save(),i.resolve(l)}}},_createOAuthDialog:function(){var t=this._nls,i=u(this._oAuthDialogContent,t);i=u(i,{server:"<span class='serverLink' style='word-wrap: break-word;'></span>"});var o=new a({title:t.title,content:i,class:"esri-widget esriOAuthSignInDialog esriIdentityDialog",style:"min-width: 18em;",esriIdMgr_:this,execute_:function(){var t=o.esriIdMgr_._oAuthDfd;o.hide_(),o.esriIdMgr_._doOAuthSignIn(t.resUrl_,t.sinfo_,t.oinfo_)},cancel_:function(){var t=o.esriIdMgr_._oAuthDfd;o.esriIdMgr_._oAuthDfd=null,o.hide_();var e=new n("identity-manager:user-aborted","ABORTED");t.reject(e)},hide_:function(){e.hide(o.errMsg_),o.hide(),a._DialogLevelManager.hide(o)}}),r=o.domNode;return o.btnSubmit_=d.byNode(r.getElementsByClassName("esriIdSubmit")[0]),o.btnCancel_=d.byNode(r.getElementsByClassName("esriIdCancel")[0]),o.serverLink_=r.getElementsByClassName("serverLink")[0],o.errMsg_=r.getElementsByClassName("esriErrorMsg")[0],o.connect(o.btnSubmit_,"onClick",o.execute_),o.connect(o.btnCancel_,"onClick",o.onCancel),o.connect(o,"onCancel",o.cancel_),o},_doOAuthSignIn:function(t,e,o){var s=this,a={client_id:o.appId,response_type:"token",state:JSON.stringify({portalUrl:o.portalUrl}),expiration:o.expiration,locale:o.locale,redirect_uri:o.popup?r.makeAbsolute(o.popupCallbackUrl):window.location.href.replace(/#.*$/,"")};o.forceLogin&&(a.force_login=!0);var d,c=o.portalUrl.replace(/^http:/i,"https:")+"/sharing/oauth2/authorize",l=c+"?"+r.objectToQuery(a);if(o.popup)if(7===i("ie")?(d=window.open(o.popupCallbackUrl,"esriJSAPIOAuth",o.popupWindowFeatures)).location=l:d=window.open(l,"esriJSAPIOAuth",o.popupWindowFeatures),d)d.focus(),this._oAuthDfd.oAuthWin_=d,this._oAuthIntervalId=setInterval((function(){if(d.closed){clearInterval(s._oAuthIntervalId);var t=s._oAuthDfd;if(t){var e=new n("identity-manager:user-aborted","ABORTED");t.reject(e)}}}),500);else{var u=new n("identity-manager:popup-blocked","ABORTED");this._oAuthDfd.reject(u)}else this._rejectOnPersistedPageShow=!0,this._oAuthRedirectFunc?this._oAuthRedirectFunc({authorizeParams:a,authorizeUrl:c,resourceUrl:t,serverInfo:e,oAuthInfo:o}):window.location=l}}}.apply(null,n))||(t.exports=o)},1222:function(t,e,i){var n,o;n=[i.dj.c(t.i),e,i(898)],void 0===(o=function(t,e,i){return i.Credential}.apply(null,n))||(t.exports=o)},590:function(t,e,i){var n,o;n=[i.dj.c(t.i),e,i(79),i(128),i(1169),i(1221)],void 0===(o=function(t,e,i,n,o,r){var s=new o,a=n.safeMixin(s,r);return i.id=a,a}.apply(null,n))||(t.exports=o)},650:function(t,e,i){var n,o;n=[i(24),i(22)],void 0===(o=function(t,e){var i={};return e.setObject("dojo.regexp",i),i.escapeString=function(t,e){return t.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,(function(t){return e&&-1!=e.indexOf(t)?t:"\\"+t}))},i.buildGroupRE=function(t,e,n){if(!(t instanceof Array))return e(t);for(var o=[],r=0;r<t.length;r++)o.push(e(t[r]));return i.group(o.join("|"),n)},i.group=function(t,e){return"("+(e?"?:":"")+t+")"},i}.apply(null,n))||(t.exports=o)},659:function(t,e,i){var n,o;n=[i(22),i(59),i(172)],void 0===(o=function(t,e,i){var n,o=/\s+/,r=[""];function s(t){if("string"==typeof t||t instanceof String){if(t&&!o.test(t))return r[0]=t,r;var i=t.split(o);return i.length&&!i[0]&&i.shift(),i.length&&!i[i.length-1]&&i.pop(),i}return t?e.filter(t,(function(t){return t})):[]}var a={};return n={contains:function(t,e){return(" "+i.byId(t).className+" ").indexOf(" "+e+" ")>=0},add:function(t,e){t=i.byId(t),e=s(e);var n,o=t.className;n=(o=o?" "+o+" ":" ").length;for(var r,a=0,d=e.length;a<d;++a)(r=e[a])&&o.indexOf(" "+r+" ")<0&&(o+=r+" ");n<o.length&&(t.className=o.substr(1,o.length-2))},remove:function(e,n){var o;if(e=i.byId(e),void 0!==n){n=s(n),o=" "+e.className+" ";for(var r=0,a=n.length;r<a;++r)o=o.replace(" "+n[r]+" "," ");o=t.trim(o)}else o="";e.className!=o&&(e.className=o)},replace:function(t,e,o){t=i.byId(t),a.className=t.className,n.remove(a,o),n.add(a,e),t.className!==a.className&&(t.className=a.className)},toggle:function(t,e,o){if(t=i.byId(t),void 0===o)for(var r,a=0,d=(e=s(e)).length;a<d;++a)r=e[a],n[n.contains(t,r)?"remove":"add"](t,r);else n[o?"add":"remove"](t,e);return o}}}.apply(null,n))||(t.exports=o)},677:function(t,e,i){var n,o;n=[i(24)],void 0===(o=function(t){return t.dijit}.apply(null,n))||(t.exports=o)},683:function(t,e,i){var n,o;n=[i(59),i(175),i(677)],void 0===(o=function(t,e,i){var n={},o={},r={length:0,add:function(t){if(o[t.id])throw new Error("Tried to register widget with id=="+t.id+" but that id is already registered");o[t.id]=t,this.length++},remove:function(t){o[t]&&(delete o[t],this.length--)},byId:function(t){return"string"==typeof t?o[t]:t},byNode:function(t){return o[t.getAttribute("widgetId")]},toArray:function(){var t=[];for(var e in o)t.push(o[e]);return t},getUniqueId:function(t){var e;do{e=t+"_"+(t in n?++n[t]:n[t]=0)}while(o[e]);return"dijit"==i._scopeName?e:i._scopeName+"_"+e},findWidgets:function(t,e){var i=[];return function t(n){for(var r=n.firstChild;r;r=r.nextSibling)if(1==r.nodeType){var s=r.getAttribute("widgetId");if(s){var a=o[s];a&&i.push(a)}else r!==e&&t(r)}}(t),i},_destroyAll:function(){i._curFocus=null,i._prevFocus=null,i._activeStack=[],t.forEach(r.findWidgets(e.body()),(function(t){t._destroyed||(t.destroyRecursive?t.destroyRecursive():t.destroy&&t.destroy())}))},getEnclosingWidget:function(t){for(;t;){var e=1==t.nodeType&&t.getAttribute("widgetId");if(e)return o[e];t=t.parentNode}return null},_hash:o};return i.registry=r,r}.apply(null,n))||(t.exports=o)},697:function(t,e,i){var n,o;n=[i(134),i(25)],void 0===(o=function(t,e){var i,n=document,o={loaded:1,complete:1},r="string"!=typeof n.readyState,s=!!o[n.readyState],a=[];function d(t){a.push(t),s&&c()}function c(){if(!i){for(i=!0;a.length;)try{a.shift()(n)}catch(t){console.error(t,"in domReady callback",t.stack)}i=!1,d._onQEmpty()}}if(d.load=function(t,e,i){d(i)},d._Q=a,d._onQEmpty=function(){},r&&(n.readyState="loading"),!s){var l=[],u=function(e){e=e||t.event,s||"readystatechange"==e.type&&!o[n.readyState]||(r&&(n.readyState="complete"),s=1,c())},h=function(t,e){t.addEventListener(e,u,!1),a.push((function(){t.removeEventListener(e,u,!1)}))};if(h(n,"DOMContentLoaded"),h(t,"load"),"onreadystatechange"in n?h(n,"readystatechange"):r||l.push((function(){return o[n.readyState]})),l.length){var p=function(){if(!s){for(var t=l.length;t--;)if(l[t]())return void u("poller");setTimeout(p,30)}};p()}}return d}.apply(null,n))||(t.exports=o)},705:function(t,e,i){var n,o;n=[i(22),i(68),i(175),i(172),i(655),i(638),i(658)],void 0===(o=function(t,e,i,n,o,r,s){e.add("rtl-adjust-position-for-verticalScrollBar",(function(t,e){var n=i.body(e),r=s.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},n,"last"),a=s.create("div",{style:{overflow:"hidden",direction:"ltr"}},r,"last"),d=0!=o.position(a).x;return r.removeChild(a),n.removeChild(r),d})),e.add("position-fixed-support",(function(t,e){var n=i.body(e),r=s.create("span",{style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},n,"last"),a=s.create("span",{style:{position:"fixed",left:"0",top:"0"}},r,"last"),d=o.position(a).x!=o.position(r).x;return r.removeChild(a),n.removeChild(r),d}));var a={getBox:function(t){var n,r,s="BackCompat"==(t=t||i.doc).compatMode?i.body(t):t.documentElement,d=o.docScroll(t);if(e("touch")){var c=a.get(t);n=c.innerWidth||s.clientWidth,r=c.innerHeight||s.clientHeight}else n=s.clientWidth,r=s.clientHeight;return{l:d.x,t:d.y,w:n,h:r}},get:function(t){if(e("ie")&&a!==document.parentWindow){t.parentWindow.execScript("document._parentWindow = window;","Javascript");var i=t._parentWindow;return t._parentWindow=null,i}return t.parentWindow||t.defaultView},scrollIntoView:function(t,s){try{var a=(t=n.byId(t)).ownerDocument||i.doc,d=i.body(a),c=a.documentElement||d.parentNode,l=e("ie")||e("trident"),u=e("webkit");if(t==d||t==c)return;if(!(e("mozilla")||l||u||e("opera")||e("trident")||e("edge"))&&"scrollIntoView"in t)return void t.scrollIntoView(!1);var h="BackCompat"==a.compatMode,p=Math.min(d.clientWidth||c.clientWidth,c.clientWidth||d.clientWidth),f=Math.min(d.clientHeight||c.clientHeight,c.clientHeight||d.clientHeight),v=u||h?d:c,_=s||o.position(t),g=t.parentNode,m=function(t){return!(l<=6||7==l&&h)&&(e("position-fixed-support")&&"fixed"==r.get(t,"position").toLowerCase())},y=this,b=function(t,e,i){"BODY"==t.tagName||"HTML"==t.tagName?y.get(t.ownerDocument).scrollBy(e,i):(e&&(t.scrollLeft+=e),i&&(t.scrollTop+=i))};if(m(t))return;for(;g;){g==d&&(g=v);var w=o.position(g),x=m(g),C="rtl"==r.getComputedStyle(g).direction.toLowerCase();if(g==v)w.w=p,w.h=f,v==c&&(l||e("trident"))&&C&&(w.x+=v.offsetWidth-w.w),w.x=0,w.y=0;else{var S=o.getPadBorderExtents(g);w.w-=S.w,w.h-=S.h,w.x+=S.l,w.y+=S.t;var N=g.clientWidth,T=w.w-N;N>0&&T>0&&(C&&e("rtl-adjust-position-for-verticalScrollBar")&&(w.x+=T),w.w=N),N=g.clientHeight,T=w.h-N,N>0&&T>0&&(w.h=N)}x&&(w.y<0&&(w.h+=w.y,w.y=0),w.x<0&&(w.w+=w.x,w.x=0),w.y+w.h>f&&(w.h=f-w.y),w.x+w.w>p&&(w.w=p-w.x));var I,j,A=_.x-w.x,k=_.y-w.y,D=A+_.w-w.w,M=k+_.h-w.h;D*A>0&&(g.scrollLeft||g==v||g.scrollWidth>g.offsetHeight)&&(I=Math[A<0?"max":"min"](A,D),C&&(8==l&&!h||e("trident")>=5)&&(I=-I),j=g.scrollLeft,b(g,I,0),I=g.scrollLeft-j,_.x-=I),M*k>0&&(g.scrollTop||g==v||g.scrollHeight>g.offsetHeight)&&(I=Math.ceil(Math[k<0?"max":"min"](k,M)),j=g.scrollTop,b(g,0,I),I=g.scrollTop-j,_.y-=I),g=g!=v&&!x&&g.parentNode}}catch(e){console.error("scrollIntoView: "+e),t.scrollIntoView(!1)}}};return t.setObject("dojo.window",a),a}.apply(null,n))||(t.exports=o)},723:function(t,e,i){var n,o;n=[i(24),i(25),i.dj.c(t.i),i(697),i(22)],void 0===(o=function(t,e,i,n,o){var r=0,s=[],a=0,d=function(){r=1,t._postLoad=t.config.afterOnLoad=!0,c()},c=function(){if(!a){for(a=1;r&&(!n||0==n._Q.length)&&(!i.idle||i.idle())&&s.length;){var t=s.shift();try{t()}catch(t){if(t.info=t.message,!i.signal)throw t;i.signal("error",t)}}a=0}};i.on&&i.on("idle",c),n&&(n._onQEmpty=c);var l=t.ready=t.addOnLoad=function(e,i,n){var r=o._toArray(arguments);"number"!=typeof e?(n=i,i=e,e=1e3):r.shift(),(n=n?o.hitch.apply(t,r):function(){i()}).priority=e;for(var a=0;a<s.length&&e>=s[a].priority;a++);s.splice(a,0,n),c()};if(e.add("dojo-config-addOnLoad",1),e("dojo-config-addOnLoad")){var u=t.config.addOnLoad;u&&l[o.isArray(u)?"apply":"call"](t,u)}return n?n(d):d(),l}.apply(null,n))||(t.exports=o)},724:function(t,e,i){var n,o;n=[i(24),i(122),i(172),i(659),i(22),i(117),i(25),i(722),i(697),i(175)],void 0===(o=function(t,e,i,n,o,r,s,a,d,c){var l,u,h,p,f,v,_,g,m,y,b=s("ios")<5,w=s("pointer-events")||s("MSPointer"),x=function(){var t={};for(var e in{down:1,move:1,up:1,cancel:1,over:1,out:1})t[e]="pointer"+e;return t}(),C=s("touch-events"),S=!1;function N(t,e,i){return w&&i?function(t,e){return r(t,i,e)}:C?function(i,n){var o=r(i,e,(function(t){n.call(this,t),m=(new Date).getTime()})),s=r(i,t,(function(t){(!m||(new Date).getTime()>m+1e3)&&n.call(this,t)}));return{remove:function(){o.remove(),s.remove()}}}:function(e,i){return r(e,t,i)}}function T(t,e,o){if(!a.isRight(t)){var s=function(t){do{if(void 0!==t.dojoClick)return t}while(t=t.parentNode)}(t.target);if((u=!t.target.disabled&&s&&s.dojoClick)&&(h=(S="useTarget"==u)?s:t.target,S&&t.preventDefault(),p=t.changedTouches?t.changedTouches[0].pageX-c.global.pageXOffset:t.clientX,f=t.changedTouches?t.changedTouches[0].pageY-c.global.pageYOffset:t.clientY,v=("object"==typeof u?u.x:"number"==typeof u?u:0)||4,_=("object"==typeof u?u.y:"number"==typeof u?u:0)||4,!l)){function d(t){u=S?i.isDescendant(c.doc.elementFromPoint(t.changedTouches?t.changedTouches[0].pageX-c.global.pageXOffset:t.clientX,t.changedTouches?t.changedTouches[0].pageY-c.global.pageYOffset:t.clientY),h):u&&(t.changedTouches?t.changedTouches[0].target:t.target)==h&&Math.abs((t.changedTouches?t.changedTouches[0].pageX-c.global.pageXOffset:t.clientX)-p)<=v&&Math.abs((t.changedTouches?t.changedTouches[0].pageY-c.global.pageYOffset:t.clientY)-f)<=_}function m(t){c.doc.addEventListener(t,(function(e){var i=e.target;u&&!e._dojo_click&&(new Date).getTime()<=g+1e3&&("INPUT"!=i.tagName||!n.contains(i,"dijitOffScreen"))&&(e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),"click"==t&&("INPUT"!=i.tagName||"radio"==i.type&&(n.contains(i,"dijitCheckBoxInput")||n.contains(i,"mblRadioButton"))||"checkbox"==i.type&&(n.contains(i,"dijitCheckBoxInput")||n.contains(i,"mblCheckBox")))&&"TEXTAREA"!=i.tagName&&"AUDIO"!=i.tagName&&"VIDEO"!=i.tagName&&e.preventDefault())}),!0)}l=!0,c.doc.addEventListener(e,(function(t){a.isRight(t)||(d(t),S&&t.preventDefault())}),!0),c.doc.addEventListener(o,(function(t){if(!a.isRight(t)&&(d(t),u)){g=(new Date).getTime();var e=S?h:t.target;"LABEL"===e.tagName&&(e=i.byId(e.getAttribute("for"))||e);var n=t.changedTouches?t.changedTouches[0]:t;function o(e){var i=document.createEvent("MouseEvents");return i._dojo_click=!0,i.initMouseEvent(e,!0,!0,t.view,t.detail,n.screenX,n.screenY,n.clientX,n.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),i}var s=o("mousedown"),c=o("mouseup"),l=o("click");setTimeout((function(){r.emit(e,"mousedown",s),r.emit(e,"mouseup",c),r.emit(e,"click",l),g=(new Date).getTime()}),0)}}),!0),m("click"),m("mousedown"),m("mouseup")}}}s("touch")&&d(w?function(){c.doc.addEventListener(x.down,(function(t){T(t,x.move,x.up)}),!0)}:function(){function t(t){var e=o.delegate(t,{bubbles:!0});return s("ios")>=6&&(e.touches=t.touches,e.altKey=t.altKey,e.changedTouches=t.changedTouches,e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.shiftKey=t.shiftKey,e.targetTouches=t.targetTouches),e}y=c.body(),c.doc.addEventListener("touchstart",(function(t){m=(new Date).getTime();var e=y;y=t.target,r.emit(e,"dojotouchout",{relatedTarget:y,bubbles:!0}),r.emit(y,"dojotouchover",{relatedTarget:e,bubbles:!0}),T(t,"touchmove","touchend")}),!0),r(c.doc,"touchmove",(function(e){m=(new Date).getTime();var i=c.doc.elementFromPoint(e.pageX-(b?0:c.global.pageXOffset),e.pageY-(b?0:c.global.pageYOffset));i&&(y!==i&&(r.emit(y,"dojotouchout",{relatedTarget:i,bubbles:!0}),r.emit(i,"dojotouchover",{relatedTarget:y,bubbles:!0}),y=i),r.emit(i,"dojotouchmove",t(e))||e.preventDefault())})),r(c.doc,"touchend",(function(e){m=(new Date).getTime();var i=c.doc.elementFromPoint(e.pageX-(b?0:c.global.pageXOffset),e.pageY-(b?0:c.global.pageYOffset))||c.body();r.emit(i,"dojotouchend",t(e))}))});var I={press:N("mousedown","touchstart",x.down),move:N("mousemove","dojotouchmove",x.move),release:N("mouseup","dojotouchend",x.up),cancel:N(a.leave,"touchcancel",w?x.cancel:null),over:N("mouseover","dojotouchover",x.over),out:N("mouseout","dojotouchout",x.out),enter:a._eventHandler(N("mouseover","dojotouchover",x.over)),leave:a._eventHandler(N("mouseout","dojotouchout",x.out))};return t.touch=I,I}.apply(null,n))||(t.exports=o)},725:function(t,e,i){var n,o;n=[i(122),i(125),i(768),i(273),i(25),i(24),i(22),i(811),i(723),i(683),i(812),i(1179),i(1180),i(1181),i(1182)],void 0===(o=function(t,e,i,n,o,r,s,a,d,c,l,u,h){function p(){}function f(t){return function(e,n,o,r){return e&&"string"==typeof n&&e[n]==p?e.on(n.substring(2).toLowerCase(),s.hitch(o,r)):t.apply(i,arguments)}}t.around(i,"connect",f),r.connect&&t.around(r,"connect",f);var v=n("dijit._Widget",[l,u,h],{onClick:p,onDblClick:p,onKeyDown:p,onKeyPress:p,onKeyUp:p,onMouseDown:p,onMouseMove:p,onMouseOut:p,onMouseOver:p,onMouseLeave:p,onMouseEnter:p,onMouseUp:p,constructor:function(t){for(var e in this._toConnect={},t)this[e]===p&&(this._toConnect[e.replace(/^on/,"").toLowerCase()]=t[e],delete t[e])},postCreate:function(){for(var t in this.inherited(arguments),this._toConnect)this.on(t,this._toConnect[t]);delete this._toConnect},on:function(t,e){return this[this._onMap(t)]===p?i.connect(this.domNode,t.toLowerCase(),this,e):this.inherited(arguments)},_setFocusedAttr:function(t){this._focused=t,this._set("focused",t)},setAttribute:function(t,e){r.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0"),this.set(t,e)},attr:function(t,e){var i=arguments.length;return i>=2||"object"==typeof t?this.set.apply(this,arguments):this.get(t)},getDescendants:function(){return r.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0"),this.containerNode?a("[widgetId]",this.containerNode).map(c.byNode):[]},_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},onClose:function(){return!0}});return o("dijit-legacy-requires")&&d(0,(function(){require(["dijit/_base"])})),v}.apply(null,n))||(t.exports=o)},733:function(t,e,i){var n,o;n=[i(1184),i(273),i(658),i(22),i(117),i(68),i(771),i(1187)],void 0===(o=function(t,e,i,n,o,r,s,a){var d=e("dijit._TemplatedMixin",a,{templateString:null,templatePath:null,_skipNodeCache:!1,searchContainerNode:!0,_stringRepl:function(t){var e=this.declaredClass,i=this;return s.substitute(t,this,(function(t,o){if("!"==o.charAt(0)&&(t=n.getObject(o.substr(1),!1,i)),void 0===t)throw new Error(e+" template:"+o);return null==t?"":"!"==o.charAt(0)?t:this._escapeValue(""+t)}),this)},_escapeValue:function(t){return t.replace(/["'<>&]/g,(function(t){return{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}[t]}))},buildRendering:function(){if(!this._rendered){this.templateString||(this.templateString=t(this.templatePath,{sanitize:!0}));var e,o=d.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument);if(n.isString(o)){if(1!=(e=i.toDom(this._stringRepl(o),this.ownerDocument)).nodeType)throw new Error("Invalid template: "+o)}else e=o.cloneNode(!0);this.domNode=e}this.inherited(arguments),this._rendered||this._fillContent(this.srcNodeRef),this._rendered=!0},_fillContent:function(t){var e=this.containerNode;if(t&&e)for(;t.hasChildNodes();)e.appendChild(t.firstChild)}});return d._templateCache={},d.getCachedTemplate=function(t,e,n){var o=d._templateCache,r=t,a=o[r];if(a){try{if(!a.ownerDocument||a.ownerDocument==(n||document))return a}catch(t){}i.destroy(a)}if(t=s.trim(t),e||t.match(/\$\{([^\}]+)\}/g))return o[r]=t;var c=i.toDom(t,n);if(1!=c.nodeType)throw new Error("Invalid template: "+t);return o[r]=c},r("ie")&&o(window,"unload",(function(){var t=d._templateCache;for(var e in t){var n=t[e];"object"==typeof n&&i.destroy(n),delete t[e]}})),d}.apply(null,n))||(t.exports=o)},769:function(t,e,i){var n,o;n=[i(273),i(22),i(59),i(190)],void 0===(o=function(t,e,i,n){return t("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(t){var e=this._attrPairNames;return e[t]?e[t]:e[t]={s:"_"+t+"Setter",g:"_"+t+"Getter"}},postscript:function(t){t&&this.set(t)},_get:function(t,e){return"function"==typeof this[e.g]?this[e.g]():this[t]},get:function(t){return this._get(t,this._getAttrNames(t))},set:function(t,e){if("object"==typeof t){for(var i in t)t.hasOwnProperty(i)&&"_watchCallbacks"!=i&&this.set(i,t[i]);return this}var o,r=this._getAttrNames(t),s=this._get(t,r),a=this[r.s];if("function"==typeof a?o=a.apply(this,Array.prototype.slice.call(arguments,1)):this[t]=e,this._watchCallbacks){var d=this;n(o,(function(){d._watchCallbacks(t,s,e)}))}return this},_changeAttrValue:function(t,e){var i=this.get(t);return this[t]=e,this._watchCallbacks&&this._watchCallbacks(t,i,e),this},watch:function(t,e){var n=this._watchCallbacks;if(!n){var o=this;n=this._watchCallbacks=function(t,e,i,r){var s=function(n){if(n)for(var r=0,s=(n=n.slice()).length;r<s;r++)n[r].call(o,t,e,i)};s(n["_"+t]),r||s(n["*"])}}e||"function"!=typeof t?t="_"+t:(e=t,t="*");var r=n[t];"object"!=typeof r&&(r=n[t]=[]),r.push(e);var s={};return s.unwatch=s.remove=function(){var t=i.indexOf(r,e);t>-1&&r.splice(t,1)},s}})}.apply(null,n))||(t.exports=o)},770:function(t,e,i){var n,o;n=[i(704),i(722),i(117),i(724)],void 0===(o=function(t,e,i,n){function o(e){if((e.keyCode===t.ENTER||e.keyCode===t.SPACE)&&!/input|button|textarea/i.test(e.target.nodeName))for(var i=e.target;i;i=i.parentNode)if(i.dojoClick)return!0}var r;i(document,"keydown",(function(t){o(t)?(r=t.target,t.preventDefault()):r=null})),i(document,"keyup",(function(t){o(t)&&t.target==r&&(r=null,i.emit(t.target,"click",{cancelable:!0,bubbles:!0,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,metaKey:t.metaKey,altKey:t.altKey,_origType:t.type}))}));var s=function(t,e){return t.dojoClick=!0,i(t,"click",e)};return s.click=s,s.press=function(o,r){var s=i(o,n.press,(function(t){("mousedown"!=t.type||e.isLeft(t))&&r(t)})),a=i(o,"keydown",(function(e){e.keyCode!==t.ENTER&&e.keyCode!==t.SPACE||r(e)}));return{remove:function(){s.remove(),a.remove()}}},s.release=function(o,r){var s=i(o,n.release,(function(t){("mouseup"!=t.type||e.isLeft(t))&&r(t)})),a=i(o,"keyup",(function(e){e.keyCode!==t.ENTER&&e.keyCode!==t.SPACE||r(e)}));return{remove:function(){s.remove(),a.remove()}}},s.move=n.move,s}.apply(null,n))||(t.exports=o)},771:function(t,e,i){var n,o;n=[i(24),i(22)],void 0===(o=function(t,e){var i=/[&<>'"\/]/g,n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"},o={};return e.setObject("dojo.string",o),o.escape=function(t){return t?t.replace(i,(function(t){return n[t]})):""},o.rep=function(t,e){if(e<=0||!t)return"";for(var i=[];1&e&&i.push(t),e>>=1;)t+=t;return i.join("")},o.pad=function(t,e,i,n){i||(i="0");var r=String(t),s=o.rep(i,Math.ceil((e-r.length)/i.length));return n?r+s:s+r},o.substitute=function(i,n,o,r){return r=r||t.global,o=o?e.hitch(r,o):function(t){return t},i.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,(function(t,i,s){if(""==i)return"$";var a=e.getObject(i,!1,n);s&&(a=e.getObject(s,!1,r).call(r,a,i));var d=o(a,i);if(void 0===d)throw new Error('string.substitute could not find key "'+i+'" in template');return d.toString()}))},o.trim=String.prototype.trim?e.trim:function(t){for(var e=(t=t.replace(/^\s+/,"")).length-1;e>=0;e--)if(/\S/.test(t.charAt(e))){t=t.substring(0,e+1);break}return t},o}.apply(null,n))||(t.exports=o)},810:function(t,e,i){var n,o;n=[i(59),i(172),i(662),i(638),i(22),i(68),i(677)],void 0===(o=function(t,e,i,n,o,r,s){var a={_isElementShown:function(t){var e=n.get(t);return"hidden"!=e.visibility&&"collapsed"!=e.visibility&&"none"!=e.display&&"hidden"!=i.get(t,"type")},hasDefaultTabStop:function(t){switch(t.nodeName.toLowerCase()){case"a":return i.has(t,"href");case"area":case"button":case"input":case"object":case"select":case"textarea":return!0;case"iframe":var e;try{var n=t.contentDocument;if("designMode"in n&&"on"==n.designMode)return!0;e=n.body}catch(i){try{e=t.contentWindow.document.body}catch(t){return!1}}return e&&("true"==e.contentEditable||e.firstChild&&"true"==e.firstChild.contentEditable);default:return"true"==t.contentEditable}},effectiveTabIndex:function(t){return i.get(t,"disabled")?void 0:i.has(t,"tabIndex")?+i.get(t,"tabIndex"):a.hasDefaultTabStop(t)?0:void 0},isTabNavigable:function(t){return a.effectiveTabIndex(t)>=0},isFocusable:function(t){return a.effectiveTabIndex(t)>=-1},_getTabNavigable:function(t){var e,n,o,s,d,c,l={};function u(t){return t&&"input"==t.tagName.toLowerCase()&&t.type&&"radio"==t.type.toLowerCase()&&t.name&&t.name.toLowerCase()}var h=a._isElementShown,p=a.effectiveTabIndex,f=function(t){for(var a=t.firstChild;a;a=a.nextSibling)if(!(1!=a.nodeType||r("ie")<=9&&"HTML"!==a.scopeName)&&h(a)){var v=p(a);if(v>=0){0==v?(e||(e=a),n=a):v>0&&((!o||v<s)&&(s=v,o=a),(!d||v>=c)&&(c=v,d=a));var _=u(a);i.get(a,"checked")&&_&&(l[_]=a)}"SELECT"!=a.nodeName.toUpperCase()&&f(a)}};function v(t){return l[u(t)]||t}return h(t)&&f(t),{first:v(e),last:v(n),lowest:v(o),highest:v(d)}},getFirstInTabbingOrder:function(t,i){var n=a._getTabNavigable(e.byId(t,i));return n.lowest?n.lowest:n.first},getLastInTabbingOrder:function(t,i){var n=a._getTabNavigable(e.byId(t,i));return n.last?n.last:n.highest}};return o.mixin(s,a),a}.apply(null,n))||(t.exports=o)},811:function(t,e,i){var n,o;n=[i(24),i(25),i(172),i(117),i(59),i(22),i(1175),i(1176)],void 0===(o=function(t,e,i,n,o,r,s,a){"use strict";e.add("array-extensible",(function(){return 1==r.delegate([],{length:1}).length&&!e("bug-for-in-skips-shadowed")}));var d=Array.prototype,c=d.slice,l=d.concat,u=o.forEach,h=function(e,i,n){return i=[0].concat(c.call(i,0)),n=n||t.global,function(t){return i[0]=t,e.apply(n,i)}},p=function(t){var i=this instanceof f&&e("array-extensible");"number"==typeof t&&(t=Array(t));var n=t&&"length"in t?t:arguments;if(i||!n.sort){for(var o=i?this:[],s=o.length=n.length,a=0;a<s;a++)o[a]=n[a];if(i)return o;n=o}return r._mixin(n,v),n._NodeListCtor=function(t){return f(t)},n},f=p,v=f.prototype=[];function _(t,e){var n=function(n,o){if("string"==typeof o&&!(o=i.byId(o)))return new e([]);var r="string"==typeof n?t(n,o):n?n.end&&n.on?n:[n]:[];return r.end&&r.on?r:new e(r)};if(n.matches=t.match||function(t,e,i){return n.filter([t],e,i).length>0},n.filter=t.filter||function(t,e,i){return n(e,i).filter((function(e){return o.indexOf(t,e)>-1}))},"function"!=typeof t){var r=t.search;t=function(t,e){return r(e||document,t)}}return n}f._wrap=v._wrap=function(t,e,i){var n=new(i||this._NodeListCtor||f)(t);return e?n._stash(e):n},f._adaptAsMap=function(t,e){return function(){return this.map(h(t,arguments,e))}},f._adaptAsForEach=function(t,e){return function(){return this.forEach(h(t,arguments,e)),this}},f._adaptAsFilter=function(t,e){return function(){return this.filter(h(t,arguments,e))}},f._adaptWithCondition=function(e,i,n){return function(){var o=arguments,r=h(e,o,n);return i.call(n||t.global,o)?this.map(r):(this.forEach(r),this)}},u(["slice","splice"],(function(t){var e=d[t];v[t]=function(){return this._wrap(e.apply(this,arguments),"slice"==t?this:null)}})),u(["indexOf","lastIndexOf","every","some"],(function(e){var i=o[e];v[e]=function(){return i.apply(t,[this].concat(c.call(arguments,0)))}})),r.extend(p,{constructor:f,_NodeListCtor:f,toString:function(){return this.join(",")},_stash:function(t){return this._parent=t,this},on:function(t,e){var i=this.map((function(i){return n(i,t,e)}));return i.remove=function(){for(var t=0;t<i.length;t++)i[t].remove()},i},end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(t){var e=c.call(this,0),i=o.map(arguments,(function(t){return c.call(t,0)}));return this._wrap(l.apply(e,i),this)},map:function(t,e){return this._wrap(o.map(this,t,e),this)},forEach:function(t,e){return u(this,t,e),this},filter:function(t){var e=arguments,i=this,n=0;if("string"==typeof t){if(i=g._filterResult(this,e[0]),1==e.length)return i._stash(this);n=1}return this._wrap(o.filter(i,e[n],e[n+1]),this)},instantiate:function(t,e){var i=r.isFunction(t)?t:r.getObject(t);return e=e||{},this.forEach((function(t){new i(e,t)}))},at:function(){var t=new this._NodeListCtor(0);return u(arguments,(function(e){e<0&&(e=this.length+e),this[e]&&t.push(this[e])}),this),t._stash(this)}});var g=_(a,p);return t.query=_(a,(function(t){return p(t)})),g.load=function(t,e,i){s.load(t,e,(function(t){i(_(t,p))}))},t._filterQueryResult=g._filterResult=function(t,e,i){return new p(g.filter(t,e,i))},t.NodeList=g.NodeList=p,g}.apply(null,n))||(t.exports=o)},812:function(t,e,i){var n,o;n=[i.dj.c(t.i),i(59),i(122),i(125),i(768),i(273),i(172),i(662),i(659),i(658),i(655),i(638),i(25),i(24),i(22),i(117),i(723),i(769),i(808),i(175),i(1177),i.dj.h("dojo-bidi?1178"),i(683)],void 0===(o=function(t,e,i,n,o,r,s,a,d,c,l,u,h,p,f,v,_,g,m,y,b,w,x){h.add("dijit-legacy-requires",!p.isAsync),h.add("dojo-bidi",!1),h("dijit-legacy-requires")&&_(0,(function(){t(["dijit/_base/manager"])}));var C={};function S(t){var e={};for(var i in t)e[i.toLowerCase()]=!0;return e}function N(t){return function(e){a[e?"set":"remove"](this.domNode,t,e),this._set(t,e)}}var T=r("dijit._WidgetBase",[g,b],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:N("lang"),dir:"",_setDirAttr:N("dir"),class:"",_setClassAttr:{node:"domNode",type:"class"},_setTypeAttr:null,style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(t){this._set("ownerDocument",t)},attributeMap:{},_blankGif:n.blankGif||t.toUrl("dojo/resources/blank.gif"),textDir:"",_introspect:function(){var t=this.constructor;if(!t._setterAttrs){var e=t.prototype,i=t._setterAttrs=[],n=t._onMap={};for(var o in e.attributeMap)i.push(o);for(o in e)/^on/.test(o)&&(n[o.substring(2).toLowerCase()]=o),/^_set[A-Z](.*)Attr$/.test(o)&&(o=o.charAt(4).toLowerCase()+o.substr(5,o.length-9),e.attributeMap&&o in e.attributeMap||i.push(o))}},postscript:function(t,e){this.create(t,e)},create:function(t,e){var i;if(this._introspect(),this.srcNodeRef=s.byId(e),this._connects=[],this._supportingWidgets=[],this.srcNodeRef&&this.srcNodeRef.id&&"string"==typeof this.srcNodeRef.id&&(this.id=this.srcNodeRef.id),t&&(this.params=t,f.mixin(this,t)),this.postMixInProperties(),this.id||(this.id=x.getUniqueId(this.declaredClass.replace(/\./g,"_")),this.params&&delete this.params.id),this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:document),this.ownerDocumentBody=y.body(this.ownerDocument),x.add(this),this.buildRendering(),this.domNode){this._applyAttributes();var n=this.srcNodeRef;n&&n.parentNode&&this.domNode!==n&&(n.parentNode.replaceChild(this.domNode,n),i=!0),this.domNode.setAttribute("widgetId",this.id)}this.postCreate(),i&&delete this.srcNodeRef,this._created=!0},_applyAttributes:function(){var t={};for(var i in this.params||{})t[i]=this._get(i);for(i in e.forEach(this.constructor._setterAttrs,(function(e){if(!(e in t)){var i=this._get(e);i&&this.set(e,i)}}),this),t)this.set(i,t[i])},postMixInProperties:function(){},buildRendering:function(){if(this.domNode||(this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div")),this.baseClass){var t=this.baseClass.split(" ");this.isLeftToRight()||(t=t.concat(e.map(t,(function(t){return t+"Rtl"})))),d.add(this.domNode,t)}},postCreate:function(){},startup:function(){this._started||(this._started=!0,e.forEach(this.getChildren(),(function(t){t._started||t._destroyed||!f.isFunction(t.startup)||(t.startup(),t._started=!0)})))},destroyRecursive:function(t){this._beingDestroyed=!0,this.destroyDescendants(t),this.destroy(t)},destroy:function(t){function i(e){e.destroyRecursive?e.destroyRecursive(t):e.destroy&&e.destroy(t)}this._beingDestroyed=!0,this.uninitialize(),e.forEach(this._connects,f.hitch(this,"disconnect")),e.forEach(this._supportingWidgets,i),this.domNode&&e.forEach(x.findWidgets(this.domNode,this.containerNode),i),this.destroyRendering(t),x.remove(this.id),this._destroyed=!0},destroyRendering:function(t){this.bgIframe&&(this.bgIframe.destroy(t),delete this.bgIframe),this.domNode&&(t?a.remove(this.domNode,"widgetId"):c.destroy(this.domNode),delete this.domNode),this.srcNodeRef&&(t||c.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(t){e.forEach(this.getChildren(),(function(e){e.destroyRecursive&&e.destroyRecursive(t)}))},uninitialize:function(){return!1},_setStyleAttr:function(t){var e=this.domNode;f.isObject(t)?u.set(e,t):e.style.cssText?e.style.cssText+="; "+t:e.style.cssText=t,this._set("style",t)},_attrToDom:function(t,i,n){n=arguments.length>=3?n:this.attributeMap[t],e.forEach(f.isArray(n)?n:[n],(function(e){var n=this[e.node||e||"domNode"];switch(e.type||"attribute"){case"attribute":f.isFunction(i)&&(i=f.hitch(this,i));var o=e.attribute?e.attribute:/^on[A-Z][a-zA-Z]*$/.test(t)?t.toLowerCase():t;n.tagName?a.set(n,o,i):n.set(o,i);break;case"innerText":n.innerHTML="",n.appendChild(this.ownerDocument.createTextNode(i));break;case"textContent":n.textContent=i;break;case"innerHTML":n.innerHTML=i;break;case"class":d.replace(n,i,this[t]);break;case"toggleClass":d.toggle(n,e.className||t,i)}}),this)},get:function(t){var e=this._getAttrNames(t);return this[e.g]?this[e.g]():this._get(t)},set:function(t,e){if("object"==typeof t){for(var i in t)this.set(i,t[i]);return this}var n=this._getAttrNames(t),o=this[n.s];if(f.isFunction(o))var r=o.apply(this,Array.prototype.slice.call(arguments,1));else{var s=this.focusNode&&!f.isFunction(this.focusNode)?"focusNode":"domNode",a=this[s]&&this[s].tagName,d=a&&(C[a]||(C[a]=S(this[s]))),c=t in this.attributeMap?this.attributeMap[t]:n.s in this?this[n.s]:d&&n.l in d&&"function"!=typeof e||/^aria-|^data-|^role$/.test(t)?s:null;null!=c&&this._attrToDom(t,e,c),this._set(t,e)}return r||this},_attrPairNames:{},_getAttrNames:function(t){var e=this._attrPairNames;if(e[t])return e[t];var i=t.replace(/^[a-z]|-[a-zA-Z]/g,(function(t){return t.charAt(t.length-1).toUpperCase()}));return e[t]={n:t+"Node",s:"_set"+i+"Attr",g:"_get"+i+"Attr",l:i.toLowerCase()}},_set:function(t,e){var i,n,o=this[t];this[t]=e,!this._created||((i=o)===(n=e)||i!=i&&n!=n)||(this._watchCallbacks&&this._watchCallbacks(t,o,e),this.emit("attrmodified-"+t,{detail:{prevValue:o,newValue:e}}))},_get:function(t){return this[t]},emit:function(t,e,i){void 0===(e=e||{}).bubbles&&(e.bubbles=!0),void 0===e.cancelable&&(e.cancelable=!0),e.detail||(e.detail={}),e.detail.widget=this;var n,o=this["on"+t];return o&&(n=o.apply(this,i||[e])),this._started&&!this._beingDestroyed&&v.emit(this.domNode,t.toLowerCase(),e),n},on:function(t,e){var n=this._onMap(t);return n?i.after(this,n,e,!0):this.own(v(this.domNode,t,e))[0]},_onMap:function(t){var e=this.constructor,i=e._onMap;if(!i)for(var n in i=e._onMap={},e.prototype)/^on/.test(n)&&(i[n.replace(/^on/,"").toLowerCase()]=n);return i["string"==typeof t&&t.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?x.findWidgets(this.containerNode):[]},getParent:function(){return x.getEnclosingWidget(this.domNode.parentNode)},connect:function(t,e,i){return this.own(o.connect(t,e,this,i))[0]},disconnect:function(t){t.remove()},subscribe:function(t,e){return this.own(m.subscribe(t,f.hitch(this,e)))[0]},unsubscribe:function(t){t.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir.toLowerCase():l.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&"none"!=u.get(this.domNode,"display")},placeAt:function(t,e){var i=!t.tagName&&x.byId(t);if(!i||!i.addChild||e&&"number"!=typeof e){var n=i&&"domNode"in i?i.containerNode&&!/after|before|replace/.test(e||"")?i.containerNode:i.domNode:s.byId(t,this.ownerDocument);c.place(this.domNode,n,e),!this._started&&(this.getParent()||{})._started&&this.startup()}else i.addChild(this,e);return this},defer:function(t,e){var i=setTimeout(f.hitch(this,(function(){i&&(i=null,this._destroyed||f.hitch(this,t)())})),e||0);return{remove:function(){return i&&(clearTimeout(i),i=null),null}}}});return h("dojo-bidi")&&T.extend(w),T}.apply(null,n))||(t.exports=o)},813:function(t,e,i){var n,o;n=[i(297),i(117),i(697),i(68),i(705)],void 0===(o=function(t,e,i,n,o){var r,s=new t;return i((function(){var t=o.getBox();if(s._rlh=e(window,"resize",(function(){var e=o.getBox();t.h==e.h&&t.w==e.w||(t=e,s.emit("resize"))})),8==n("ie")){var i=screen.deviceXDPI;setInterval((function(){screen.deviceXDPI!=i&&(i=screen.deviceXDPI,s.emit("resize"))}),500)}n("ios")&&(e(document,"focusin",(function(t){r=t.target})),e(document,"focusout",(function(t){r=null})))})),s.getEffectiveBox=function(t){var e=o.getBox(t),i=r&&r.tagName&&r.tagName.toLowerCase();if(n("ios")&&r&&!r.readOnly&&("textarea"==i||"input"==i&&/^(color|email|number|password|search|tel|text|url)$/.test(r.type))){e.h*=0==orientation||180==orientation?.66:.4;var s=r.getBoundingClientRect();e.h=Math.max(e.h,s.top+s.height)}return e},s}.apply(null,n))||(t.exports=o)},887:function(t,e,i){var n,o;n=[i.dj.c(t.i),i(59),i(122),i(273),i(80),i(172),i(659),i(655),i(638),i(888),i(61),i(704),i(22),i(117),i(723),i(68),i(724),i(705),i(889),i(1174),i(891),i(892),i(725),i(733),i(893),i(894),i(1188),i(1189),i(1190),i(897),i(1198),i(770),i(1199)],void 0===(o=function(t,e,i,n,o,r,s,a,d,c,l,u,h,p,f,v,_,g,m,y,b,w,x,C,S,N,T,I,j,A,k){var D=new o;function M(){}D.resolve(!0);var E=n("dijit._DialogBase"+(v("dojo-bidi")?"_NoBidi":""),[C,N,T,S],{templateString:k,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:!1,duration:w.defaultDuration,refocus:!0,autofocus:!0,_firstFocusItem:null,_lastFocusItem:null,draggable:!0,_setDraggableAttr:function(t){this._set("draggable",t)},maxRatio:.9,closable:!0,_setClosableAttr:function(t){this.closeButtonNode.style.display=t?"":"none",this._set("closable",t)},postMixInProperties:function(){var t=l.getLocalization("dijit","common");h.mixin(this,t),this.inherited(arguments)},postCreate:function(){d.set(this.domNode,{display:"none",position:"absolute"}),this.ownerDocumentBody.appendChild(this.domNode),this.inherited(arguments),i.after(this,"onExecute",h.hitch(this,"hide"),!0),i.after(this,"onCancel",h.hitch(this,"hide"),!0),p(this.closeButtonNode,_.press,(function(t){t.stopPropagation()})),this._modalconnects=[]},onLoad:function(){this.resize(),this._position(),this.autofocus&&L.isTop(this)&&(this._getFocusItems(),b.focus(this._firstFocusItem)),this.inherited(arguments)},focus:function(){this._getFocusItems(),b.focus(this._firstFocusItem)},_endDrag:function(){var t=a.position(this.domNode),e=g.getBox(this.ownerDocument);t.y=Math.min(Math.max(t.y,0),e.h-t.h),t.x=Math.min(Math.max(t.x,0),e.w-t.w),this._relativePosition=t,this._position()},_setup:function(){var t=this.domNode;this.titleBar&&this.draggable?(this._moveable=new(6==v("ie")?y:m)(t,{handle:this.titleBar}),i.after(this._moveable,"onMoveStop",h.hitch(this,"_endDrag"),!0)):s.add(t,"dijitDialogFixed"),this.underlayAttrs={dialogId:this.id,class:e.map(this.class.split(/\s/),(function(t){return t+"_underlay"})).join(" "),_onKeyDown:h.hitch(this,"_onKey"),ownerDocument:this.ownerDocument}},_size:function(){this.resize()},_position:function(){if(!s.contains(this.ownerDocumentBody,"dojoMove")){var t=this.domNode,e=g.getBox(this.ownerDocument),i=this._relativePosition,n=a.position(t),o=Math.floor(e.l+(i?Math.min(i.x,e.w-n.w):(e.w-n.w)/2)),r=Math.floor(e.t+(i?Math.min(i.y,e.h-n.h):(e.h-n.h)/2));d.set(t,{left:o+"px",top:r+"px"})}},_onKey:function(t){if(t.keyCode==u.TAB){this._getFocusItems();var e=t.target;this._firstFocusItem==this._lastFocusItem?(t.stopPropagation(),t.preventDefault()):e==this._firstFocusItem&&t.shiftKey?(b.focus(this._lastFocusItem),t.stopPropagation(),t.preventDefault()):e!=this._lastFocusItem||t.shiftKey||(b.focus(this._firstFocusItem),t.stopPropagation(),t.preventDefault())}else this.closable&&t.keyCode==u.ESCAPE&&(this.onCancel(),t.stopPropagation(),t.preventDefault())},show:function(){if(this.open)return D.promise;this._started||this.startup(),this._alreadyInitialized||(this._setup(),this._alreadyInitialized=!0),this._fadeOutDeferred&&(this._fadeOutDeferred.cancel(),L.hide(this));var t,e=g.get(this.ownerDocument);this._modalconnects.push(p(e,"scroll",h.hitch(this,"resize",null))),this._modalconnects.push(p(this.domNode,"keydown",h.hitch(this,"_onKey"))),d.set(this.domNode,{opacity:0,display:""}),this._set("open",!0),this._onShow(),this.resize(),this._position(),this._fadeInDeferred=new o(h.hitch(this,(function(){t.stop(),delete this._fadeInDeferred}))),this._fadeInDeferred.then(void 0,M);var i=this._fadeInDeferred.promise;return t=c.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:h.hitch(this,(function(){L.show(this,this.underlayAttrs)})),onEnd:h.hitch(this,(function(){this.autofocus&&L.isTop(this)&&(this._getFocusItems(),b.focus(this._firstFocusItem)),this._fadeInDeferred.resolve(!0),delete this._fadeInDeferred}))}).play(),i},hide:function(){if(!this._alreadyInitialized||!this.open)return D.promise;var t;this._fadeInDeferred&&this._fadeInDeferred.cancel(),this._fadeOutDeferred=new o(h.hitch(this,(function(){t.stop(),delete this._fadeOutDeferred}))),this._fadeOutDeferred.then(void 0,M),this._fadeOutDeferred.then(h.hitch(this,"onHide"));var e,i=this._fadeOutDeferred.promise;for(t=c.fadeOut({node:this.domNode,duration:this.duration,onEnd:h.hitch(this,(function(){this.domNode.style.display="none",L.hide(this),this._fadeOutDeferred.resolve(!0),delete this._fadeOutDeferred}))}).play(),this._scrollConnected&&(this._scrollConnected=!1);e=this._modalconnects.pop();)e.remove();return this._relativePosition&&delete this._relativePosition,this._set("open",!1),i},resize:function(t){if("none"!=this.domNode.style.display){if(this._checkIfSingleChild(),!t){this._shrunk&&(this._singleChild&&void 0!==this._singleChildOriginalStyle&&(this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle,delete this._singleChildOriginalStyle),e.forEach([this.domNode,this.containerNode,this.titleBar,this.actionBarNode],(function(t){t&&d.set(t,{position:"static",width:"auto",height:"auto"})})),this.domNode.style.position="absolute");var i=g.getBox(this.ownerDocument);i.w*=this.maxRatio,i.h*=this.maxRatio;var n=a.position(this.domNode);this._shrunk=!1,n.w>=i.w&&(t={w:i.w},a.setMarginBox(this.domNode,t),n=a.position(this.domNode),this._shrunk=!0),n.h>=i.h&&(t||(t={w:n.w}),t.h=i.h,this._shrunk=!0),t&&(t.w||(t.w=n.w),t.h||(t.h=n.h))}if(t){a.setMarginBox(this.domNode,t);var o=[];this.titleBar&&o.push({domNode:this.titleBar,region:"top"}),this.actionBarNode&&o.push({domNode:this.actionBarNode,region:"bottom"});var r={domNode:this.containerNode,region:"center"};o.push(r);var s=A.marginBox2contentBox(this.domNode,t);if(A.layoutChildren(this.domNode,s,o),this._singleChild){var c=A.marginBox2contentBox(this.containerNode,r);this._singleChild.resize({w:c.w,h:c.h})}else this.containerNode.style.overflow="auto",this._layoutChildren()}else this._layoutChildren();v("touch")||t||this._position()}},_layoutChildren:function(){e.forEach(this.getChildren(),(function(t){t.resize&&t.resize()}))},destroy:function(){var t;for(this._fadeInDeferred&&this._fadeInDeferred.cancel(),this._fadeOutDeferred&&this._fadeOutDeferred.cancel(),this._moveable&&this._moveable.destroy();t=this._modalconnects.pop();)t.remove();L.hide(this),this.inherited(arguments)}});v("dojo-bidi")&&(E=n("dijit._DialogBase",E,{_setTitleAttr:function(t){this._set("title",t),this.titleNode.innerHTML=t,this.applyTextDir(this.titleNode)},_setTextDirAttr:function(t){this._created&&this.textDir!=t&&(this._set("textDir",t),this.set("title",this.title))}}));var R=n("dijit.Dialog",[j,E],{});R._DialogBase=E;var L=R._DialogLevelManager={_beginZIndex:950,show:function(t,e){O[O.length-1].focus=b.curNode;var i=O[O.length-1].dialog?O[O.length-1].zIndex+2:R._DialogLevelManager._beginZIndex;d.set(t.domNode,"zIndex",i),I.show(e,i-1),O.push({dialog:t,underlayAttrs:e,zIndex:i})},hide:function(t){if(O[O.length-1].dialog==t){O.pop();var i=O[O.length-1];if(1==O.length?I.hide():I.show(i.underlayAttrs,i.zIndex-1),t.refocus){var n=i.focus;if(!i.dialog||n&&r.isDescendant(n,i.dialog.domNode)||(i.dialog._getFocusItems(),n=i.dialog._firstFocusItem),n)try{n.focus()}catch(t){}}}else{var o=e.indexOf(e.map(O,(function(t){return t.dialog})),t);-1!=o&&O.splice(o,1)}},isTop:function(t){return O[O.length-1].dialog==t}},O=R._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];return b.watch("curNode",(function(t,e,i){var n=O[O.length-1].dialog;if(i&&n&&!n._fadeOutDeferred&&i.ownerDocument==n.ownerDocument){do{if(i==n.domNode||s.contains(i,"dijitPopup"))return}while(i=i.parentNode);n.focus()}})),v("dijit-legacy-requires")&&f(0,(function(){t(["dijit/TooltipDialog"])})),R}.apply(null,n))||(t.exports=o)},888:function(t,e,i){var n,o;n=[i(24),i(125),i(22),i(297),i(809),i(122),i(68),i(172),i(638)],void 0===(o=function(t,e,i,n,o,r,s,a,d){var c=i.mixin,l={},u=l._Line=function(t,e){this.start=t,this.end=e};u.prototype.getValue=function(t){return(this.end-this.start)*t+this.start};var h=l.Animation=function(t){c(this,t),i.isArray(this.curve)&&(this.curve=new u(this.curve[0],this.curve[1]))};h.prototype=new n,i.extend(h,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var t=this._percent,e=this.easing;return e?e(t):t},_fire:function(t,i){var n=i||[];if(this[t])if(e.debugAtAllCosts)this[t].apply(this,n);else try{this[t].apply(this,n)}catch(e){console.error("exception in animation handler for:",t),console.error(e)}return this},play:function(t,e){var n=this;if(n._delayTimer&&n._clearTimer(),e)n._stopTimer(),n._active=n._paused=!1,n._percent=0;else if(n._active&&!n._paused)return n;n._fire("beforeBegin",[n.node]);var o=t||n.delay,r=i.hitch(n,"_play",e);return o>0?(n._delayTimer=setTimeout(r,o),n):(r(),n)},_play:function(t){var e=this;e._delayTimer&&e._clearTimer(),e._startTime=(new Date).valueOf(),e._paused&&(e._startTime-=e.duration*e._percent),e._active=!0,e._paused=!1;var i=e.curve.getValue(e._getStep());return e._percent||(e._startRepeatCount||(e._startRepeatCount=e.repeat),e._fire("onBegin",[i])),e._fire("onPlay",[i]),e._cycle(),e},pause:function(){var t=this;return t._delayTimer&&t._clearTimer(),t._stopTimer(),t._active?(t._paused=!0,t._fire("onPause",[t.curve.getValue(t._getStep())]),t):t},gotoPercent:function(t,e){var i=this;return i._stopTimer(),i._active=i._paused=!0,i._percent=t,e&&i.play(),i},stop:function(t){var e=this;return e._delayTimer&&e._clearTimer(),e._timer?(e._stopTimer(),t&&(e._percent=1),e._fire("onStop",[e.curve.getValue(e._getStep())]),e._active=e._paused=!1,e):e},destroy:function(){this.stop()},status:function(){return this._active?this._paused?"paused":"playing":"stopped"},_cycle:function(){var t=this;if(t._active){var e=(new Date).valueOf(),i=0===t.duration?1:(e-t._startTime)/t.duration;i>=1&&(i=1),t._percent=i,t.easing&&(i=t.easing(i)),t._fire("onAnimate",[t.curve.getValue(i)]),t._percent<1?t._startTimer():(t._active=!1,t.repeat>0?(t.repeat--,t.play(null,!0)):-1==t.repeat?t.play(null,!0):t._startRepeatCount&&(t.repeat=t._startRepeatCount,t._startRepeatCount=0),t._percent=0,t._fire("onEnd",[t.node]),!t.repeat&&t._stopTimer())}return t},_clearTimer:function(){clearTimeout(this._delayTimer),delete this._delayTimer}});var p=0,f=null,v={run:function(){}};i.extend(h,{_startTimer:function(){this._timer||(this._timer=r.after(v,"run",i.hitch(this,"_cycle"),!0),p++),f||(f=setInterval(i.hitch(v,"run"),this.rate))},_stopTimer:function(){this._timer&&(this._timer.remove(),this._timer=null,p--),p<=0&&(clearInterval(f),f=null,p=0)}});var _=s("ie")?function(t){var e=t.style;e.width.length||"auto"!=d.get(t,"width")||(e.width="auto")}:function(){};l._fade=function(t){t.node=a.byId(t.node);var e=c({properties:{}},t),n=e.properties.opacity={};n.start="start"in e?e.start:function(){return+d.get(e.node,"opacity")||0},n.end=e.end;var o=l.animateProperty(e);return r.after(o,"beforeBegin",i.partial(_,e.node),!0),o},l.fadeIn=function(t){return l._fade(c({end:1},t))},l.fadeOut=function(t){return l._fade(c({end:0},t))},l._defaultEasing=function(t){return.5+Math.sin((t+1.5)*Math.PI)/2};var g=function(t){for(var e in this._properties=t,t){var i=t[e];i.start instanceof o&&(i.tempColor=new o)}};return g.prototype.getValue=function(t){var e={};for(var n in this._properties){var r=this._properties[n],s=r.start;s instanceof o?e[n]=o.blendColors(s,r.end,t,r.tempColor).toCss():i.isArray(s)||(e[n]=(r.end-s)*t+s+("opacity"!=n?r.units||"px":0))}return e},l.animateProperty=function(e){var n=e.node=a.byId(e.node);e.easing||(e.easing=t._defaultEasing);var s=new h(e);return r.after(s,"beforeBegin",i.hitch(s,(function(){var t={};for(var e in this.properties){"width"!=e&&"height"!=e||(this.node.display="block");var r=this.properties[e];i.isFunction(r)&&(r=r(n)),r=t[e]=c({},i.isObject(r)?r:{end:r}),i.isFunction(r.start)&&(r.start=r.start(n)),i.isFunction(r.end)&&(r.end=r.end(n));var s=e.toLowerCase().indexOf("color")>=0;function a(t,e){var i={height:t.offsetHeight,width:t.offsetWidth}[e];return void 0!==i?i:(i=d.get(t,e),"opacity"==e?+i:s?i:parseFloat(i))}"end"in r?"start"in r||(r.start=a(n,e)):r.end=a(n,e),s?(r.start=new o(r.start),r.end=new o(r.end)):r.start="opacity"==e?+r.start:parseFloat(r.start)}this.curve=new g(t)})),!0),r.after(s,"onAnimate",i.hitch(d,"set",s.node),!0),s},l.anim=function(t,e,i,n,o,r){return l.animateProperty({node:t,duration:i||h.prototype.duration,properties:e,easing:n,onEnd:o}).play(r||0)},c(t,l),t._Animation=h,l}.apply(null,n))||(t.exports=o)},889:function(t,e,i){var n,o;n=[i(59),i(273),i(22),i(172),i(659),i(297),i(25),i(117),i(808),i(724),i(890),i(1172),i(175)],void 0===(o=function(t,e,i,n,o,r,s,a,d,c,l,u,h){var p,f=function(){};return f=function(){"touchAction"in document.body.style?p="touchAction":"msTouchAction"in document.body.style&&(p="msTouchAction"),(f=function(t,e){t.style[p]=e})(arguments[0],arguments[1])},e("dojo.dnd.Moveable",[r],{handle:"",delay:0,skip:!1,constructor:function(t,e){this.node=n.byId(t),f(this.node,"none"),e||(e={}),this.handle=e.handle?n.byId(e.handle):null,this.handle||(this.handle=this.node),this.delay=e.delay>0?e.delay:0,this.skip=e.skip,this.mover=e.mover?e.mover:u,this.events=[a(this.handle,c.press,i.hitch(this,"onMouseDown")),a(this.handle,"dragstart",i.hitch(this,"onSelectStart")),a(this.handle,"selectstart",i.hitch(this,"onSelectStart"))]},markupFactory:function(t,e,i){return new i(e,t)},destroy:function(){t.forEach(this.events,(function(t){t.remove()})),f(this.node,""),this.events=this.node=this.handle=null},onMouseDown:function(t){this.skip&&l.isFormElement(t)||(this.delay?(this.events.push(a(this.handle,c.move,i.hitch(this,"onMouseMove")),a(this.handle.ownerDocument,c.release,i.hitch(this,"onMouseUp"))),this._lastX=t.pageX,this._lastY=t.pageY):this.onDragDetected(t),t.stopPropagation(),t.preventDefault())},onMouseMove:function(t){(Math.abs(t.pageX-this._lastX)>this.delay||Math.abs(t.pageY-this._lastY)>this.delay)&&(this.onMouseUp(t),this.onDragDetected(t)),t.stopPropagation(),t.preventDefault()},onMouseUp:function(t){for(var e=0;e<2;++e)this.events.pop().remove();t.stopPropagation(),t.preventDefault()},onSelectStart:function(t){this.skip&&l.isFormElement(t)||(t.stopPropagation(),t.preventDefault())},onDragDetected:function(t){new this.mover(this.node,t,this)},onMoveStart:function(t){d.publish("/dnd/move/start",t),o.add(h.body(),"dojoMove"),o.add(this.node,"dojoMoveItem")},onMoveStop:function(t){d.publish("/dnd/move/stop",t),o.remove(h.body(),"dojoMove"),o.remove(this.node,"dojoMoveItem")},onFirstMove:function(){},onMove:function(t,e){this.onMoving(t,e);var i=t.node.style;i.left=e.l+"px",i.top=e.t+"px",this.onMoved(t,e)},onMoving:function(){},onMoved:function(){}})}.apply(null,n))||(t.exports=o)},890:function(t,e,i){var n,o;n=[i(68),i(24),i(22),i(172)],void 0===(o=function(t,e,i,n){var o=i.getObject("dojo.dnd",!0);return o.getCopyKeyState=function(e){return e[t("mac")?"metaKey":"ctrlKey"]},o._uniqueId=0,o.getUniqueId=function(){var t;do{t=e._scopeName+"Unique"+ ++o._uniqueId}while(n.byId(t));return t},o._empty={},o.isFormElement=function(t){var e=t.target;return 3==e.nodeType&&(e=e.parentNode)," a button textarea input select option ".indexOf(" "+e.tagName.toLowerCase()+" ")>=0},o}.apply(null,n))||(t.exports=o)},891:function(t,e,i){var n,o;n=[i(122),i(273),i(172),i(662),i(659),i(658),i(297),i(22),i(117),i(697),i(68),i(769),i(175),i(705),i(810),i(683),i(677)],void 0===(o=function(t,e,i,n,o,r,s,a,d,c,l,u,h,p,f,v,_){var g,m,y=new(e([u,s],{curNode:null,activeStack:[],constructor:function(){var e=a.hitch(this,(function(t){i.isDescendant(this.curNode,t)&&this.set("curNode",null),i.isDescendant(this.prevNode,t)&&this.set("prevNode",null)}));t.before(r,"empty",e),t.before(r,"destroy",e)},registerIframe:function(t){return this.registerWin(t.contentWindow,t)},registerWin:function(t,e){var i=this,n=t.document&&t.document.body;if(n){var o=l("pointer-events")?"pointerdown":l("touch-events")?"mousedown, touchstart":"mousedown",r=d(t.document,o,(function(t){t&&t.target&&null==t.target.parentNode||i._onTouchNode(e||t.target,"mouse")})),s=d(n,"focusin",(function(t){if(t.target.tagName){var n=t.target.tagName.toLowerCase();"#document"!=n&&"body"!=n&&(f.isFocusable(t.target)?i._onFocusNode(e||t.target):i._onTouchNode(e||t.target))}})),a=d(n,"focusout",(function(t){i._onBlurNode(e||t.target)}));return{remove:function(){r.remove(),s.remove(),a.remove(),r=s=a=null,n=null}}}},_onBlurNode:function(t){var e=(new Date).getTime();e<g+100||(this._clearFocusTimer&&clearTimeout(this._clearFocusTimer),this._clearFocusTimer=setTimeout(a.hitch(this,(function(){this.set("prevNode",this.curNode),this.set("curNode",null)})),0),this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),e<m+100||(this._clearActiveWidgetsTimer=setTimeout(a.hitch(this,(function(){delete this._clearActiveWidgetsTimer,this._setStack([])})),0)))},_onTouchNode:function(t,e){m=(new Date).getTime(),this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),delete this._clearActiveWidgetsTimer),o.contains(t,"dijitPopup")&&(t=t.firstChild);var i=[];try{for(;t;){var r=n.get(t,"dijitPopupParent");if(r)t=v.byId(r).domNode;else if(t.tagName&&"body"==t.tagName.toLowerCase()){if(t===h.body())break;t=p.get(t.ownerDocument).frameElement}else{var s=t.getAttribute&&t.getAttribute("widgetId"),a=s&&v.byId(s);!a||"mouse"==e&&a.get("disabled")||i.unshift(s),t=t.parentNode}}}catch(t){}this._setStack(i,e)},_onFocusNode:function(t){t&&9!=t.nodeType&&(g=(new Date).getTime(),this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),delete this._clearFocusTimer),this._onTouchNode(t),t!=this.curNode&&(this.set("prevNode",this.curNode),this.set("curNode",t)))},_setStack:function(t,e){var i=this.activeStack,n=i.length-1,o=t.length-1;if(t[o]!=i[n]){var r,s;for(this.set("activeStack",t),s=n;s>=0&&i[s]!=t[s];s--)(r=v.byId(i[s]))&&(r._hasBeenBlurred=!0,r.set("focused",!1),r._focusManager==this&&r._onBlur(e),this.emit("widget-blur",r,e));for(s++;s<=o;s++)(r=v.byId(t[s]))&&(r.set("focused",!0),r._focusManager==this&&r._onFocus(e),this.emit("widget-focus",r,e))}},focus:function(t){if(t)try{t.focus()}catch(t){}}}));for(var b in c((function(){var t=y.registerWin(p.get(document));l("ie")&&d(window,"unload",(function(){t&&(t.remove(),t=null)}))})),_.focus=function(t){y.focus(t)},y)/^_/.test(b)||(_.focus[b]="function"==typeof y[b]?a.hitch(y,b):y[b]);return y.watch((function(t,e,i){_.focus[t]=i})),y}.apply(null,n))||(t.exports=o)},892:function(t,e,i){var n,o;n=[i(59),i(125),i(22),i(683),i(677)],void 0===(o=function(t,e,i,n,o){var r={};return t.forEach(["byId","getUniqueId","findWidgets","_destroyAll","byNode","getEnclosingWidget"],(function(t){r[t]=n[t]})),i.mixin(r,{defaultDuration:e.defaultDuration||200}),i.mixin(o,r),o}.apply(null,n))||(t.exports=o)},893:function(t,e,i){var n,o;n=[i(59),i(273),i(172),i(659),i(25),i(22),i(117),i(697),i(724),i(175),i(770),i(683)],void 0===(o=function(t,e,i,n,o,r,s,a,d,c,l,u){var h=e("dijit._CssStateMixin",[],{hovering:!1,active:!1,_applyAttributes:function(){for(var e in this.inherited(arguments),t.forEach(["disabled","readOnly","checked","selected","focused","state","hovering","active","_opened"],(function(t){this.watch(t,r.hitch(this,"_setStateClass"))}),this),this.cssStateNodes||{})this._trackMouseState(this[e],this.cssStateNodes[e]);this._trackMouseState(this.domNode,this.baseClass),this._setStateClass()},_cssMouseEvent:function(t){if(!this.disabled)switch(t.type){case"mouseover":case"MSPointerOver":case"pointerover":this._set("hovering",!0),this._set("active",this._mouseDown);break;case"mouseout":case"MSPointerOut":case"pointerout":this._set("hovering",!1),this._set("active",!1);break;case"mousedown":case"touchstart":case"MSPointerDown":case"pointerdown":case"keydown":this._set("active",!0);break;case"mouseup":case"dojotouchend":case"MSPointerUp":case"pointerup":case"keyup":this._set("active",!1)}},_setStateClass:function(){var e=this.baseClass.split(" ");function i(i){e=e.concat(t.map(e,(function(t){return t+i})),"dijit"+i)}this.isLeftToRight()||i("Rtl");var n="mixed"==this.checked?"Mixed":this.checked?"Checked":"";this.checked&&i(n),this.state&&i(this.state),this.selected&&i("Selected"),this._opened&&i("Opened"),this.disabled?i("Disabled"):this.readOnly?i("ReadOnly"):this.active?i("Active"):this.hovering&&i("Hover"),this.focused&&i("Focused");var o=this.stateNode||this.domNode,r={};t.forEach(o.className.split(" "),(function(t){r[t]=!0})),"_stateClasses"in this&&t.forEach(this._stateClasses,(function(t){delete r[t]})),t.forEach(e,(function(t){r[t]=!0}));var s=[];for(var a in r)s.push(a);o.className=s.join(" "),this._stateClasses=e},_subnodeCssMouseEvent:function(t,e,i){if(!this.disabled&&!this.readOnly)switch(i.type){case"mouseover":case"MSPointerOver":case"pointerover":o(!0);break;case"mouseout":case"MSPointerOut":case"pointerout":o(!1),r(!1);break;case"mousedown":case"touchstart":case"MSPointerDown":case"pointerdown":case"keydown":r(!0);break;case"mouseup":case"MSPointerUp":case"pointerup":case"dojotouchend":case"keyup":r(!1);break;case"focus":case"focusin":s(!0);break;case"blur":case"focusout":s(!1)}function o(i){n.toggle(t,e+"Hover",i)}function r(i){n.toggle(t,e+"Active",i)}function s(i){n.toggle(t,e+"Focused",i)}},_trackMouseState:function(t,e){t._cssState=e}});return a((function(){function t(t,e,n){if(!n||!i.isDescendant(n,e))for(var o=e;o&&o!=n;o=o.parentNode)if(o._cssState){var r=u.getEnclosingWidget(o);r&&(o==r.domNode?r._cssMouseEvent(t):r._subnodeCssMouseEvent(o,o._cssState,t))}}var e,n=c.body();s(n,d.over,(function(e){t(e,e.target,e.relatedTarget)})),s(n,d.out,(function(e){t(e,e.target,e.relatedTarget)})),s(n,l.press,(function(i){t(i,e=i.target)})),s(n,l.release,(function(i){t(i,e),e=null})),s(n,"focusin, focusout",(function(t){var e=t.target;if(e._cssState&&!e.getAttribute("widgetId")){var i=u.getEnclosingWidget(e);i&&i._subnodeCssMouseEvent(e,e._cssState,t)}}))})),h}.apply(null,n))||(t.exports=o)},894:function(t,e,i){var n,o;n=[i(59),i(273),i(24),i(22),i(117),i(705)],void 0===(o=function(t,e,i,n,o,r){return e("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(e){var i=[];return t.forEach(e||this.getChildren(),(function(t){"value"in t?i.push(t):i=i.concat(this._getDescendantFormWidgets(t.getChildren()))}),this),i},reset:function(){t.forEach(this._getDescendantFormWidgets(),(function(t){t.reset&&t.reset()}))},validate:function(){var e=!1;return t.every(t.map(this._getDescendantFormWidgets(),(function(t){t._hasBeenBlurred=!0;var i=t.disabled||!t.validate||t.validate();return i||e||(r.scrollIntoView(t.containerNode||t.domNode),t.focus(),e=!0),i})),(function(t){return t}))},setValues:function(t){return i.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0"),this.set("value",t)},_setValueAttr:function(e){var i={};for(var o in t.forEach(this._getDescendantFormWidgets(),(function(t){t.name&&(i[t.name]||(i[t.name]=[])).push(t)})),i)if(i.hasOwnProperty(o)){var r=i[o],s=n.getObject(o,!1,e);void 0!==s&&(s=[].concat(s),"boolean"==typeof r[0].checked?t.forEach(r,(function(e){e.set("value",-1!=t.indexOf(s,e._get("value")))})):r[0].multiple?r[0].set("value",s):t.forEach(r,(function(t,e){t.set("value",s[e])})))}},getValues:function(){return i.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0"),this.get("value")},_getValueAttr:function(){var e={};return t.forEach(this._getDescendantFormWidgets(),(function(t){var i=t.name;if(i&&!t.disabled){var o=t.get("value");if("boolean"==typeof t.checked)if(/Radio/.test(t.declaredClass))!1!==o?n.setObject(i,o,e):void 0===(o=n.getObject(i,!1,e))&&n.setObject(i,null,e);else{var r=n.getObject(i,!1,e);r||(r=[],n.setObject(i,r,e)),!1!==o&&r.push(o)}else{var s=n.getObject(i,!1,e);void 0!==s?n.isArray(s)?s.push(o):n.setObject(i,[s,o],e):n.setObject(i,o,e)}}})),e},isValid:function(){return""==this.state},onValidStateChange:function(){},_getState:function(){var e=t.map(this._descendants,(function(t){return t.get("state")||""}));return t.indexOf(e,"Error")>=0?"Error":t.indexOf(e,"Incomplete")>=0?"Incomplete":""},disconnectChildren:function(){},connectChildren:function(e){this._descendants=this._getDescendantFormWidgets(),t.forEach(this._descendants,(function(t){t._started||t.startup()})),e||this._onChildChange()},_onChildChange:function(t){t&&"state"!=t&&"disabled"!=t||this._set("state",this._getState()),t&&"value"!=t&&"disabled"!=t&&"checked"!=t||(this._onChangeDelayTimer&&this._onChangeDelayTimer.remove(),this._onChangeDelayTimer=this.defer((function(){delete this._onChangeDelayTimer,this._set("value",this.get("value"))}),10))},startup:function(){this.inherited(arguments),this._descendants=this._getDescendantFormWidgets(),this.value=this.get("value"),this.state=this._getState();var t=this;this.own(o(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",(function(e){e.target!=t.domNode&&t._onChildChange(e.type.replace("attrmodified-",""))}))),this.watch("state",(function(t,e,i){this.onValidStateChange(""==i)}))},destroy:function(){this.inherited(arguments)}})}.apply(null,n))||(t.exports=o)},895:function(t,e,i){var n,o;n=[i.dj.c(t.i),i(677),i(125),i(658),i(638),i(22),i(117),i(68)],void 0===(o=function(t,e,i,n,o,r,s,a){a.add("config-bgIframe",(a("ie")||a("trident"))&&!/IEMobile\/10\.0/.test(navigator.userAgent));var d=new function(){var e=[];this.pop=function(){var r;if(e.length)(r=e.pop()).style.display="";else{if(a("ie")<9){var s="<iframe src='"+(i.dojoBlankHtmlUrl||t.toUrl("dojo/resources/blank.html")||'javascript:""')+"' role='presentation' style='position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity=\"0\");'>";r=document.createElement(s)}else(r=n.create("iframe")).src='javascript:""',r.className="dijitBackgroundIframe",r.setAttribute("role","presentation"),o.set(r,"opacity",.1);r.tabIndex=-1}return r},this.push=function(t){t.style.display="none",e.push(t)}};return e.BackgroundIframe=function(t){if(!t.id)throw new Error("no id");if(a("config-bgIframe")){var e=this.iframe=d.pop();t.appendChild(e),a("ie")<7||a("quirks")?(this.resize(t),this._conn=s(t,"resize",r.hitch(this,"resize",t))):o.set(e,{width:"100%",height:"100%"})}},r.extend(e.BackgroundIframe,{resize:function(t){this.iframe&&o.set(this.iframe,{width:t.offsetWidth+"px",height:t.offsetHeight+"px"})},destroy:function(){this._conn&&(this._conn.remove(),this._conn=null),this.iframe&&(this.iframe.parentNode.removeChild(this.iframe),d.push(this.iframe),delete this.iframe)}}),e.BackgroundIframe}.apply(null,n))||(t.exports=o)},896:function(t,e,i){var n,o;n=[i(59),i(273),i(659),i(655),i(638),i(22),i(811),i(683),i(813),i(897)],void 0===(o=function(t,e,i,n,o,r,s,a,d,c){return e("dijit.layout._ContentPaneResizeMixin",null,{doLayout:!0,isLayoutContainer:!0,startup:function(){if(!this._started){var t=this.getParent();this._childOfLayoutWidget=t&&t.isLayoutContainer,this._needLayout=!this._childOfLayoutWidget,this.inherited(arguments),this._isShown()&&this._onShow(),this._childOfLayoutWidget||this.own(d.on("resize",r.hitch(this,"resize")))}},_checkIfSingleChild:function(){if(this.doLayout){var t=[],e=!1;s("> *",this.containerNode).some((function(i){var n=a.byNode(i);n&&n.resize?t.push(n):!/script|link|style/i.test(i.nodeName)&&i.offsetHeight&&(e=!0)})),this._singleChild=1!=t.length||e?null:t[0],i.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild)}},resize:function(t,e){this._resizeCalled=!0,this._scheduleLayout(t,e)},_scheduleLayout:function(t,e){this._isShown()?this._layout(t,e):(this._needLayout=!0,this._changeSize=t,this._resultSize=e)},_layout:function(t,e){delete this._needLayout,this._wasShown||!1===this.open||this._onShow(),t&&n.setMarginBox(this.domNode,t);var i=this.containerNode;if(i===this.domNode){var o=e||{};r.mixin(o,t||{}),"h"in o&&"w"in o||(o=r.mixin(n.getMarginBox(i),o)),this._contentBox=c.marginBox2contentBox(i,o)}else this._contentBox=n.getContentBox(i);this._layoutChildren()},_layoutChildren:function(){if(this._checkIfSingleChild(),this._singleChild&&this._singleChild.resize){var t=this._contentBox||n.getContentBox(this.containerNode);this._singleChild.resize({w:t.w,h:t.h})}else for(var e,i=this.getChildren(),o=0;e=i[o++];)e.resize&&e.resize()},_isShown:function(){if(this._childOfLayoutWidget)return this._resizeCalled&&"open"in this?this.open:this._resizeCalled;if("open"in this)return this.open;var t=this.domNode,e=this.domNode.parentNode;return"none"!=t.style.display&&"hidden"!=t.style.visibility&&!i.contains(t,"dijitHidden")&&e&&e.style&&"none"!=e.style.display},_onShow:function(){this._wasShown=!0,this._needLayout&&this._layout(this._changeSize,this._resultSize),this.inherited(arguments)}})}.apply(null,n))||(t.exports=o)},897:function(t,e,i){var n,o;n=[i(59),i(659),i(655),i(638),i(22)],void 0===(o=function(t,e,i,n,o){function r(t,e){var n=t.resize?t.resize(e):i.setMarginBox(t.domNode,e);n?o.mixin(t,n):(o.mixin(t,i.getMarginBox(t.domNode)),o.mixin(t,e))}var s={marginBox2contentBox:function(t,e){var o=n.getComputedStyle(t),r=i.getMarginExtents(t,o),s=i.getPadBorderExtents(t,o);return{l:n.toPixelValue(t,o.paddingLeft),t:n.toPixelValue(t,o.paddingTop),w:e.w-(r.w+s.w),h:e.h-(r.h+s.h)}},layoutChildren:function(i,n,s,a,d){n=o.mixin({},n),e.add(i,"dijitLayoutContainer"),s=t.filter(s,(function(t){return"center"!=t.region&&"client"!=t.layoutAlign})).concat(t.filter(s,(function(t){return"center"==t.region||"client"==t.layoutAlign}))),t.forEach(s,(function(t){var i=t.domNode,o=t.region||t.layoutAlign;if(!o)throw new Error("No region setting for "+t.id);var s,c=i.style;c.left=n.l+"px",c.top=n.t+"px",c.position="absolute",e.add(i,"dijitAlign"+((s=o).substring(0,1).toUpperCase()+s.substring(1)));var l={};a&&a==t.id&&(l["top"==t.region||"bottom"==t.region?"h":"w"]=d),"leading"==o&&(o=t.isLeftToRight()?"left":"right"),"trailing"==o&&(o=t.isLeftToRight()?"right":"left"),"top"==o||"bottom"==o?(l.w=n.w,r(t,l),n.h-=t.h,"top"==o?n.t+=t.h:c.top=n.t+n.h+"px"):"left"==o||"right"==o?(l.h=n.h,r(t,l),n.w-=t.w,"left"==o?n.l+=t.w:c.left=n.l+n.w+"px"):"client"!=o&&"center"!=o||r(t,n)}))}};return o.setObject("dijit.layout.utils",s),s}.apply(null,n))||(t.exports=o)},898:function(t,e,i){var n,o;n=[i.dj.c(t.i),e,i(7),i(1),i(0),i(1201),i(650),i(62),i(79),i(41),i(11),i(50),i(47),i(15),i(5),i(43),i(4),i(23),i(23),i(2),i(1202),i(1203),i(1204)],void 0===(o=function(t,e,i,n,o,r,s,a,d,c,l,u,h,p,f,v,_,g,m,y,b,w,x){Object.defineProperty(e,"__esModule",{value:!0});var C={},S=function(t){var e=new m.Url(t.owningSystemUrl).host,i=new m.Url(t.server).host,n=/.+\.arcgis\.com$/i;return n.test(e)&&n.test(i)},N=function(t,e){return!!(S(t)&&e&&e.some((function(e){return e.test(t.server)})))},T=function(t){function e(){var e=t.call(this)||this;return e._portalConfig=h.esriGeowConfig,e.serverInfos=[],e.oAuthInfos=[],e.credentials=[],e._soReqs=[],e._xoReqs=[],e._portals=[],e.defaultOAuthInfo=null,e.defaultTokenValidity=60,e.tokenValidity=null,e.signInPage=null,e.useSignInPage=!0,e.normalizeWebTierAuth=!1,e._busy=null,e._rejectOnPersistedPageShow=!1,e._oAuthHash=null,e._gwTokenUrl="/sharing/rest/generateToken",e._agsRest="/rest/services",e._agsPortal=/\/sharing(\/|$)/i,e._agsAdmin=/(https?:\/\/[^\/]+\/[^\/]+)\/admin\/?(\/.*)?$/i,e._adminSvcs=/\/rest\/admin\/services(\/|$)/i,e._agolSuffix=".arcgis.com",e._gwDomains=[{regex:/^https?:\/\/www\.arcgis\.com/i,tokenServiceUrl:"https://www.arcgis.com/sharing/rest/generateToken"},{regex:/^https?:\/\/dev\.arcgis\.com/i,tokenServiceUrl:"https://dev.arcgis.com/sharing/rest/generateToken"},{regex:/^https?:\/\/[\w\.]*dev[^.]*\.arcgis\.com/i,tokenServiceUrl:"https://devext.arcgis.com/sharing/rest/generateToken"},{regex:/^https?:\/\/[\w\.]*qa[^.]*\.arcgis\.com/i,tokenServiceUrl:"https://qaext.arcgis.com/sharing/rest/generateToken"},{regex:/^https?:\/\/[\w\.]*\.arcgis\.com/i,tokenServiceUrl:"https://www.arcgis.com/sharing/rest/generateToken"}],e._legacyFed=[],e._regexSDirUrl=/http.+\/rest\/services\/?/gi,e._regexServerType=/(\/(MapServer|GeocodeServer|GPServer|GeometryServer|ImageServer|NAServer|FeatureServer|GeoDataServer|GlobeServer|MobileServer|GeoenrichmentServer|VectorTileServer|SceneServer)).*/gi,e._gwUser=/http.+\/users\/([^\/]+)\/?.*/i,e._gwItem=/http.+\/items\/([^\/]+)\/?.*/i,e._gwGroup=/http.+\/groups\/([^\/]+)\/?.*/i,e._rePortalTokenSvc=/\/sharing(\/rest)?\/generatetoken/i,e._createDefaultOAuthInfo=!0,e._hasTestedIfAppIsOnPortal=!1,e._getOAuthHash(),window.addEventListener("pageshow",(function(t){e._pageShowHandler(t)})),e}return n(e,t),e.prototype.registerServers=function(t){var e=this,i=this.serverInfos;i?(t=t.filter((function(t){return!e.findServerInfo(t.server)})),this.serverInfos=i.concat(t)):this.serverInfos=t,t.forEach((function(t){t.owningSystemUrl&&e._portals.push(t.owningSystemUrl),t.hasPortal&&e._portals.push(t.server)}))},e.prototype.registerOAuthInfos=function(t){var e=this,i=this.oAuthInfos;i?(t=t.filter((function(t){return!e.findOAuthInfo(t.portalUrl)})),this.oAuthInfos=i.concat(t)):this.oAuthInfos=t},e.prototype.registerToken=function(t){t=i({},t);var e,n=this._sanitizeUrl(t.server),o=this._isServerRsrc(n),r=this.findServerInfo(n),s=!0;r||((r=new x).server=this._getServerInstanceRoot(n),o?r.hasServer=!0:(r.tokenServiceUrl=this._getTokenSvcUrl(n),r.hasPortal=!0),this.registerServers([r])),(e=this._findCredential(n))?(delete t.server,f.mixin(e,t),s=!1):((e=new I({userId:t.userId,server:r.server,token:t.token,expires:t.expires,ssl:t.ssl,scope:o?"server":"portal"})).resources=[n],this.credentials.push(e)),e.emitTokenChange(!1),s||e.refreshServerTokens()},e.prototype.toJSON=function(){return f.fixJson({serverInfos:this.serverInfos.map((function(t){return t.toJSON()})),oAuthInfos:this.oAuthInfos.map((function(t){return t.toJSON()})),credentials:this.credentials.map((function(t){return t.toJSON()}))})},e.prototype.initialize=function(t){var e=this;if(t){"string"==typeof t&&(t=JSON.parse(t));var i=t.serverInfos,n=t.oAuthInfos,o=t.credentials;if(i){var r=[];i.forEach((function(t){t.server&&t.tokenServiceUrl&&r.push(t.declaredClass?t:new x(t))})),r.length&&this.registerServers(r)}if(n){var s=[];n.forEach((function(t){t.appId&&s.push(t.declaredClass?t:new w(t))})),s.length&&this.registerOAuthInfos(s)}o&&o.forEach((function(t){t.server&&t.token&&t.expires&&t.expires>Date.now()&&((t=t.declaredClass?t:new I(t)).emitTokenChange(),e.credentials.push(t))}))}},e.prototype.findServerInfo=function(t){var e;t=this._sanitizeUrl(t);for(var i=0,n=this.serverInfos;i<n.length;i++){var o=n[i];if(this._hasSameServerInstance(o.server,t)){e=o;break}}return e},e.prototype.findOAuthInfo=function(t){var e;t=this._sanitizeUrl(t);for(var i=0,n=this.oAuthInfos;i<n.length;i++){var o=n[i];if(this._hasSameServerInstance(o.portalUrl,t)){e=o;break}}return e},e.prototype.findCredential=function(t,e){var i,n;if(t=this._sanitizeUrl(t),n=this._isServerRsrc(t)?"server":"portal",e)for(var o=0,r=this.credentials;o<r.length;o++){var s=r[o];if(this._hasSameServerInstance(s.server,t)&&e===s.userId&&s.scope===n){i=s;break}}else for(var a=0,d=this.credentials;a<d.length;a++){s=d[a];if(this._hasSameServerInstance(s.server,t)&&-1!==this._getIdenticalSvcIdx(t,s)&&s.scope===n){i=s;break}}return i},e.prototype.getCredential=function(t,e){var n,o,s=!0;e&&(n=!!e.token,o=e.error,s=!1!==e.prompt),e=i({},e),t=this._sanitizeUrl(t);var a=_.createAbortController(),d=_.createResolver((function(){a.abort()}));if(e&&e.signal&&_.onAbort(e.signal,(function(){a.abort()})),_.onAbort(a,(function(){d.reject(new l("identity-manager:user-aborted","ABORTED"))})),_.isAborted(a))return d.promise;e.signal=a.signal;var c,u=this._isAdminResource(t),h=n&&this._doPortalSignIn(t)?this._getEsriAuthCookie():null,p=n?this.findCredential(t):null;if(p&&o&&o.details&&498===o.details.httpStatus)p.destroy(),h&&h.token===e.token&&r("esri_auth",null,{expires:-1,path:"/",domain:document.domain});else if(h||p){var f=h&&h.email||p&&p.userId;return c=new l("identity-manager:not-authorized","You are currently signed in as: '"+f+"'. You do not have access to this resource: "+t,{error:o}),d.reject(c),d.promise}var v=this._findCredential(t,e);if(v)return d.resolve(v),d.promise;var g=this.findServerInfo(t);if(g)!g.hasServer&&this._isServerRsrc(t)&&(g._restInfoPms=this._getTokenSvcUrl(t),g.hasServer=!0);else{var m=this._getTokenSvcUrl(t);if(!m)return c=new l("identity-manager:unknown-resource","Unknown resource - could not find token service endpoint."),d.reject(c),d.promise;(g=new x).server=this._getServerInstanceRoot(t),"string"==typeof m?(g.tokenServiceUrl=m,g.hasPortal=!0):(g._restInfoPms=m,g.hasServer=!0),this.registerServers([g])}return s&&g.hasPortal&&void 0===g._selfReq&&!this._findOAuthInfo(t)&&(g._selfReq={owningTenant:e&&e.owningTenant,selfDfd:this._getPortalSelf(g.tokenServiceUrl.replace(this._rePortalTokenSvc,"/sharing/rest/portals/self"),t)}),this._enqueue(t,g,e,d,u)},e.prototype.getResourceName=function(t){return this._isRESTService(t)?t.replace(this._regexSDirUrl,"").replace(this._regexServerType,"")||"":this._gwUser.test(t)&&t.replace(this._gwUser,"$1")||this._gwItem.test(t)&&t.replace(this._gwItem,"$1")||this._gwGroup.test(t)&&t.replace(this._gwGroup,"$1")||""},e.prototype.generateToken=function(t,e,i){var n,o,r,s,a,u,h,p,v,_,y=this._rePortalTokenSvc.test(t.tokenServiceUrl),b=new m.Url(window.location.href.toLowerCase()),w=this._getEsriAuthCookie(),x=t.shortLivedTokenValidity;return e&&(_=d.id.tokenValidity||x||d.id.defaultTokenValidity)>x&&x>0&&(_=x),i&&(o=i.isAdmin,r=i.serverUrl,s=i.token,h=i.signal,p=i.ssl,t.customParameters=i.customParameters),o?a=t.adminTokenServiceUrl:(a=t.tokenServiceUrl,u=new m.Url(a.toLowerCase()),w&&(n=(n=w.auth_tier)&&n.toLowerCase()),("web"===n||t.webTierAuth)&&i&&i.serverUrl&&!p&&"http"===b.scheme&&(g.hasSameOrigin(b.uri,a,!0)||"https"===u.scheme&&b.host===u.host&&"7080"===b.port&&"7443"===u.port)&&(a=a.replace(/^https:/i,"http:").replace(/:7443/i,":7080"))),v=f.mixin({query:f.mixin({request:"getToken",username:e&&e.username,password:e&&e.password,serverUrl:r,token:s,expiration:_,referer:o||y?window.location.host:null,client:o?"referer":null,f:"json"},t.customParameters),method:"post",authMode:"anonymous",useProxy:this._useProxy(t,i),responseType:"json",signal:h},i&&i.ioArgs),y||(v.withCredentials=!1),c(a,v).then((function(i){var n=i.data;if(!n||!n.token)return new l("identity-manager:authentication-failed","Unable to generate token");var o=t.server;return C[o]||(C[o]={}),e&&(C[o][e.username]=e.password),n.validity=_,n}))},e.prototype.isBusy=function(){return!!this._busy},e.prototype.checkSignInStatus=function(t){return this.checkAppAccess(t,"").then((function(t){return t.credential}))},e.prototype.checkAppAccess=function(t,e,i){var n=this;return this.getCredential(t,{prompt:!1}).then((function(o){var r,s={f:"json"};if("portal"===o.scope)if(e&&(n._doPortalSignIn(t,!0)||i&&i.force))r=o.server+"/sharing/rest/oauth2/validateAppAccess",s.client_id=e;else{if(!o.token)return{credential:o};r=o.server+"/sharing/rest"}else{if(!o.token)return{credential:o};r=o.server+"/rest/services"}return o.token&&(s.token=o.token),c(r,{query:s,authMode:"anonymous"}).then((function(t){if(!1===t.data.valid)throw new l("identity-manager:not-authorized","You are currently signed in as: '"+o.userId+"'.");return{credential:o}})).catch((function(t){if("identity-manager:not-authorized"===t.name)throw t;var e=t.details&&t.details.httpStatus;if(498===e)throw o.destroy(),new l("identity-manager:not-authenticated","User is not signed in.");if(400===e)throw new l("identity-manager:invalid-request");return{credential:o}}))}))},e.prototype.setRedirectionHandler=function(t){this._redirectFunc=t},e.prototype.setProtocolErrorHandler=function(t){this._protocolFunc=t},e.prototype.destroyCredentials=function(){this.credentials&&this.credentials.slice().forEach((function(t){t.destroy()})),this.emit("credentials-destroy")},e.prototype._getOAuthHash=function(){var t=window.location.hash;if(t){"#"===t.charAt(0)&&(t=t.substring(1));var e=g.queryToObject(t),i=!1;e.access_token&&e.expires_in&&e.state&&e.hasOwnProperty("username")?(e.state=JSON.parse(e.state),this._oAuthHash=e,i=!0):e.error&&e.error_description&&(console.log("IdentityManager OAuth Error: ",e.error," - ",e.error_description),"access_denied"===e.error&&(i=!0)),i&&(!p("ie")||p("ie")>8)&&(window.location.hash="")}},e.prototype._pageShowHandler=function(t){if(t.persisted&&this.isBusy()&&this._rejectOnPersistedPageShow){var e=new l("identity-manager:user-aborted","ABORTED");this._errbackFunc(e)}},e.prototype._findCredential=function(t,e){var i,n,o,r,s=this,a=-1,d=e&&e.token,c=e&&e.resource,l=this._isServerRsrc(t)?"server":"portal",u=this.credentials.filter((function(e){return s._hasSameServerInstance(e.server,t)&&e.scope===l}));if(t=c||t,u.length)if(1===u.length){if(i=u[0],r=this.findServerInfo(i.server),n=r&&r.owningSystemUrl,o=n&&this.findCredential(n,i.userId),a=this._getIdenticalSvcIdx(t,i),!d)return-1===a&&i.resources.push(t),this._addResource(t,o),i;-1!==a&&(i.resources.splice(a,1),this._removeResource(t,o))}else{var h,p;if(u.some((function(e){return-1!==(p=s._getIdenticalSvcIdx(t,e))&&(h=e,r=s.findServerInfo(h.server),n=r&&r.owningSystemUrl,o=n&&s.findCredential(n,h.userId),a=p,!0)})),d)h&&(h.resources.splice(a,1),this._removeResource(t,o));else if(h)return this._addResource(t,o),h}},e.prototype._findOAuthInfo=function(t){var e=this.findOAuthInfo(t);if(!e)for(var i=0,n=this.oAuthInfos;i<n.length;i++){var o=n[i];if(this._isIdProvider(o.portalUrl,t)){e=o;break}}return e},e.prototype._addResource=function(t,e){e&&-1===this._getIdenticalSvcIdx(t,e)&&e.resources.push(t)},e.prototype._removeResource=function(t,e){var i=-1;e&&(i=this._getIdenticalSvcIdx(t,e))>-1&&e.resources.splice(i,1)},e.prototype._useProxy=function(t,e){return e&&e.isAdmin&&!g.hasSameOrigin(t.adminTokenServiceUrl,window.location.href)||!this._isPortalDomain(t.tokenServiceUrl)&&"10.1"===String(t.currentVersion)&&!g.hasSameOrigin(t.tokenServiceUrl,window.location.href)},e.prototype._getOrigin=function(t){var e=new m.Url(t);return e.scheme+"://"+e.host+(null!=e.port?":"+e.port:"")},e.prototype._getServerInstanceRoot=function(t){var e=t.toLowerCase(),i=e.indexOf(this._agsRest);return-1===i&&this._isAdminResource(t)&&(i=this._agsAdmin.test(t)?t.replace(this._agsAdmin,"$1").length:t.search(this._adminSvcs)),-1===i&&(i=e.indexOf("/sharing")),-1===i&&"/"===e.substr(-1)&&(i=e.length-1),i>-1?t.substring(0,i):t},e.prototype._hasSameServerInstance=function(t,e){return"/"===t.substr(-1)&&(t=t.slice(0,-1)),t=t.toLowerCase(),e=this._getServerInstanceRoot(e).toLowerCase(),t=this._normalizeAGOLorgDomain(t),e=this._normalizeAGOLorgDomain(e),(t=t.substr(t.indexOf(":")))===(e=e.substr(e.indexOf(":")))},e.prototype._normalizeAGOLorgDomain=function(t){var e=/^https?:\/\/.+\.maps\.arcgis\.com/i,i=/^https?:\/\/.+\.mapsdevext\.arcgis\.com/i,n=/^https?:\/\/.+\.mapsqa\.arcgis\.com/i;return e.test(t)?t=t.replace(e,"https://www.arcgis.com"):i.test(t)?t=t.replace(i,"https://devext.arcgis.com"):n.test(t)&&(t=t.replace(n,"https://qaext.arcgis.com")),t},e.prototype._sanitizeUrl=function(t){var e=(a.request.proxyUrl||"").toLowerCase(),i=e?t.toLowerCase().indexOf(e+"?"):-1;return-1!==i&&(t=t.substring(i+e.length+1)),t=g.normalize(t),g.urlToObject(t).path},e.prototype._isRESTService=function(t){return t.indexOf(this._agsRest)>-1},e.prototype._isAdminResource=function(t){return this._agsAdmin.test(t)||this._adminSvcs.test(t)},e.prototype._isServerRsrc=function(t){return this._isRESTService(t)||this._isAdminResource(t)},e.prototype._isIdenticalService=function(t,e){var i;if(this._isRESTService(t)&&this._isRESTService(e)){var n=this._getSuffix(t).toLowerCase(),o=this._getSuffix(e).toLowerCase();if(!(i=n===o)){var r=/(.*)\/(MapServer|FeatureServer).*/gi;i=n.replace(r,"$1")===o.replace(r,"$1")}}else this._isAdminResource(t)&&this._isAdminResource(e)?i=!0:this._isServerRsrc(t)||this._isServerRsrc(e)||!this._isPortalDomain(t)||(i=!0);return i},e.prototype._isPortalDomain=function(t){var e=this,i=new m.Url(t.toLowerCase()),n=this._portalConfig,o=i.authority&&-1!==i.authority.indexOf(this._agolSuffix);return!o&&n&&(o=this._hasSameServerInstance(this._getServerInstanceRoot(n.restBaseUrl),i.uri)),o||(o=this._portals.some((function(t){return e._hasSameServerInstance(t,i.uri)}))),o||this._agsPortal.test(i.path)},e.prototype._isIdProvider=function(t,e){var i=-1,n=-1;this._gwDomains.forEach((function(o,r){-1===i&&o.regex.test(t)&&(i=r),-1===n&&o.regex.test(e)&&(n=r)}));var o=!1;if(i>-1&&n>-1&&(0===i||4===i?0!==n&&4!==n||(o=!0):1===i?1!==n&&2!==n||(o=!0):2===i?2===n&&(o=!0):3===i&&3===n&&(o=!0)),!o){var r=this.findServerInfo(e),s=r&&r.owningSystemUrl;s&&S(r)&&this._isPortalDomain(s)&&this._isIdProvider(t,s)&&(o=!0)}return o},e.prototype._getIdenticalSvcIdx=function(t,e){for(var i=-1,n=0;n<e.resources.length;n++){var o=e.resources[n];if(this._isIdenticalService(t,o)){i=n;break}}return i},e.prototype._getSuffix=function(t){return t.replace(this._regexSDirUrl,"").replace(this._regexServerType,"$1")},e.prototype._getTokenSvcUrl=function(t){var e,i=this;if(this._isRESTService(t)||this._isAdminResource(t)){var n=this._getServerInstanceRoot(t);return{adminUrl:n+"/admin/generateToken",promise:c(t=n+"/rest/info",{query:{f:"json"},responseType:"json"}).then((function(t){return t.data}))}}if(this._isPortalDomain(t)){var o="";if(this._gwDomains.some((function(e){return e.regex.test(t)&&(o=e.tokenServiceUrl),!!o})),o||this._portals.some((function(e){return i._hasSameServerInstance(e,t)&&(o=e+i._gwTokenUrl),!!o})),o||-1!==(e=t.toLowerCase().indexOf("/sharing"))&&(o=t.substring(0,e)+this._gwTokenUrl),o||(o=this._getOrigin(t)+this._gwTokenUrl),o){var r=new m.Url(t).port;/^http:\/\//i.test(t)&&"7080"===r&&(o=o.replace(/:7080/i,":7443")),o=o.replace(/http:/i,"https:")}return o}if(-1!==t.toLowerCase().indexOf("premium.arcgisonline.com"))return"https://premium.arcgisonline.com/server/tokens"},e.prototype._getPortalSelf=function(t,e){return"https:"===window.location.protocol?t=t.replace(/^http:/i,"https:").replace(/:7080/i,":7443"):/^http:/i.test(e)&&(t=t.replace(/^https:/i,"http:").replace(/:7443/i,":7080")),c(t,{query:{f:"json"},authMode:"anonymous",responseType:"json",withCredentials:!0}).then((function(t){return t.data}))},e.prototype._hasPortalSession=function(){return!!this._getEsriAuthCookie()},e.prototype._getEsriAuthCookie=function(){var t=null;if(navigator.cookieEnabled)for(var e=this._getAllCookies("esri_auth"),i=0;i<e.length;i++){var n=JSON.parse(e[i]);if(n.portalApp){t=n;break}}if(t){var o=null;t.expires&&("number"==typeof t.expires?o=t.expires:"string"==typeof t.expires&&(o=Date.parse(t.expires)),isNaN(o)&&(o=null),t.expires=o),o&&o<Date.now()&&(t=null)}return t},e.prototype._getAllCookies=function(t){var e=[],i=document.cookie.match(new RegExp("(?:^|; )"+s.escapeString(t)+"=([^;]*)","g"));if(i)for(var n=0;n<i.length;n++){var o=i[n],r=o.indexOf("=");r>-1&&(o=o.substring(r+1),e.push(decodeURIComponent(o)))}return e},e.prototype._doPortalSignIn=function(t,e){if(r.isSupported()){var i=this._getEsriAuthCookie(),n=this._portalConfig,o=window.location.href,s=this.findServerInfo(t);if((e||this.useSignInPage)&&(n||this._isPortalDomain(o)||i)&&(s?s.hasPortal||s.owningSystemUrl&&this._isPortalDomain(s.owningSystemUrl):this._isPortalDomain(t))&&(this._isIdProvider(o,t)||n&&(this._hasSameServerInstance(this._getServerInstanceRoot(n.restBaseUrl),t)||this._isIdProvider(n.restBaseUrl,t))||g.hasSameOrigin(o,t,!0)))return!0}return!1},e.prototype._canUsePortalSignInWorkflow=function(t){return this._doPortalSignIn(t)&&(window===window.top||this._hasPortalSession())},e.prototype._checkProtocol=function(t,e,i,n){var o=!0,r=n?e.adminTokenServiceUrl:e.tokenServiceUrl;return 0===r.trim().toLowerCase().indexOf("https:")&&0!==window.location.href.toLowerCase().indexOf("https:")&&g.getProxyRule(r)&&!(o=!!this._protocolFunc&&!!this._protocolFunc({resourceUrl:t,serverInfo:e}))&&i(new l("identity-manager:aborted","Aborted the Sign-In process to avoid sending password over insecure connection.")),o},e.prototype._enqueue=function(t,e,i,n,o,r){return n||(n=_.createResolver()),n.resUrl_=t,n.sinfo_=e,n.options_=i,n.admin_=o,n.refresh_=r,this._busy?this._hasSameServerInstance(this._getServerInstanceRoot(t),this._busy.resUrl_)?(this._oAuthDfd&&this._oAuthDfd.oAuthWin_&&this._oAuthDfd.oAuthWin_.focus(),this._soReqs.push(n)):this._xoReqs.push(n):this._doSignIn(n),n.promise},e.prototype._doSignIn=function(t){var e=this;this._busy=t,this._rejectOnPersistedPageShow=!1;var i=function(i){var n=t.options_&&t.options_.resource,o=t.resUrl_,r=t.refresh_,s=!1;-1===e.credentials.indexOf(i)&&(r&&-1!==e.credentials.indexOf(r)?(r.userId=i.userId,r.token=i.token,r.expires=i.expires,r.validity=i.validity,r.ssl=i.ssl,r.creationTime=i.creationTime,s=!0,i=r):e.credentials.push(i)),i.resources||(i.resources=[]),i.resources.push(n||o),i.scope=e._isServerRsrc(o)?"server":"portal",i.emitTokenChange();var a=e._soReqs,d={};e._soReqs=[],a.forEach((function(t){if(!e._isIdenticalService(o,t.resUrl_)){var n=e._getSuffix(t.resUrl_);d[n]||(d[n]=!0,i.resources.push(t.resUrl_))}})),t.resolve(i),a.forEach((function(t){e._hasSameServerInstance(e._getServerInstanceRoot(o),t.resUrl_)?t.resolve(i):e._soReqs.push(t)})),e._busy=t.resUrl_=t.sinfo_=t.refresh_=null,s||e.emit("credential-create",{credential:i}),e._soReqs.length?e._doSignIn(e._soReqs.shift()):e._xoReqs.length&&e._doSignIn(e._xoReqs.shift())},n=function(i){t.reject(i),e._busy=t.resUrl_=t.sinfo_=t.refresh_=null,e._soReqs.length?e._doSignIn(e._soReqs.shift()):e._xoReqs.length&&e._doSignIn(e._xoReqs.shift())},o=function(o,r,s,a){var d,c,u=t.sinfo_,h=!t.options_||!1!==t.options_.prompt,p=u.hasPortal&&e._findOAuthInfo(t.resUrl_);if(e._canUsePortalSignInWorkflow(t.resUrl_)){var f=e._getEsriAuthCookie(),v=e._portalConfig;if(f)return u.webTierAuth||"web"===(f.auth_tier&&f.auth_tier.toLowerCase())&&(u.webTierAuth=!0),void i(new I({userId:f.email,server:u.server,token:u.webTierAuth?null:f.token,expires:f.expires}));if(h){var _="",g=window.location.href;return _=(_=e.signInPage?e.signInPage:v?v.baseUrl+v.signin:e._isIdProvider(g,t.resUrl_)?e._getOrigin(g)+"/home/signin.html":u.tokenServiceUrl.replace(e._rePortalTokenSvc,"")+"/home/signin.html").replace(/http:/i,"https:"),v&&!1===v.useSSL&&(_=_.replace(/https:/i,"http:")),void(0===g.toLowerCase().replace("https","http").indexOf(_.toLowerCase().replace("https","http"))?(c=new l("identity-manager:unexpected-error","Cannot redirect to Sign-In page from within Sign-In page. URL of the resource that triggered this workflow: "+t.resUrl_),n(c)):(e._rejectOnPersistedPageShow=!0,e._redirectFunc?e._redirectFunc({signInPage:_,returnUrlParamName:"returnUrl",returnUrl:g,resourceUrl:t.resUrl_,serverInfo:u}):window.location.href=_+"?returnUrl="+encodeURIComponent(g)))}c=new l("identity-manager:not-authenticated","User is not signed in."),n(c)}else if(o)i(new I({userId:o,server:u.server,token:s,expires:null!=a?Number(a):null,ssl:!!r}));else if(p){var m=p._oAuthCred;if(!m){var y=new b(p,window.localStorage),w=new b(p,window.sessionStorage);y.isValid()&&w.isValid()?y.expires>w.expires?(m=y,w.destroy()):(m=w,y.destroy()):m=y.isValid()?y:w,p._oAuthCred=m}if(m.isValid())i(new I({userId:m.userId,server:u.server,token:m.token,expires:m.expires,ssl:m.ssl,_oAuthCred:m}));else if(e._oAuthHash&&e._oAuthHash.state.portalUrl===p.portalUrl){var x=e._oAuthHash;d=new I({userId:x.username,server:u.server,token:x.access_token,expires:Date.now()+1e3*Number(x.expires_in),ssl:"true"===x.ssl,oAuthState:x.state,_oAuthCred:m}),m.storage=x.persist?window.localStorage:window.sessionStorage,m.token=d.token,m.expires=d.expires,m.userId=d.userId,m.ssl=d.ssl,m.save(),e._oAuthHash=null,i(d)}else h?t._pendingDfd=e.oAuthSignIn(t.resUrl_,u,p,t.options_).then(i,n):(c=new l("identity-manager:not-authenticated","User is not signed in."),n(c))}else if(h){if(e._checkProtocol(t.resUrl_,u,n,t.admin_)){var C=t.options_;t.admin_&&((C=C||{}).isAdmin=!0),t._pendingDfd=e.signIn(t.resUrl_,u,C).then(i,n)}}else c=new l("identity-manager:not-authenticated","User is not signed in."),n(c)},r=function(){var o,r,s,a,d=t.sinfo_,c=d.owningSystemUrl,l=t.options_;if(l&&(o=l.token,r=l.error,s=l.prompt),!(a=e._findCredential(c,{token:o,resource:t.resUrl_})))for(var u=0,h=e.credentials;u<h.length;u++){var p=h[u];if(e._isIdProvider(c,p.server)){a=p;break}}if(a){var f=e.findCredential(t.resUrl_,a.userId);if(f)i(f);else if(N(d,e._legacyFed)){(p=a.toJSON()).server=d.server,p.resources=null,i(new I(p))}else{(t._pendingDfd=e.generateToken(e.findServerInfo(a.server),null,{serverUrl:t.resUrl_,token:a.token,signal:t.options_.signal,ssl:a.ssl})).then((function(e){i(new I({userId:a.userId,server:d.server,token:e.token,expires:null!=e.expires?Number(e.expires):null,ssl:!!e.ssl,isAdmin:t.admin_,validity:e.validity}))}),n)}}else e._busy=null,o&&(t.options_.token=null),(t._pendingDfd=e.getCredential(c.replace(/\/?$/,"/sharing"),{resource:t.resUrl_,owningTenant:d.owningTenant,signal:t.options_.signal,token:o,error:r,prompt:s})).then((function(i){e._enqueue(t.resUrl_,t.sinfo_,t.options_,t,t.admin_)}),(function(t){n(t)}))};this._errbackFunc=n;var s=t.sinfo_.owningSystemUrl,a=this._isServerRsrc(t.resUrl_),d=t.sinfo_._restInfoPms;d?d.promise.then((function(i){var n=t.sinfo_;if(n._restInfoPms){n.adminTokenServiceUrl=n._restInfoPms.adminUrl,n._restInfoPms=null,n.tokenServiceUrl=v.getDeepValue("authInfo.tokenServicesUrl",i)||v.getDeepValue("authInfo.tokenServiceUrl",i)||v.getDeepValue("tokenServiceUrl",i),n.shortLivedTokenValidity=v.getDeepValue("authInfo.shortLivedTokenValidity",i),n.currentVersion=i.currentVersion,n.owningTenant=i.owningTenant;var s=n.owningSystemUrl=i.owningSystemUrl;s&&e._portals.push(s)}a&&n.owningSystemUrl?r():o()}),(function(){t.sinfo_._restInfoPms=null;var e=new l("identity-manager:server-identification-failed","Unknown resource - could not find token service endpoint.");n(e)})):a&&s?r():t.sinfo_._selfReq?t.sinfo_._selfReq.selfDfd.then((function(i){var n,o,r,s,a={};return i&&(n=i.user&&i.user.username,a.username=n,a.allSSL=i.allSSL,o=i.supportsOAuth,r=i.currentVersion,"multitenant"===i.portalMode&&(s=i.customBaseUrl)),t.sinfo_.webTierAuth=!!n,n&&e.normalizeWebTierAuth?e.generateToken(t.sinfo_,null,{ssl:a.allSSL}).catch((function(){return null})).then((function(t){return a.portalToken=t&&t.token,a.tokenExpiration=t&&t.expires,a})):!n&&o&&parseFloat(r)>=4.4&&!e._canUsePortalSignInWorkflow(t.resUrl_)?e._generateOAuthInfo({portalUrl:t.sinfo_.server,customBaseUrl:s,owningTenant:t.sinfo_._selfReq.owningTenant}).catch((function(){return null})).then((function(){return a})):a})).catch((function(){return null})).then((function(e){t.sinfo_._selfReq=null,e?o(e.username,e.allSSL,e.portalToken,e.tokenExpiration):o()})):o()},e.prototype._generateOAuthInfo=function(t){var e,i,n=this,o=t.portalUrl,r=t.customBaseUrl,s=t.owningTenant,a=!this.defaultOAuthInfo&&this._createDefaultOAuthInfo&&!this._hasTestedIfAppIsOnPortal;if(a){var d=(i=window.location.href).indexOf("?");d>-1&&(i=i.slice(0,d)),d=i.search(/\/(apps|home)\//),i=d>-1?i.slice(0,d):null}return a&&i?(this._hasTestedIfAppIsOnPortal=!0,e=c(i+"/sharing/rest",{query:{f:"json"},responseType:"json"}).then((function(){n.defaultOAuthInfo=new w({appId:"arcgisonline",popup:!0,popupCallbackUrl:i+"/home/oauth-callback.html"})}))):e=_.resolve(),e.then((function(){if(n.defaultOAuthInfo)return o=o.replace(/^http:/i,"https:"),c(o+"/sharing/rest/oauth2/validateRedirectUri",{query:{accountId:s,client_id:n.defaultOAuthInfo.appId,redirect_uri:g.makeAbsolute(n.defaultOAuthInfo.popupCallbackUrl),f:"json"},responseType:"json"}).then((function(t){if(t.data.valid){var e=n.defaultOAuthInfo.clone();t.data.urlKey&&r?e.portalUrl="https://"+t.data.urlKey+"."+r:e.portalUrl=o,n.oAuthInfos.push(e)}}))}))},o([y.subclass("esri.identity.IdentityManagerBase")],e)}(y.declared(u));e.IdentityManagerBase=T;var I=function(t){function e(e){var i=t.call(this)||this;return i._oAuthCred=null,i.tokenRefreshBuffer=2,e&&e._oAuthCred&&(i._oAuthCred=e._oAuthCred),i}return n(e,t),e.prototype.initialize=function(){this.resources=this.resources||[],null==this.creationTime&&(this.creationTime=Date.now())},e.prototype.refreshToken=function(){var t,e,i=this,n=d.id.findServerInfo(this.server),o=n&&n.owningSystemUrl,r=!!o&&"server"===this.scope,s=r&&N(n,d.id._legacyFed),a=n.webTierAuth,c=a&&d.id.normalizeWebTierAuth,l=C[this.server],u=l&&l[this.userId],h=this.resources&&this.resources[0],p=r&&d.id.findServerInfo(o),f={username:this.userId,password:u};if((!a||c)&&(r&&!p&&d.id.serverInfos.some((function(t){return d.id._isIdProvider(o,t.server)&&(p=t),!!p})),t=p&&d.id.findCredential(p.server,this.userId),!r||t)){if(s)return void t.refreshToken();if(r)e={serverUrl:h,token:t&&t.token,ssl:t&&t.ssl};else if(c)f=null,e={ssl:this.ssl};else{if(!u){var v=void 0;return h&&(h=d.id._sanitizeUrl(h),this._enqueued=1,(v=d.id._enqueue(h,n,null,null,this.isAdmin,this)).then((function(){i._enqueued=0,i.refreshServerTokens()})).catch((function(){i._enqueued=0}))),v}this.isAdmin&&(e={isAdmin:!0})}return d.id.generateToken(r?p:n,r?null:f,e).then((function(t){i.token=t.token,i.expires=null!=t.expires?Number(t.expires):null,i.creationTime=Date.now(),i.validity=t.validity,i.emitTokenChange(),i.refreshServerTokens()})).catch((function(){}))}},e.prototype.refreshServerTokens=function(){var t=this;"portal"===this.scope&&d.id.credentials.forEach((function(e){var i=d.id.findServerInfo(e.server),n=i&&i.owningSystemUrl;e!==t&&e.userId===t.userId&&n&&"server"===e.scope&&(d.id._hasSameServerInstance(t.server,n)||d.id._isIdProvider(n,t.server))&&(N(i,d.id._legacyFed)?(e.token=t.token,e.expires=t.expires,e.creationTime=t.creationTime,e.validity=t.validity,e.emitTokenChange()):e.refreshToken())}))},e.prototype.emitTokenChange=function(t){clearTimeout(this._refreshTimer);var e=this.server&&d.id.findServerInfo(this.server),i=e&&e.owningSystemUrl,n=i&&d.id.findServerInfo(i);!1===t||i&&"portal"!==this.scope&&(!n||!n.webTierAuth||d.id.normalizeWebTierAuth)||null==this.expires&&null==this.validity||this._startRefreshTimer(),this.emit("token-change")},e.prototype.destroy=function(){this.userId=this.server=this.token=this.expires=this.validity=this.resources=this.creationTime=null,this._oAuthCred&&(this._oAuthCred.destroy(),this._oAuthCred=null);var t=d.id.credentials.indexOf(this);t>-1&&d.id.credentials.splice(t,1),this.emitTokenChange(),this.emit("destroy")},e.prototype.toJSON=function(){var t=f.fixJson({userId:this.userId,server:this.server,token:this.token,expires:this.expires,validity:this.validity,ssl:this.ssl,isAdmin:this.isAdmin,creationTime:this.creationTime,scope:this.scope}),e=this.resources;return e&&e.length>0&&(t.resources=e.slice()),t},e.prototype._startRefreshTimer=function(){clearTimeout(this._refreshTimer);var t=6e4*this.tokenRefreshBuffer,e=(this.validity?this.creationTime+6e4*this.validity:this.expires)-Date.now();e<0&&(e=0),this._refreshTimer=setTimeout(this.refreshToken.bind(this),e>t?e-t:e)},o([y.property()],e.prototype,"creationTime",void 0),o([y.property()],e.prototype,"expires",void 0),o([y.property()],e.prototype,"isAdmin",void 0),o([y.property()],e.prototype,"oAuthState",void 0),o([y.property()],e.prototype,"resources",void 0),o([y.property()],e.prototype,"scope",void 0),o([y.property()],e.prototype,"server",void 0),o([y.property()],e.prototype,"ssl",void 0),o([y.property()],e.prototype,"token",void 0),o([y.property()],e.prototype,"tokenRefreshBuffer",void 0),o([y.property()],e.prototype,"userId",void 0),o([y.property()],e.prototype,"validity",void 0),o([y.subclass("esri.identity.Credential")],e)}(y.declared(u.EventedAccessor));e.Credential=I}.apply(null,n))||(t.exports=o)},899:function(t,e,i){var n,o;n=[i(61),i(63),i(1205)],void 0===(o=function(t,e){return e(t,"esri/identity/nls/identity",i.dj.c(),!1)}.apply(null,n))||(t.exports=o)},900:function(t,e,i){var n,o;n=[i.dj.c(t.i),i(273),i(659),i(25),i(24),i(22),i(723),i(901),i(1206),i(1207),i(770)],void 0===(o=function(t,e,i,n,o,r,s,a,d,c){n("dijit-legacy-requires")&&s(0,(function(){t(["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"])}));var l=e("dijit.form.Button"+(n("dojo-bidi")?"_NoBidi":""),[a,d],{showLabel:!0,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:c,_setValueAttr:"valueNode",_setNameAttr:function(t){this.valueNode&&this.valueNode.setAttribute("name",t)},postCreate:function(){this.inherited(arguments),this._setLabelFromContainer()},_setLabelFromContainer:function(){this.containerNode&&!this.label&&(this.label=r.trim(this.containerNode.innerHTML),this.onLabelSet())},_setShowLabelAttr:function(t){this.containerNode&&i.toggle(this.containerNode,"dijitDisplayNone",!t),this._set("showLabel",t)},setLabel:function(t){o.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0"),this.set("label",t)},onLabelSet:function(){this.inherited(arguments),this.showLabel||"title"in this.params||(this.titleNode.title=r.trim(this.containerNode.innerText||this.containerNode.textContent||""))}});return n("dojo-bidi")&&(l=e("dijit.form.Button",l,{onLabelSet:function(){this.inherited(arguments),this.titleNode.title&&this.applyTextDir(this.titleNode,this.titleNode.title)},_setTextDirAttr:function(t){this._created&&this.textDir!=t&&(this._set("textDir",t),this._setLabelAttr(this.label))}})),l}.apply(null,n))||(t.exports=o)},901:function(t,e,i){var n,o;n=[i(273),i(68),i(24),i(723),i(725),i(893),i(733),i(902)],void 0===(o=function(t,e,i,n,o,r,s,a){return e("dijit-legacy-requires")&&n(0,(function(){require(["dijit/form/_FormValueWidget"])})),t("dijit.form._FormWidget",[o,s,r,a],{setDisabled:function(t){i.deprecated("setDisabled("+t+") is deprecated. Use set('disabled',"+t+") instead.","","2.0"),this.set("disabled",t)},setValue:function(t){i.deprecated("dijit.form._FormWidget:setValue("+t+") is deprecated.  Use set('value',"+t+") instead.","","2.0"),this.set("value",t)},getValue:function(){return i.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0"),this.get("value")},postMixInProperties:function(){this.nameAttrSetting=this.name&&!e("msapp")?'name="'+this.name.replace(/"/g,"&quot;")+'"':"",this.inherited(arguments)}})}.apply(null,n))||(t.exports=o)},902:function(t,e,i){var n,o;n=[i(59),i(273),i(662),i(638),i(22),i(722),i(117),i(68),i(705),i(810)],void 0===(o=function(t,e,i,n,o,r,s,a,d,c){return e("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,scrollOnFocus:!0,_setIdAttr:"focusNode",_setDisabledAttr:function(e){if(this._set("disabled",e),/^(button|input|select|textarea|optgroup|option|fieldset)$/i.test(this.focusNode.tagName)?(i.set(this.focusNode,"disabled",e),a("trident")&&"readOnly"in this&&i.set(this.focusNode,"readonly",e||this.readOnly)):this.focusNode.setAttribute("aria-disabled",e?"true":"false"),this.valueNode&&i.set(this.valueNode,"disabled",e),e){this._set("hovering",!1),this._set("active",!1);var n="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in this?this._setTabIndexAttr:"focusNode";t.forEach(o.isArray(n)?n:[n],(function(t){var e=this[t];a("webkit")||c.hasDefaultTabStop(e)?e.setAttribute("tabIndex","-1"):e.removeAttribute("tabIndex")}),this)}else""!=this.tabIndex&&this.set("tabIndex",this.tabIndex)},_onFocus:function(t){if("mouse"==t&&this.isFocusable())var e=this.own(s(this.focusNode,"focus",(function(){n.remove(),e.remove()})))[0],i=a("pointer-events")?"pointerup":a("touch-events")?"touchend, mouseup":"mouseup",n=this.own(s(this.ownerDocumentBody,i,o.hitch(this,(function(t){n.remove(),e.remove(),this.focused&&("touchend"==t.type?this.defer("focus"):this.focus())}))))[0];this.scrollOnFocus&&this.defer((function(){d.scrollIntoView(this.domNode)})),this.inherited(arguments)},isFocusable:function(){return!this.disabled&&this.focusNode&&"none"!=n.get(this.domNode,"display")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(t){}},compare:function(t,e){return"number"==typeof t&&"number"==typeof e?isNaN(t)&&isNaN(e)?0:t-e:t>e?1:t<e?-1:0},onChange:function(){},_onChangeActive:!1,_handleOnChange:function(t,e){null!=this._lastValueReported||null!==e&&this._onChangeActive||(this._resetValue=this._lastValueReported=t),this._pendingOnChange=this._pendingOnChange||typeof t!=typeof this._lastValueReported||0!=this.compare(t,this._lastValueReported),(this.intermediateChanges||e||void 0===e)&&this._pendingOnChange&&(this._lastValueReported=t,this._pendingOnChange=!1,this._onChangeActive&&(this._onChangeHandle&&this._onChangeHandle.remove(),this._onChangeHandle=this.defer((function(){this._onChangeHandle=null,this.onChange(t)}))))},create:function(){this.inherited(arguments),this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&(this._onChangeHandle.remove(),this.onChange(this._lastValueReported)),this.inherited(arguments)}})}.apply(null,n))||(t.exports=o)}}]);